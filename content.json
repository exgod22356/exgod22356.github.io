{"pages":[{"title":"","text":"A simple, delicate, and modern theme for the static site generator Hexo. Preview | Documentation | Chat on Gitter ğŸ’¿ Installation12$ npm install hexo-theme-icarus$ hexo config theme icarus Please refer to Getting Started with Icarus for more details. ğŸ FeaturesCyberpunk Theme VariantTap into the future cyber world with the newly added Cyberpunk theme variant. Inspired by Cyberpunk 2077. Extensive Plugin SupportIcarus includes plentiful search, comment, sharing and other plugins out of the box that makes your blog feature-rich and powerful. Comment Changyan Â· Disqus Â· DisqusJS Â· Facebook Â· Gitalk Â· Gitment Â· Isso Â· LiveRe Â· Utterance Â· Valine Donate Button Afdian.net Â· Alipay Â· Buy me a coffee Â· Patreon Â· Paypal Â· Wecat Search Algolia Â· Baidu Â· Google CSE Â· Insight Share AddThis Â· AddToAny Â· Baidu Share Â· Share.js Â· ShareThis Widgets Google Adsense Â· Archives Â· Categories Â· External Site Links Â· Recent Posts Â· Google Feedburner Â· Tags Â· Table of Contents Analytics Baidu Statistics Â· Bing Webmaster Â· BuSuanZi Web Counter Â· CNZZ Statistics Â· Google Analytics Â· Hotjar Â· StatCounter Â· Twitter Conversion Tracking Other Plugins Cookie Consent Â· LightGallery Â· Justified Gallery Â· KaTeX Â· MathJax Â· Oudated Browser Â· Page Loading Animations Colorful Code HighlightIcarus directly import stylesheets from the highlight.js package and makes more than 90 code highlight themes available to you. Atom One Light Monokai Kimbie Dark Flexible Theme ConfigurationIcarus allows you to configure your site on a per-page or per-layout basis. _config.icarus.yml12345widgets: - type: profile position: left - type: recent_posts position: right post.md12345widgets: - type: profile position: left - type: recent_posts position: left _config.page.yml1widgets: null Responsive LayoutGive your audiences best viewing experience with Icarusâ€™s mobile-friendly responsive layout. ğŸ”¨ DevelopmentThis project is built with Hexo Inferno.js Stylus Bulma Please refer to the documentation and contributing guide for implementation details. ğŸ‰ ContributeIf you feel like to help us build a better Icarus, you can âœ’ Submit a tutorial | ğŸŒ Add a translation | ğŸš© Report a bug | ğŸ”Œ Suggest a new feature ğŸ“ LicenseThis project is licensed under the MIT License - see the LICENSE file for details. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/about/index.html"}],"posts":[{"title":"The Road Not Taken","text":"The Road Not Takenby Robert Frost Two roads diverged in a yellow wood,And sorry I could not travel bothAnd be one traveler, long I stoodAnd looked down one as far as I couldTo where it bent in the undergrowth Then took the other, as just as fair,And having perhaps the better claim,Because it was grassy and wanted wear;Tough as for that the passing thereHad worn them really about the same, And both that morning equally layIn leaves no step had trodden black.Oh,I kept the first for another day!Yet knowing how way leads on to way,I doubted if I should ever come back. I shall be telling this with a sighSomewhere ages and ages hence:Two roads diverged in a wood, and Iâ€“I took the one less traveled by,And that has made all the difference. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/the-road-not-taken/"},{"title":"hello world","text":"æœ¬æ–‡ä¸»è¦ä»‹ç»å„ç§è¯­è¨€ä¸­â€œhello worldâ€ç¨‹åºçš„å†™æ³•ã€‚ å‰ç½®çŸ¥è¯†ï¼š æ—  Cè¯­è¨€ï¼š12345678910111213141516#include &lt;stdio.h&gt;int main(){ printf(\"hello world\\n\"); return 0;}``` ### C++```c++#include &lt;iostream&gt;using namespace std;int main(){ cout&lt;&lt;\"hello world\"&lt;&lt;endl; return 0;} Python 31print(\"hello world\") Pyhton 21print \"hello world\" PHP123&lt;?phpecho \"hello world\"?&gt; Javaå› ä¸ºä»£ç è¿‡é•¿è€Œæ‡’å¾—å†™ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/hello-world/"},{"title":"The first blog","text":"è¿™é‡Œæ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ã€‚ ç”±äºè´«ç©·çš„åŸå› ï¼Œæ‡’å¾—ç»­è´¹é˜¿é‡Œäº‘å’ŒåŸŸåï¼Œç°å°†åšå®¢æ­åˆ°Githubä¸Šã€‚å°†æ¥ä¹Ÿå°†é™†ç»­å°†å„ç§æ–‡ç« å†™åœ¨è¿™é‡Œã€‚åŸæ¥å†™è¿‡çš„æ–‡ç« ä¹Ÿä¼šè¡¥åœ¨è¿™é‡Œã€‚é¢„è®¡æœ‰æ—¶é—´å»æ³¨å†Œä¸ªå…è´¹åŸŸåã€‚å…³äºåˆ†åŒºï¼šç§‘å­¦/Science ï¼šæŠ€æœ¯ç±»æ–‡ç« ã€‚æµªæ¼«/Romance ï¼šç”Ÿæ´»ï¼Œäººæ–‡ç±»æ–‡ç« ã€‚å…‹è‹é²/Cthulhu ï¼šå¥‡å¥‡æ€ªæ€ªçš„æ–‡ç« ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Ego/the-first-blog/"},{"title":"When You Are Old","text":"When You Are Oldby William Butler Yeats When you are old and grey and full of sleep,And nodding by the fire, take down this book,And slowly read, and dream of the soft lookYour eyes hd once, and of their shadow deep; How many loved your moments of glad grace,And loved your beauty with love false or true,But one man loved the pilgrim soul in you,And loved the sorrows of your changing face; And bending down beside the glowing bars,Murmur, a little sadly, how Love fled.And paced upon the mountains overhead.And hid his face amid a crowd of stars. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/when-you-are-old/"},{"title":"Sonnet 18","text":"Sonnet 18by William Shakespeare Shall I compare thee to a summerâ€™s day?Thou art more lovely and more temperate.Rough winds do shake the darling buds of May,And summerâ€™s lease hath all too short a date. Sometime too hot the eye of heaven shines,And often is his gold complexion dimmâ€™d;And every fair to fair sometime declines,By chance or natureâ€™s changing course untrimmed. But thy eternal summer shall not fade,Nor lose possession of that fair thou owâ€™st;Nor shall Death brag thou wanderâ€™st in his shade,When in eternal lines to time thou growâ€™st. So long as men can breathe or eyes can see,So long lives this, and this gives life to thee. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/sonnet-18/"},{"title":"How Do I Love Thee","text":"How do Love Theeby Elizabeth Barrett Browning How do I love thee? Let me count the ways.I love thee to the depth and breadth and heightMy soul can reach, when feeling out of sightFor the ends of Being and ideal Grace.I love thee to the level of everydayâ€™sMost quiet need, by sun and candlelight.I love thee freely, as men strive or Right;I love thee purely, as they turn for Praise.I love thee with the passion put to useIn my old griefs, and with my childhoodâ€™s faith.I love thee with a love I seemed to loseWith my lost saints. I love thee with the breath,Smiles, tears, of all my life; and if God choose,I shall but love thee better after death. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/how-do-i-love-thee/"},{"title":"She Walks in Beauty","text":"She Walks in Beautyby Lord Byron She walks in beauty, like the nightOf cloudless climes and starry skies;And all thatâ€™s best of dark and brightMeet in her aspect and her eyes;Thus mellowed to that tender lightWhich heaven to gaudy day denies? One shade the more, one ray the less,Had half impaired the nameless graceWhich waves in every raven tress,Or softly lightens oâ€™er her face;Where thoughts serenely sweet express,How pure, how dear theyâ€™re dwelling-place. And on that cheek, and oâ€™er that brow,So soft, so calm, yet eloquent,The smiles that win, the tints that glow,But tell of days in goodness spent,A mind at peace with all below,A heart whose love is innocent! document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/she-walks-in-beauty/"},{"title":"When We Two Parted","text":"When We Two Partedby Lord Byron When we two partedIn silence and tears,Half broken-hearted,To sever for years,Pale grew thy cheek and cold,Colder thy kiss;Truly that hour foretoldSorrow to this. The dew of the morningSank chill on my browâ€“It felt like the warningOf what I feel now.Thy vows are all broken,And light is thy fame:I hear thy name spoken,And share in its shame. They name thee before me,A knell to mine ear;A shudder comes oâ€™er meâ€“Why wert thou so dear?They know not I knew thee,Who knew thee too wellâ€“Long, long shall I rue thee.Too deeply to tell. In secret we metâ€“In science we grieveThat thy heart could forget,Thy spirit deceive.If I should meet theeAfter long years,How should I greet thee?With silence and tears. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/when-we-two-parted/"},{"title":"To His Coy Mistress","text":"To His Coy Mistressby Andrew Marvel Had we but world enough, and time,This coyness, lady, were no crime.We would sit down, and think which wayTo walk, and pass our long loveâ€™s day.Thou by the Indian Gangesâ€™ sideShouldst rubies find: I by the tideOf Humber would complain. I wouldLove you ten years before the Flood,And you should, if you please, refuseTill the conversion of Jews.My vegetable love should growVaster than empires, and more slow;An hundred years should go to praiseThine eyes and on thy forehead gaze;Two hundred to adore each breast;But thirty thousand to the rest;An age at least to every part,And the last age should show your heart;For, Lady, you deserve this state,Nor would I love at lower rate.But at my back I always hearTimeâ€™s wingÃ¨d chariot hurrying near;And yonder all before us lieDeserts of vast eternity.Thy beauty shall no more be found,Nor, in thy marble vault, shall soundMy echoing song: then worms shall tryThat long preserved virginity,And your quaint honour turn to dust,And into ashes all my lust:The graveâ€™s a fine and private place,But none, I think, do there embrace.Now therefore, while the youthful hueSits on thy skin like morning dew,And while thy willing soul transpiresAt every pore with instant fires,Now let us sport us while we may,And now, like amorous birds of prey,Rather at once our time devourThan languish in his slow-chapt power.Let us roll all our strength and allOur sweetness up into one ball,And tear our pleasures with rough strifeThorough the iron gates of life:Thus, though we cannot make our sunStand still, yet we will make him run. document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/to-his-coy-mistress/"},{"title":"æ´›è°·P2357å®ˆå¢“äººé¢˜è§£","text":"é¢˜è§£ å‰ç½®çŸ¥è¯†ï¼š C++ æ•°æ®ç»“æ„ é¢˜ç›®é“¾æ¥P2357 å®ˆå¢“äºº è§£é¢˜æ€è·¯çº¿æ®µæ ‘oræ ‘çŠ¶æ•°ç»„è£¸é¢˜æœ¬é¢˜è§£ç”¨çš„å¯åŒºé—´æ›´æ–°çš„æ ‘çŠ¶æ•°ç»„æ•°æ®èŒƒå›´ä¼šçˆ†int,æ‰€ä»¥ç”¨long long ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192#include&lt;cstdio&gt;#include&lt;cstring&gt;using namespace std;long long sum[200010];long long lazytag[200010];int n;inline int lowbit(int x){ return x&amp;(-x);}long long suum(int i,long long k[]){ long long s=0; while(i&gt;0) { s+=k[i]; i-=lowbit(i); } return s;}void update(int x,long long a,long long k[]){ while(x&lt;=n) { k[x]+=a; x+=lowbit(x); }}void uprange(int x,int y,long long a){ update(x,-(x-1)*a,sum); update(x,a,lazytag); update(y+1,y*a,sum); update(y+1,-a,lazytag);}long long rangesum(int i,int j){ long long s=0; s+=suum(j,sum)+suum(j,lazytag)*j; s-=suum(i-1,sum)+suum(i-1,lazytag)*(i-1); return s;}int main(){ int f; scanf(\"%d%d\",&amp;n,&amp;f); long long i,j,x,y,su; int t; memset(sum,0,sizeof(sum)); memset(lazytag,0,sizeof(lazytag)); for(i=1;i&lt;=n;i++) { scanf(\"%d\",&amp;t); update(i,t,sum); } for(i=0;i&lt;f;i++) { scanf(\"%lld\",&amp;t); if(t==1) { scanf(\"%lld%lld%lld\",&amp;x,&amp;y,&amp;su); uprange(x,y,su); } if(t==2) { scanf(\"%lld\",&amp;su); uprange(1,1,su); } if(t==3) { scanf(\"%d\",&amp;su); uprange(1,1,-su); } if(t==4) { scanf(\"%lld%lld\",&amp;x,&amp;y); printf(\"%lld\\n\",rangesum(x,y)); } if(t==5) { printf(\"%lld\\n\",rangesum(1,1)); } }} document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E6%B4%9B%E8%B0%B7p2357%E5%AE%88%E5%A2%93%E4%BA%BA%E9%A2%98%E8%A7%A3/"},{"title":"ACè‡ªåŠ¨æœºæ¨¡æ¿","text":"é¢˜è§£ å‰ç½®çŸ¥è¯†ï¼š C++ æ•°æ®ç»“æ„ é¢˜ç›®é“¾æ¥P3808 ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœºï¼ˆç®€å•ç‰ˆï¼‰P3808 ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœºï¼ˆåŠ å¼ºç‰ˆï¼‰ è§£é¢˜æ€è·¯ç¬¬ä¸€é¢˜ï¼šåœ¨æ–‡æœ¬ä¸²ä¸­ï¼Œå¯»æ‰¾æœ‰å¤šå°‘æ¨¡å¼ä¸²å‡ºç°è¿‡ã€‚ç¬¬äºŒé¢˜ï¼šåœ¨æ–‡æœ¬ä¸²ä¸­ï¼Œæ‰¾åˆ°å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ¨¡å¼ä¸²ï¼Œå¹¶ä¸”è¾“å‡ºã€‚å¦‚æœ‰å¤šä¸ªç»“æœåˆ™è¾“å‡ºå¤šä¸ªã€‚ä¸¤é¢˜çš„æœ¬è´¨éƒ½æ˜¯ACè‡ªåŠ¨æœºã€‚å…ˆæ„å»ºTrieæ ‘ï¼Œç„¶åä¾æ®KMPçš„æ€æƒ³ï¼Œæ„é€ failæ ‘ã€‚ç„¶åè¿›è¡ŒæŸ¥è¯¢ã€‚ä»£ç çš„ä¸»è¦åŒºåˆ«åœ¨queryå’Œinsertã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173#include&lt;iostream&gt;#include&lt;cstdio&gt;#include&lt;cstdlib&gt;#include&lt;queue&gt;#include&lt;cstring&gt;#define N 500010using namespace std;queue&lt;int&gt;q;struct AC{ int c[N][26],val[N],fail[N],cnt; void ins(char *s) //å»ºç«‹trieæ ‘ ä¸‹æ ‡å­˜å‚¨å­—æ¯ å†…å®¹å­˜å–è·³è½¬ { int len = strlen(s); int now =0; for(int i=0; i&lt;len; i++) { int v = s[i]-'a'; if(!c[now][v]) c[now][v]=++cnt; now = c[now][v]; } val[now]++; } void build()//æ„å»ºfailæ ‘ { for(int i=0; i&lt;26; i++) //åˆå§‹åŒ– if(c[0][i]) fail[c[0][i]]=0,q.push(c[0][i]); while(!q.empty()) { int u=q.front(); q.pop(); for(int i=0; i&lt;26; i++) { if(c[u][i]) fail[c[u][i]]=c[fail[u]][i],q.push(c[u][i]);//è·³è½¬ else c[u][i]=c[fail[u]][i]; } } } int query(char *s) { int len = strlen(s); int now=0,ans=0; for(int i=0; i&lt;len; i++) { now = c[now][s[i]-'a']; for(int t=now; t&amp;&amp;~val[t]; t=fail[t]) ans+=val[t],val[t]=-1; } return ans; }} ac;int n;char p[1000005];char ch[155][75];int main(){ scanf(\"%d\",&amp;n); for(int i=1; i&lt;=n; i++) scanf(\"%s\",p),ac.ins(p); ac.build(); scanf(\"%s\",p); int ans = ac.query(p); printf(\"%d\\n\",ans); return 0;}``` ```c++#include&lt;iostream&gt;#include&lt;cstdio&gt;#include&lt;cstdlib&gt;#include&lt;queue&gt;#include&lt;cstring&gt;#define N 1000005using namespace std;queue&lt;int&gt;q;int ans[155];struct AC{ int c[N][26],val[N],fail[N],cnt; //å»ºç«‹trieæ ‘ ä¸‹æ ‡å­˜å‚¨å­—æ¯ å†…å®¹å­˜å–è·³è½¬ vä»£è¡¨æ¨¡å¼ä¸²çš„æ¬¡åº void ins(char *s,int v) { int len = strlen(s); int now =0; for(int i=0; i&lt;len; i++) { int v = s[i]-'a'; if(!c[now][v]) c[now][v]=++cnt; now = c[now][v]; } val[now]=v; } void build()//æ„å»ºfailæ ‘ { for(int i=0; i&lt;26; i++) //åˆå§‹åŒ– if(c[0][i]) fail[c[0][i]]=0,q.push(c[0][i]); while(!q.empty()) { int u=q.front(); q.pop(); for(int i=0; i&lt;26; i++) { if(c[u][i]) fail[c[u][i]]=c[fail[u]][i],q.push(c[u][i]); //è·³è½¬ else c[u][i]=c[fail[u]][i]; } } } void query(char *s) { int len = strlen(s); int now=0; memset(ans,0,sizeof(ans)); for(int i=0; i&lt;len; i++) { now = c[now][s[i]-'a']; for(int t=now; t; t=fail[t]) ans[val[t]]+=1; } }} ac;int n;char p[1000005];char ch[155][75];int main(){ while(~scanf(\"%d\",&amp;n)) { if(n==0) return 0; memset(ac.c,0,sizeof(ac.c)); memset(ac.val,0,sizeof(ac.val)); memset(ac.fail,0,sizeof(ac.fail)); ac.cnt=0; memset(p,0,sizeof(p)); memset(ch,0,sizeof(ch)); memset(ans,0,sizeof(ans)); q=queue&lt;int&gt;(); for(int i=1; i&lt;=n; i++) scanf(\"%s\",ch[i]),ac.ins(ch[i],i); ac.build(); scanf(\"%s\",p); ac.query(p); int tmp = 0; for(int i=1;i&lt;=n;i++) { if(tmp&lt;ans[i]) tmp = ans[i]; } cout&lt;&lt;tmp&lt;&lt;endl; for(int i=1;i&lt;=n;i++) { if(tmp==ans[i]) { printf(\"%s\\n\",ch[i]); } } } return 0;} document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/ac%E8%87%AA%E5%8A%A8%E6%9C%BA%E6%A8%A1%E6%9D%BF/"},{"title":"æ´›è°·P4712é¢˜è§£","text":"é¢˜è§£ å‰ç½®çŸ¥è¯†ï¼š C++ é¢˜ç›®é“¾æ¥P4712 ã€Œç”Ÿç‰©ã€èƒ½é‡æµåŠ¨ è§£é¢˜æ€è·¯è´ªå¿ƒçš„æ€æƒ³ï¼Œè¦æƒ³è¦è·å¾—çš„èƒ½é‡æœ€å¤šï¼Œå°±è¦ä¿è¯æµå¤±çš„èƒ½é‡æœ€å°‘ã€‚ç”±é¢˜ç›®å¯çŸ¥ï¼Œri+1 &gt;=riï¼Œåé¢çš„é£Ÿé‡ä¸å°äºå‰é¢çš„é£Ÿé‡ï¼Œåé¢çš„å¯ä»¥åƒåˆ°åé¢çš„ç”Ÿç‰©ï¼Œå‰é¢çš„åªèƒ½åƒå‰é¢çš„ç”Ÿç‰©ï¼Œç”±æ­¤å¯ä»¥å¾—åˆ°è´ªå¿ƒç­–ç•¥ï¼šä»å‰å¾€åå°½é‡æ»¡è¶³é£Ÿç‰©ã€‚å¤æ‚åº¦æ®è¯´æ˜¯O(nlogn),ä½†æˆ‘ä¸ä¼šç®—â€¦â€¦å®æµ‹è·‘å¾—å¾ˆå¿«ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243#include&lt;stdio.h&gt;double a[100005];int main(){ int n,i,left=0,d,j,flag = 0; double x,tmp; scanf(\"%d%lf\",&amp;n,&amp;a[0]); for(i=1; i&lt;=n; i++) { scanf(\"%lf%d\",&amp;x,&amp;d); tmp = x; for(j=left; j&lt;=d; j++) { // printf(\"%f %f\\n\",x,a[j]); if(a[j]&lt;1e-9) left = j; if(x&lt;=a[j]/5.0+1e-10) { a[j]-=5*x; a[i]=tmp; x=0; break; } else { x=x-(a[j]/5.0); a[j]=0; left++; } } if(x&gt;1e-9) { printf(\"-1\\n\"); return 0; } } double sum=0; for(i=left;i&lt;=n;i++) { sum+=a[i]; } printf(\"%f\\n\",sum/5.0);} document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E6%B4%9B%E8%B0%B7p4712%E9%A2%98%E8%A7%A3/"},{"title":"LCAæ¨¡æ¿","text":"é¢˜è§£ å‰ç½®çŸ¥è¯†ï¼š C++ æ•°æ®ç»“æ„ é¢˜ç›®é“¾æ¥P3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰ LCALCA å³æœ€è¿‘å…¬å…±ç¥–å…ˆå‰åºéå†ä¸­ LCA(S) å‡ºç°åœ¨æ‰€æœ‰ S å…ƒç´ ä¹‹å‰ ååºéå†åœ¨ S ä¹‹åä¸¤ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆå¿…å®šå¤„åœ¨æ ‘ä¸Šä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯ä¸Šä¸¤ç‚¹è·ç¦» *d(u,v)=h(u)+h(v)-2h(lca(u,v))** ã€‚ ä»£ç #include &lt;cstdio&gt; #include &lt;iostream&gt; using namespace std; const int maxn = 500005; struct EDGE { int t, next; } e[2 * maxn]; //é‚»æ¥è¡¨å­˜è¾¹ //tè¡¨ç¤ºæŒ‡å‘çš„ç‚¹ nextè¡¨ç¤ºä¸‹æ¡è¾¹ //head[x]è¡¨ç¤ºxçš„ç‚¹å­˜çš„é¦–æ¡è¾¹çš„å·ç  int dep[maxn], fa[maxn][22], lg[maxn], head[maxn]; int tot; void add(int x, int y) { e[++tot].t = y; e[tot].next = head[x]; head[x] = tot; } void dfs(int f, int fat)//fè¡¨ç¤ºå½“å‰èŠ‚ç‚¹ fatè¡¨ç¤ºçˆ¶äº²èŠ‚ç‚¹ { dep[f] = dep[fat] + 1;//æ·±åº¦+1 fa[f][0] = fat;//fçš„çˆ¶äº²æ˜¯fat for (int i = 1; (1&lt;&lt; i) &lt;= dep[f]; i++) fa[f][i] = fa[fa[f][i - 1]][i - 1]; //fçš„2**içš„ç¥–å…ˆï¼Œæ˜¯f çš„2**(i-1)çš„ç¥–å…ˆçš„2**(i-1)çš„ç¥–å…ˆ //2**(i-1)+2**(i-1)==2**i for (int i = head[f]; i; i = e[i].next) if (e[i].t != fat) { dfs(e[i].t, f); } } int lca(int x, int y) { if (dep[x] &lt; dep[y]) { swap(x, y); } while (dep[x] &gt; dep[y]) { x = fa[x][lg[dep[x] - dep[y]] - 1]; //è·³åˆ°åŒä¸€æ·±åº¦ } if (x == y) return x;//å¦‚æœä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªç¥–å…ˆï¼Œç›´æ¥è¿”å› for (int k = lg[dep[x]]-1; k &gt;= 0; k--) if (fa[x][k] != fa[y][k]) x = fa[x][k], y = fa[y][k]; return fa[x][0]; } int n, m, s; int main() { scanf(\"%d%d%d\", &amp;n, &amp;m, &amp;s); for (int i = 1; i &lt;= n - 1; i++) { int x, y; scanf(\"%d%d\", &amp;x, &amp;y); add(x, y); add(y, x); } dfs(s, 0); for (int i = 1; i &lt;= n; i++) { lg[i] = lg[i - 1] + (1 &lt;&lt; lg[i - 1] == i); cout&lt;&lt;lg[i]&lt;&lt;\" i:\"&lt;&lt;i&lt;&lt;\" \"&lt;&lt;endl; //é¢„å…ˆç®—å‡ºlog_2(i)+1çš„å€¼ï¼Œç”¨çš„æ—¶å€™ç›´æ¥è°ƒç”¨å°±å¯ä»¥äº† } for (int i = 1; i &lt;= m; i++) { int x, y; scanf(\"%d%d\", &amp;x, &amp;y); printf(\"%d\\n\", lca(x, y)); } return 0; } document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/lca%E6%A8%A1%E6%9D%BF/"},{"title":"OAuth 2.0","text":"å‰ç½®çŸ¥è¯†ï¼š ç½‘ç»œ OAuth 2.0ä»¤ç‰Œ æœ‰æ—¶é—´èŒƒå›´ï¼Œè¿‡æœŸå¤±æ•ˆ å¯ä»¥è¢«æ‰€æœ‰è€…æ’¤é”€ï¼Œç«‹åˆ»å¤±æ•ˆ æœ‰æƒé™èŒƒå›´ä»¤ç‰Œå››ç§å½¢å¼ï¼š æˆæƒç ï¼š å…ˆç”³è¯·æˆæƒç ï¼Œå†ç”¨è¯¥ç è·å–ä»¤ç‰Œ éšè—å¼ï¼š ç›´æ¥å‘æ”¾ä»¤ç‰Œ å¯†ç å¼ï¼š ç›´æ¥å‘Šè¯‰å¯†ç  å‡­è¯å¼ï¼š ç”¨äºå‘½ä»¤è¡Œï¼Œåœ¨å‘½ä»¤è¡Œä¸‹è¯·æ±‚ä»¤ç‰Œä»¤ç‰Œä½¿ç”¨ï¼š è¯·æ±‚å¤´åŠ ä¸Šauthorizationå­—æ®µæ›´æ–°ä»¤ç‰Œï¼š ä¸€æ¬¡æ€§å‘æ”¾ä¸¤ä¸ªä»¤ç‰Œï¼Œä¸€æ¬¡ç”¨äºæ›´æ–°ï¼Œä¸€ä¸ªç”¨ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/oauth-2-0/"},{"title":"C++Primer Learning #0","text":"å†™åœ¨å‰é¢ï¼šC++Primer Learningé¢„è®¡ä¼šæˆä¸ºæˆ‘çš„åšå®¢çš„ä¸€ä¸ªç³»åˆ—ï¼Œå…¶ä¸­ä¸»è¦é’ˆå¯¹çš„æ˜¯æˆ‘ä¸ªäººå¯¹äºC++è¯­è¨€çš„æ‰€ä¸ç†Ÿæ‚‰ï¼Œä¸äº†è§£çš„éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯ä¸ªäººçš„å­¦ä¹ ï¼Œæ‰€ä»¥æ›´æ–°å†…å®¹ä¸ç¡®å®šï¼Œå¯¹äºC++Primerçš„éƒ¨åˆ†å†…å®¹ä¼šæœ‰çœç•¥ã€‚ ç›®å½•ï¼šå¾…æ›´æ–° document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/c-primer-learning-0/"},{"title":"RESTful apiè®¾è®¡","text":"å‰ç½®çŸ¥è¯†ï¼š ç½‘ç»œ RESTful apiè®¾è®¡åè®®ï¼š httpsåŸŸåï¼š ä½¿ç”¨ä¸“æœ‰åŸŸåï¼Œå¦‚https://api.example.com ç®€å•,æ— æ‰©å±•çš„è¯å¯ä»¥ https://expamle.com/api/ç‰ˆæœ¬ï¼š æ”¾å…¥urlæˆ–httpå¤´ https://api.example.com/v1/è·¯å¾„ï¼š åªèƒ½æœ‰åè¯ï¼Œä¸æ•°æ®åº“è¡¨æ ¼åç›¸å¯¹åº”ï¼Œç”¨å¤æ•°å½¢å¼ï¼Œå¦‚ https://api.example.com/v1/zoos/HTTPåŠ¨è¯ï¼š GET (SELECT) å–å‡ºèµ„æº POST ï¼ˆCREATEï¼‰ æ–°å»ºèµ„æº PUT (UPDATE) æ”¹å˜åçš„å®Œæ•´èµ„æºçš„æ›´æ–° PATCH (UPDATE) æ”¹å˜èµ„æºå±æ€§ DELETE (DELETE) åˆ é™¤èµ„æº HEAD è·å–èµ„æºåŸæ•°æ® OPINION çŸ¥æ™“å“ªäº›å±æ€§å¯ä»¥æ”¹å˜å‚æ•°è¿‡æ»¤ï¼š ?limit=10 è¿”å›è®°å½•æ•°é‡ ?offset=10 è¿”å›è®°å½•å¼€å§‹ä½ç½® ?page=1&amp;perpage=10 æ¯é¡µè®°å½•æ•° ?sotredby=name&amp;order=asc æ’åº ?x_type_id=1 ç­›é€‰æ¡ä»¶Status Codeï¼š 200 OK 201 created 202 accepted å·²ç»è¿›å…¥æ’é˜Ÿ å¼‚æ­¥ä»»åŠ¡ 204 no content åˆ é™¤æˆåŠŸ 400 invalid request å‘å‡ºè¯·æ±‚æœ‰é”™è¯¯ 401 unauthorized æ— æƒé™ 403 forbidden æˆæƒä½†ç¦æ­¢è®¿é—® 404 not found ä¸å­˜åœ¨ 406 not acceptable è¯·æ±‚æ ¼å¼ä¸å¯å¾—(è¦xmlå¾—åˆ°json) 410 gone æ°¸ä¹…åˆ é™¤ 422 unprocessable entity åˆ›å»ºå¯¹è±¡æ—¶å€™éªŒè¯é”™è¯¯ 500 internal server error æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ 502 bad gateway æœåŠ¡å™¨åœ¨å……å½“ç½‘å…³æˆ–ä»£ç†æ—¶ï¼Œä»å…¶è¯•å›¾å®Œæˆè¯·æ±‚æ—¶è®¿é—®çš„ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆå“åº”ã€‚é”™è¯¯ä¿¡æ¯ï¼š è¿”å›é”®å€¼å¯¹ï¼š error : xxxè¿”å›ç»“æœï¼š GET /collection: è¿”å›èµ„æºå¯¹è±¡çš„åˆ—è¡¨ /collection/resource: è¿”å›å•ä¸ª POST /collection: æ–°ç”Ÿæˆçš„å¯¹è±¡ PUT /collection/resource: å®Œæ•´èµ„æºå¯¹è±¡ PATCH /collection/resource: åŒä¸Š DELETE /collection/resource: è¿”å›ç©ºæ–‡æ¡£Hypermedia APIï¼š åœ¨è¿”å›ç»“æœä¸­æä¾›è¿æ¥è¿å‘å…¶ä»–apiï¼Œä¾¿äºè¿å‘ä¸‹ä¸€æ­¥å…¶ä»–ï¼š èº«ä»½è®¤è¯ç”¨OAuth 2.0æ¡†æ¶ å¤šç”¨json document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/restful-api%E8%AE%BE%E8%AE%A1/"},{"title":"dockerå®‰è£…ä¸æ­å»ºqqbot","text":"å‰ç½®çŸ¥è¯†ï¼š ç½‘ç»œ python dockerå®‰è£…ä¸æ­å»ºqqbotdockeræ˜¯ä»€ä¹ˆDocker å±äº Linux å®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚ å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linux å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚ Docker å°†åº”ç”¨ç¨‹åºä¸è¯¥ç¨‹åºçš„ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿå®¹å™¨ã€‚ç¨‹åºåœ¨è¿™ä¸ªè™šæ‹Ÿå®¹å™¨é‡Œè¿è¡Œï¼Œå°±å¥½åƒåœ¨çœŸå®çš„ç‰©ç†æœºä¸Šè¿è¡Œä¸€æ ·ã€‚æœ‰äº† Dockerï¼Œå°±ä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚ æ€»ä½“æ¥è¯´ï¼ŒDocker çš„æ¥å£ç›¸å½“ç®€å•ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ï¼ŒæŠŠè‡ªå·±çš„åº”ç”¨æ”¾å…¥å®¹å™¨ã€‚å®¹å™¨è¿˜å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€å¤åˆ¶ã€åˆ†äº«ã€ä¿®æ”¹ï¼Œå°±åƒç®¡ç†æ™®é€šçš„ä»£ç ä¸€æ ·ã€‚ æ¯”èµ·è™šæ‹Ÿæœºï¼Œdockerå…·æœ‰è¿è¡Œé€Ÿåº¦å¿«ï¼Œä½“ç§¯å°ï¼Œå ç”¨èµ„æºå°‘ç­‰è¯¸å¤šä¼˜ç‚¹ï¼Œè¿™è®©dockerååˆ†æµè¡Œã€‚ docker å®‰è£…dockerå­˜åœ¨ç¤¾åŒºç‰ˆä¸ä»˜è´¹çš„ä¼ä¸šç‰ˆï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ˜¯å…è´¹çš„ç¤¾åŒºç‰ˆã€‚ æœ¬æ¬¡ä½¿ç”¨çš„æ˜¯windowsçš„dockerï¼Œå¯ä»¥ç‚¹è¿›ä¸‹è½½é“¾æ¥è¿›è¡Œä¸‹è½½ï¼Œå…·ä½“å®‰è£…æµç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå®˜ç½‘å¹¶æ²¡æœ‰æä¾›windowså®¶åº­ç‰ˆçš„å®‰è£…æµç¨‹ï¼Œç¬”è€…åœ¨è¿™é‡Œç»™å‡ºå®¶åº­ç‰ˆçš„æµç¨‹ã€‚ 1.å®‰è£…Hyper-V å°†ä¸‹åˆ—ä»£ç ä¿å­˜ä¸º.cmdæ–‡ä»¶å¹¶ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ,æ‰§è¡Œå®Œæ¯•åé‡å¯ç”µè„‘ 123456789pushd \"%~dp0\"dir /b %SystemRoot%\\servicing\\Packages\\*Hyper-V*.mum &gt;hyper-v.txtfor /f %%i in ('findstr /i . hyper-v.txt 2^&gt;nul') do dism /online /norestart /add-package:\"%SystemRoot%\\servicing\\Packages\\%%i\"del hyper-v.txtDism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL 2.è§£å†³Containers Windows Feature is not availableé—®é¢˜ è™½ç„¶ç½‘ä¸Šæ•™ç¨‹æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä½†ç¬”è€…é‡åˆ°äº†ã€‚è§£å†³æ–¹æ³•ä¸ºå°†ä¸‹åˆ—ä»£ç ä¿å­˜ä¸º.batæ–‡ä»¶ï¼Œå¹¶ä¸”ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œå¹¶é‡å¯ç”µè„‘ 123456pushd \"%~dp0\"dir /b %SystemRoot%\\servicing\\Packages\\*containers*.mum &gt;containers.txtfor /f %%i in ('findstr /i . containers.txt 2^&gt;nul') do dism /online /norestart /add-package:\"%SystemRoot%\\servicing\\Packages\\%%i\"del containers.txtDism /online /enable-feature /featurename:Containers -All /LimitAccess /ALLpause 3.ä¿®æ”¹æ³¨å†Œè¡¨ åœ¨cmdæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 1REG ADD \"HKEY_LOCAL_MACHINE\\software\\Microsoft\\Windows NT\\CurrentVersion\" /v EditionId /T REG_EXPAND_SZ /d Professional /F é‡å¯åæ³¨å†Œè¡¨ä¼šè¿˜åŸï¼Œä½†ä¸ä¼šå½±å“linuxå®¹å™¨æ­£å¸¸ä½¿ç”¨ã€‚ 4.å®‰è£…installer æ³¨æ„ä¸è¦å‹¾é€‰windowså®¹å™¨çš„é€‰é¡¹ï¼Œä¸€è·¯nextå°±è¡Œäº†ã€‚ dockerè¿è¡Œdockerå®¹å™¨è¿è¡Œçš„åŸºæœ¬æµç¨‹ï¼šä¸‹è½½æˆ–æ‰“åŒ…ç¨‹åºçš„image-&gt;å°†image runèµ·æ¥ï¼Œå½¢æˆå®¹å™¨ã€‚ 1.æ³¨å†Œè´¦å· dockeréœ€è¦è´¦å·æ‰èƒ½è¿è¡Œï¼Œåœ¨æ­¤ä¸è¿‡å¤šèµ˜è¿° 2.ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ é•œåƒæº åœ¨windowsç•Œé¢å¯ä»¥é€šè¿‡gui,åœ¨setting-&gt;docker engineä¸­ä¿®æ”¹ï¼Œç„¶åé‡å¯dockerï¼Œå¯ä»¥æ”¹æˆå¦‚ä¸‹ï¼š 1234\"registry-mirrors\": [ \"https://dockerhub.azk8s.cn\", \"https://hub-mirror.c.163.com\" ], 3.imageæ–‡ä»¶ dockerå°†åº”ç”¨ç¨‹åºå’Œä¾èµ–å…¨éƒ¨æ‰“åŒ…åœ¨imageæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”é€šè¿‡è¯¥æ–‡ä»¶ç”Ÿæˆå®¹å™¨ã€‚imageæ–‡ä»¶æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥å°†ä¸€å°æœºå™¨ä¸Šçš„imageæ–‡ä»¶ä¸Šæ”¾å…¥å¦ä¸€å°çš„imageè¿›è¡Œä½¿ç”¨ã€‚imageæ–‡ä»¶ä¹Ÿå¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªimageæ–‡ä»¶è¿›è¡Œå¼€å‘ã€‚ imageæ–‡ä»¶å¯ä»¥ä¸Šä¼ åˆ°ä»“åº“è¿›è¡Œå…±äº«ï¼Œè€Œdocker hubä½œä¸ºå®˜æ–¹çš„ä»“åº“ï¼Œæ˜¯æœ€ä¸ºé‡è¦çš„ä»“åº“ã€‚ ä¸‹é¢é€šè¿‡è¿è¡Œå®ä¾‹hello-worldè¿›è¡Œè¯´æ˜ã€‚ é¦–å…ˆï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°†å®˜æ–¹çš„hello-worldçš„imageæ–‡ä»¶æ‹‰è‡³æœ¬åœ°ã€‚ 1docker image pull hello-world ç­‰å¾…æŠ“å–æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹imageæ–‡ä»¶ 1docker image ls 4.run é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿è¡Œhello-worldçš„imageæ–‡ä»¶ 1docker run hello world ä½ ä¼šçœ‹åˆ°dockerå®˜æ–¹ç»™å‡ºçš„ä¿¡æ¯ï¼Œå¹¶ä¸”è¯¥å®¹å™¨ä¼šåœ¨ä¿¡æ¯ç»“æŸåè‡ªåŠ¨ç»ˆæ­¢ã€‚ä½†å¹¶éæ‰€æœ‰å®¹å™¨éƒ½æ˜¯å¦‚æ­¤ã€‚ è‡³æ­¤ï¼Œç®€å•çš„dockeræ“ä½œå°±ç»“æŸäº†ï¼Œä¸‹é¢ç ”ç©¶æœ‰å…³å°†é¡¹ç›®æ­è¿›dockerçš„åº”ç”¨é—®é¢˜ã€‚ é¡¹ç›®ç®€ä»‹è¿™æ¬¡æ­å»ºçš„æ˜¯æ„å»ºåœ¨flaskä¸Šçš„åŸºäºcoolq-httpçš„qqboté¡¹ç›®ã€‚é¡¹ç›®å†…ä½¿ç”¨äº†redisè¿›è¡Œæ•°æ®çš„å­˜å‚¨ã€‚æœ¬æ¬¡å°†rediså’ŒBotServeråˆ†åˆ«æ‰“åŒ…è¿›å…¥å®¹å™¨ä¸­ï¼Œå®ç°rediså’ŒBotServerä¸¤ä¸ªå®¹å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œå®ç°BotServerä¸å®¿ä¸»æœºä¸Š5700ç«¯å£ä¸Šçš„coolq-httpé€šä¿¡ã€‚ æœ¬æ¬¡é¡¹ç›®æ‰€æœ‰pythonä»£ç éƒ½åœ¨BotServer.pyæ–‡ä»¶ä¸­ã€‚ å…³äºbotæ€ä¹ˆå†™åœ¨æ­¤ä¸è¿‡å¤šèµ˜è¿°ï¼Œå¯ä»¥è¯¦è§coolq-httpçš„æ–‡æ¡£ã€‚ ä¸‹é¢å°†è¯¦ç»†è§£é‡Šæ­å»ºè¿‡ç¨‹ã€‚ æ•´ç†é¡¹ç›®ä¾èµ–é¡¹ç›®åŸºäºflaskå®ç°ï¼Œå¹¶ä¸”ä½¿ç”¨äº†redisé€šä¿¡æ¨¡å—ã€‚æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰çš„ä¾èµ–å†™è¿›requirement.txtæ–‡ä»¶ä¸­ï¼Œå¹¶æ”¾å…¥å’Œé¡¹ç›®çš„BotServer.pyæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ã€‚å¯¹äºpythoné¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨pipreqsè¿›è¡Œè‡ªåŠ¨ç¼–å†™ã€‚ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œcmdè¿›å…¥é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚ 12pip install pipreqspipreqs ./ --encoding=utf8 â€“encodingä¸ºå¯é€‰é¡¹ï¼Œä½†åœ¨windowsä¸‹ä¸åŠ ä¸Šè¿™ä¸ªé€‰é¡¹ä¼šæŠ¥é”™ã€‚ ç¼–å†™dockerfiledocker imageçš„åˆ›å»ºæ˜¯é€šè¿‡dockerä¸€æ­¥æ­¥æ‰§è¡Œdockerfileæ¥å®ç°çš„ã€‚æ‰€ä»¥åœ¨ç¼–å†™å¥½requirement.txtåï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™dockerfileã€‚ åœ¨BotServer.pyå’Œrequirement.txtæ‰€åœ¨çš„ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªåä¸ºDockerfileçš„æ–‡ä»¶(æ³¨æ„ï¼Œæ²¡æœ‰åç¼€å)ï¼Œå°†ä»¥ä¸‹å†…å®¹å†™è¿›å»ã€‚ 1234567891011FROM python:3.6-slim WORKDIR /appCOPY . /appRUN pip install -r ./requirements.txt EXPOSE 5701CMD [\"python\",\"BotSever.py\"] FROMè¯­å¥ï¼Œå«ä¹‰æ˜¯ç»§æ‰¿äº†å®˜æ–¹çš„3.6-slimç‰ˆæœ¬çš„pythoné•œåƒã€‚å†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾ä¾¿æ˜¯3.6-slimã€‚ WORKDIRè¯­å¥ï¼ŒæŒ‡æ˜æ¥ä¸‹æ¥çš„å·¥ä½œç›®å½•ä¸º/app COPYè¯­å¥ï¼Œå°†æœ¬ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°/appç›®å½•ä¸‹å» RUNè¯­å¥ï¼ŒæŒ‡åœ¨buildè¿‡ç¨‹ä¸­æ‰§è¡Œè¯¥æŒ‡ä»¤ã€‚è¿™é‡Œæ‰§è¡Œçš„æŒ‡ä»¤æŒ‡ä½¿ç”¨pipå°†requirements.txté‡Œçš„å¤´æ–‡ä»¶å…¨éƒ¨å®‰è£…ã€‚ EXPOSEè¯­å¥ï¼Œå°†ç«¯å£5701å¼€æ”¾ã€‚ CMDè¯­å¥ï¼Œåœ¨runçš„æ—¶å€™æ‰§è¡Œï¼Œåœ¨è¿™é‡Œæ˜¯æŒ‡ç”¨pythonè¿è¡ŒBotServer.pyæ–‡ä»¶ã€‚ æ”¹å†™ä»£ç åœ¨æ‰“åŒ…æˆimageä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å†™ä»£ç ä¸­çš„ipä»¥åŠç«¯å£ï¼Œæ¥å®ç°å®¹å™¨å’Œå®¹å™¨ä¹‹é—´çš„é€šä¿¡ä»¥åŠå®¹å™¨å’Œå®¿ä¸»æœºçš„é€šä¿¡ã€‚ åœ¨åŸæ¥çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬è¿æ¥redisçš„æ–¹æ³•å¦‚ä¸‹ï¼š 1self.redis_pool = redis.ConnectionPool(host='127.0.0.1', port=6379, password='', db=0) hostæŒ‡å‘äº†127.0.0.1,ä¹Ÿå°±æ˜¯æœ¬æœºip,ä½†è¿™åœ¨å®¹å™¨ä¸­æ˜¯è¡Œä¸é€šçš„ã€‚ç”±äºéš”ç¦»ï¼Œæ— æ³•ç›´æ¥å°†æœ¬æœºipå’Œå®¹å™¨ä¸­çš„127.0.0.1è¿æ¥èµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸€è¡Œæ”¹å†™æˆå¦‚ä¸‹å½¢å¼ï¼š 12self.redis_pool = redis.ConnectionPool( host='redis', port=6379, password='', db=0) ä½¿ç”¨äº†redisä»£æŒ‡æœ¬æœºip,åœ¨runçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡â€“linké€‰é¡¹ï¼Œå°†redisæ‰€åœ¨çš„å®¹å™¨ä¸è¯¥é¡¹ç›®æ‰€åœ¨çš„å®¹å™¨è¿æ¥èµ·æ¥ã€‚ åŒç†ï¼Œæˆ‘ä»¬éœ€è¦å°†flaskç›‘å¬çš„åœ°å€ï¼Œä»127.0.0.1ï¼Œæ”¹ä¸º0.0.0.0ï¼Œæ¥æ¥å—ä»»ä½•è¿æ¥ã€‚ 1self.bot_server.run(host=\"0.0.0.0\", port=5701) åœ¨å‘é€ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æƒ³å®¿ä¸»æœºçš„coolq-httpçš„ç«¯å£å‘é€ä¿¡æ¯ï¼Œå°±éœ€è¦å°†ä»£ç ä¸­æœ¬æœºçš„urlæ”¹ä¸ºå®¿ä¸»æœºçš„urlã€‚åœ¨windowsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†127.0.0.1æ”¹ä¸ºhost.docker.internalã€‚ä¾‹å¦‚ï¼š 12url = \"http://127.0.0.1:12345/send_group_msg\" # åŸæ¥çš„urlurl = \"http://host.docker.internal:12345/send_group_msg\" è¿™æ ·æˆ‘ä»¬å°±èƒ½å®ç°å®¹å™¨å’Œå®¿ä¸»æœºçš„è¿æ¥ã€‚ æ‰“åŒ…imageåœ¨æ”¹å†™å®Œä»£ç åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰“åŒ…imageäº†ã€‚ç”¨cmdè¿›å…¥é¡¹ç›®æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1docker build -t qqbot . -tç”¨æ¥æŒ‡å®šimageçš„åå­—ï¼Œ**.** ç‚¹ä»£è¡¨æœ¬æ–‡ä»¶å¤¹ã€‚æ‰“åŒ…éœ€è¦ä¸€äº›æ—¶é—´ä¸‹è½½ã€‚åœ¨å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ã€‚ å®‰è£…è¿è¡Œredisrediså®‰è£…æ˜¯è¾ƒä¸ºç®€å•çš„ä¸€æ­¥ï¼Œä¸hello wordç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å®˜æ–¹é•œåƒæºä¸‹è½½å¹¶ä¸”å®‰è£…redis,æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š 12docker pull redis:latestdocker run -itd --name redis-test -p 6379:6379 redis å…¶ä¸­-pæ˜¯å°†å®¿ä¸»æœºçš„6379ç«¯å£(å‰ä¸€ä¸ª6379)æ˜ å°„åˆ°å®¹å™¨çš„6379ç«¯å£ï¼Œä»è€Œä¾¿äºå¤–éƒ¨è®¿é—®ã€‚-då‘½ä»¤ä¸ºåå°è¿è¡Œã€‚ -i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼Œ -t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ã€‚ è¿è¡Œqqbotæˆ‘ä»¬æ­å»ºå¥½äº†redisçš„é•œåƒå¹¶æˆåŠŸè¿è¡Œäº†èµ·æ¥ï¼Œæ­å»ºå¥½äº†botçš„é•œåƒï¼Œç°åœ¨æ‰€éœ€è¦åšçš„ä¾¿æ˜¯å°†botçš„é•œåƒè¿è¡Œèµ·æ¥ã€‚åœ¨runä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæŸ¥çœ‹redisæ‰€åœ¨çš„å®¹å™¨ã€‚å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹: 1docker ps -a åœ¨æœ¬å°ç”µè„‘ä¸Šï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š 2c30a28c3979 redis â€œdocker-entrypoint.sâ€¦â€ 24 hours ago Up 3 hours 0.0.0.0:6379-&gt;6379/tcp redis-test å°†æœ€å‰é¢çš„container idå¤åˆ¶ä¸‹æ¥ï¼Œå°†ä¹‹å‰æ”¹å†™çš„rediså’Œå®¹å™¨åœ°å€ä½¿ç”¨â€“linkè¿æ¥èµ·æ¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¾¿å¯ä»¥å°†botè·‘èµ·æ¥äº†ï¼š 1docker run --name bot -itd --link 2c30a28c3979:redis -p 5701:5701 qqbot è¿™æ ·ï¼Œæˆ‘ä»¬å°±æˆåŠŸå°†qqbotæ­å»ºè¿›dockerä¹‹ä¸­ã€‚ åè®°æœ¬æ–‡ä¸»è¦æ˜¯è®°å½•è‡ªå·±è¸©è¿‡çš„ä¸€äº›å‘ï¼Œå°†æ•´ä¸ªæµç¨‹å†™äº†ä¸€éï¼Œå…¶ä¸­æ”¹å†™ä»£ç çš„ç¯èŠ‚è™½ç„¶å¾ˆçŸ­ï¼Œä½†è€—è´¹äº†æˆ‘ä¸€å¤©åŠçš„æ—¶é—´ã€‚æœ‰äº›é—®é¢˜å¾ˆç„å­¦ï¼Œæ¯”å¦‚å®‰è£…installeræ—¶æŠ¥é”™ï¼Œé‡å¯ç”µè„‘å°±è§£å†³äº†ã€‚æœ‰æ—¶å€™pipæ—¶é—´è¿‡é•¿ä¼šæŠ¥é”™ï¼Œé‡å¯dockerå°±è§£å†³äº†ã€‚ ä¸ºä»€ä¹ˆä¸æŠŠcoolqä¹Ÿæ”¾è¿›dockeré‡Œï¼Œä¸»è¦æ˜¯å› ä¸ºæ‡’â€¦â€¦ æœ¬æ¬¡æ²¡æœ‰å°†qqbotå…¨éƒ¨ä»£ç å±•ç°å‡ºæ¥ï¼Œä¸»è¦æ˜¯å› ä¸ºä»£ç è´¨é‡ç›®å‰è¿˜æ¬ ä½³ã€‚ç­‰æˆ‘æœ‰æ—¶é—´ï¼ˆæ²¡æ—¶é—´ï¼‰å°†ä»£ç ä¼˜åŒ–åï¼Œå†æ¥è¯¦ç»†è®²è§£botã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/docker%E5%AE%89%E8%A3%85%E4%B8%8E%E6%90%AD%E5%BB%BAqqbot/"},{"title":"é¢å‘é¢è¯•ç¼–ç¨‹-è“„æ°´æ± ç®—æ³•","text":"å‰ç½®çŸ¥è¯†ï¼š æ•°å­¦ é¢å‘é¢è¯•ç¼–ç¨‹-è“„æ°´æ± ç®—æ³•é¢˜ç›®è¦æ±‚ç»™å®šä¸€ä¸ªæå…¶å¤§çš„æ•°æ®æµï¼Œå¤§åˆ°æ— æ³•å­˜å…¥å†…å­˜ï¼Œè¦æ±‚åœ¨æ‰€æœ‰æ•°æ®ä¸­éšæœºé€‰å–kä¸ªå…ƒç´ ã€‚ è§£æ³•ï¼šè“„æ°´æ± ç®—æ³•å‡è®¾è¯»å–ç¬¬iä¸ªæ•°æ®ï¼Œä»1å¼€å§‹è®¡æ•°ã€‚å¦‚æœiå°äºç­‰äºkï¼Œåˆ™å­˜å…¥è“„æ°´æ± ã€‚å¦‚æœiå¤§äºkï¼Œåˆ™éšæœºå–ä»1åˆ°iä¹‹é—´çš„éšæœºæ•°mï¼Œå¦‚æœmå¤„äº1åˆ°kä¸­ï¼Œé‚£ä¹ˆå°†iå…ƒç´ æ›¿æ¢è“„æ°´æ± ä¸­må…ƒç´ ã€‚è¯æ˜å¯¹äºè“„æ°´æ± ä¸­çš„å…ƒç´ ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡æ˜¯ä¸è¢«è“„æ°´æ± å¤–çš„å…ƒç´ æ›¿æ¢æ‰çš„æ¦‚ç‡ã€‚å³kÃ—(k+1)Ã—â€¦Ã—(N-1)/((k+1)Ã—(k+2)Ã—â€¦Ã—(N)) = k/Nã€‚å¯¹äºè“„æ°´æ± å¤–çš„å…ƒç´ ï¼Œå‡è®¾ä½ç½®iï¼Œé‚£ä¹ˆæ¦‚ç‡ä¸ºé€‰ä¸­çš„æ¦‚ç‡ä¹˜ä»¥ä¸è¢«åé¢å…ƒç´ æ›¿ä»£çš„æ¦‚ç‡ã€‚å³(k/i)Ã—(i/(i+1))Ã—â€¦Ã—((N-1)/N) = k/Nã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E9%9D%A2%E5%90%91%E9%9D%A2%E8%AF%95%E7%BC%96%E7%A8%8B-%E8%93%84%E6%B0%B4%E6%B1%A0%E7%AE%97%E6%B3%95/"},{"title":"gitçš„ä½¿ç”¨","text":"å‰ç½®çŸ¥è¯†ï¼š æ—  gitçš„ä½¿ç”¨å‰è¨€æˆ‘å‘ç°æˆ‘è¿™ä¸ªåºŸç‰©åˆ°ç°åœ¨æ²¡æœ‰ç³»ç»Ÿæ€§å­¦ä¹ gitï¼Œäºæ˜¯å†™äº†æœ¬æ–‡ã€‚ä¸»è¦ç”¨äºåŠ å¼ºè®°å¿†ï¼Œå¤‡å¿˜ã€‚ ä»‹ç»gitï¼Œåˆå«åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼Œæ„å‘³ç€å¯¹é¡¹ç›®çš„ç‰ˆæœ¬è¿›è¡Œç®¡ç†ï¼Œå¯ä»¥é€€å›åˆ°å†å²ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥åœ¨å†å²ç‰ˆæœ¬åŸºç¡€ä¸Šå¼€å‘æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥å°†åˆ†æ”¯çš„ç‰ˆæœ¬åˆå¹¶åˆ°ä¸»è¦ç‰ˆæœ¬ä»è€Œä¾¿äºå¼€å‘ã€‚åˆ†å¸ƒå¼æ„å‘³ç€æ¯å°ç”µè„‘ä¸Šéƒ½æ˜¯å®Œæ•´çš„ç‰ˆæœ¬ï¼Œè€Œéç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†ã€‚ åŸºæœ¬æ¦‚å¿µgitä¸»è¦æœ‰ä¸‰ä¸ªä¸»è¦çš„åŸºæœ¬æ¦‚å¿µï¼šå·¥ä½œåŒºï¼Œ ç‰ˆæœ¬åº“ï¼Œæš‚å­˜åŒºã€‚å·¥ä½œåŒºï¼šå³å·¥ä½œç›®å½•ï¼Œä¸»è¦è¿›è¡Œå¼€å‘çš„ä½ç½®ã€‚ç‰ˆæœ¬åº“ï¼šä¸€èˆ¬åœ¨å·¥ä½œç›®å½•ä¸­çš„éšè—æ–‡ä»¶å¤¹.gitç›®å½•ä¸­ï¼Œgitç”¨äºç®¡ç†çš„å·¥ä½œç›®å½•ã€‚æš‚å­˜åŒºï¼šç±»ä¼¼äºå­˜æ”¾é¡¹ç›®å†…æ–‡ä»¶çš„å„ç§ç±»ä¿®æ”¹æ“ä½œã€‚å­˜æ”¾äºindexæ–‡ä»¶ä¸­ã€‚å…·ä½“å®ç°å¯ä»¥å‚è€ƒåŸç†ï¼Œæœ¬æ–‡ä¸è¿‡å¤šæ¦‚è¿°ã€‚ gitå¸¸ç”¨å‘½ä»¤git initï¼šåˆå§‹åŒ–å·¥ä½œç›®å½•ï¼Œåˆ›å»º.gitæ–‡ä»¶å¤¹ä»è€Œä¾¿äºå¼€å§‹ç®¡ç†ã€‚git addï¼šæ¥æ–‡ä»¶åï¼Œåœ¨å·¥ä½œç›®å½•ä¸­æœç´¢å¯¹åº”æ–‡ä»¶åï¼Œå¹¶ä¸”å°†æ–‡ä»¶å­˜å…¥æš‚å­˜åŒºã€‚git commitï¼šæäº¤æ‰€æœ‰æˆ–è€…éƒ¨åˆ†æš‚å­˜åŒºæ–‡ä»¶åˆ°ä»“åº“ã€‚ä¸€èˆ¬åŠ -må‚æ•°æ¥å†™æäº¤æ³¨é‡Šã€‚ä¸€å®šè¦å†™æäº¤æ³¨é‡Šã€‚git statusï¼šæŸ¥çœ‹ä»“åº“å½“å‰çŠ¶æ€ã€‚git diffï¼šæŸ¥çœ‹æœªæäº¤è®°å½•ä¸æäº¤è¿‡çš„å…·ä½“æ–‡ä»¶å·®åˆ«ã€‚git logï¼šæŸ¥çœ‹logã€‚git resetï¼šæœ‰ä¸‰ç§æ¨¡å¼ã€‚å¯ä»¥ä½¿ç”¨â€“hardæ¥æ›´æ–°å·¥ä½œåŒºï¼Œæš‚å­˜åŒºï¼Œä»“åº“æ‰€æœ‰æ–‡ä»¶åˆ°ç›®æ ‡commitè®°å½•ï¼ˆå‚æ•°ä¸ºcommit çš„sha1ï¼‰æˆ–è€…å›é€€åˆ°ä¹‹å‰å‡ ä¸ªç‰ˆæœ¬ï¼ˆå‚æ•°ä¸ºHEAD^ã€‚å°–å·æ•°é‡ä»£è¡¨å¾€å‰å‡ ä¸ªç‰ˆæœ¬ï¼‰ï¼Œé€šå¸¸ç”¨äºå›æ»šç‰ˆæœ¬ã€‚å¦å¤–ä¸¤ç§æ¨¡å¼å¯å‚ç…§å¯¹åº”æ–‡æ¡£ã€‚git reflogï¼šæŸ¥çœ‹å‘½ä»¤çš„æ—¥å¿—ã€‚git checkout â€“filenameï¼šå°†å·¥ä½œåŒºçš„æ–‡ä»¶ä¿®æ”¹æ’¤é”€æ‰ï¼Œæ¢æˆæœ€æ–°çš„æš‚å­˜åŒºå†…æˆ–è€…ç‰ˆæœ¬åº“å†…çš„æ–‡ä»¶ã€‚git reset HEAD fileï¼šæ’¤é”€æš‚å­˜åŒºçš„æ–‡ä»¶ä¿®æ”¹ã€‚git rmï¼šç‰ˆæœ¬åº“ä¸­åˆ é™¤å¯¹åº”æ–‡ä»¶ã€‚å¦‚æœç¡®å®åˆ é™¤åéœ€è¦æäº¤ã€‚git cloneï¼šä»å¯¹åº”åº“ä¸­æ‹·è´é¡¹ç›®ã€‚git mvï¼šç§»åŠ¨æˆ–è€…é‡å‘½åå¯¹åº”æ–‡ä»¶ã€‚git branchï¼šåˆ›å»ºåˆ†æ”¯ã€‚git checkoutï¼šç§»åŠ¨åˆ°åˆ†æ”¯ã€‚git mergeï¼šåˆå¹¶åˆ†æ”¯ã€‚å¦‚æœå‡ºç°å†²çªåˆ™æ‰‹åŠ¨è§£å†³å†²çªågit addå¯¹åº”æ–‡ä»¶ã€‚git pushï¼šå°†æ–‡ä»¶æ¨åˆ°è¿œç¨‹åº“ã€‚git pullï¼šå°†è¿œç¨‹åº“æ‹‰åˆ°æœ¬åœ°åº“å¹¶è¦†ç›–ã€‚git stashï¼šå°†å½“å‰ç›®å½•ä¿å­˜èµ·æ¥ï¼Œä¹‹åå¯ä»¥åˆ‡æ¢åˆ†æ”¯æ”¹bugï¼Œæ”¹å®Œåç”¨git stash popæ¥æ¢å¤ç°åœºã€‚git rebaseï¼šå°†å¤šä¸ªcommitè®°å½•åˆå¹¶å¹¶æ¥åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¹‹åã€‚ç”¨äºæ•´åˆcommitè®°å½•ã€‚ æ€»ç»“ä¸»è¦åŒ…å«äº†gitçš„å¸¸ç”¨å‘½ä»¤ä»¥åŠåŸºæœ¬æ¦‚å¿µï¼Œå„ç§å‚æ•°ä¸å…¨é¢ï¼Œå„ç§åŠŸèƒ½æè¿°ä¹Ÿå¯èƒ½ä¸å…¨é¢æˆ–è€…æœ‰è¯¯ï¼Œä½†ä¸»è¦åŠŸèƒ½åŸºæœ¬å‡†ç¡®ã€‚ç°åœ¨è™½ç„¶ideå¸®æˆ‘ä»¬åšäº†å¾ˆå¤šï¼Œä½†å­¦ä¹ ä¸€äº›gitçš„æ¦‚å¿µå¯¹å¼€å‘è¿˜æ˜¯æœ‰æ„ä¹‰çš„ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/git%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"title":"C++ å®ç°çº¿ç¨‹æ± ","text":"å‰ç½®çŸ¥è¯†ï¼š c++ æ“ä½œç³»ç»Ÿ C++å®ç°çº¿ç¨‹æ± å‰è¨€ æœ¬æ–‡ä½¿ç”¨C++åŸºæœ¬åº“ï¼Œå®ç°äº†å›ºå®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± ã€‚ çº¿ç¨‹æ± åŸºç¡€ å¯¹äºäº†è§£è¿‡çº¿ç¨‹çš„äººè€Œè¨€ï¼Œçº¿ç¨‹æ± çš„æ¦‚å¿µå¹¶ä¸éš¾ç†è§£ã€‚ä¸ºäº†é¿å…é¢‘ç¹åœ°åˆ›å»ºä¸é”€æ¯çº¿ç¨‹ï¼ŒèŠ‚çœå¼€é”€ï¼Œé¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹ä½œä¸ºâ€œæ± å­â€ï¼Œå¹¶ä½¿ç”¨æ± å†…çš„çº¿ç¨‹æ¥è¿›è¡Œä½¿ç”¨ï¼ŒèŠ‚çœå¼€é”€ã€‚ ç†è®ºå¹¶ä¸å›°éš¾ï¼Œä½†åœ¨å®ç°ä¸Šé¢ï¼Œç”±äºç°ä»£C++è‡ªèº«çš„æ™¦æ¶©éš¾æ‡‚ï¼Œæ ‡å‡†åº“çš„éš¾ä»¥ä½¿ç”¨ï¼Œè€Œä¸”ç½‘ç»œä¸Šçš„æ•™ç¨‹ä¸è¯´äººè¯ï¼Œä½¿å¾—ä½¿ç”¨C++å¼€å‘çº¿ç¨‹æ± å­˜åœ¨ä¸å°‘å›°éš¾ã€‚æœ¬æ–‡ä¾¿ç†æ¸…è¿™äº›å›°éš¾ï¼Œå¸®åŠ©æ›´å¥½ä½¿ç”¨C++ã€‚ threadä»‹ç» åœ¨C++11ä¹‹åï¼Œæ ‡å‡†åº“å¢åŠ äº†threadåº“ï¼Œä½¿å¾—c++æœ‰äº†åŸç”Ÿçš„çº¿ç¨‹æ”¯æŒã€‚è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹åº“çš„å‡ ä¸ªæ–¹æ³•ã€‚ æ„é€ å‡½æ•°ï¼šthreadåªæœ‰é»˜è®¤æ„é€ å‡½æ•°å’Œç§»åŠ¨æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ‹·è´æ„é€ ã€‚åœ¨é»˜è®¤æ„é€ ä¸­ï¼Œå£°æ˜å¦‚ä¸‹ï¼š 12template&lt; class Function, class... Args &gt;explicit thread( Function&amp;&amp; f, Args&amp;&amp;... args ); å®ƒæ¥æ”¶å‡½æ•°ä¸å‚æ•°ï¼Œå¹¶æ‰§è¡Œã€‚åœ¨å®é™…è¿ç”¨ä¸­ï¼Œé™¤äº†ä¼ é€’å‡½æ•°æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨lambdaè¡¨è¾¾å¼ã€‚ æ–¹æ³•ï¼šthreadæœ‰å¤šç§æ–¹æ³•ï¼Œå…·ä½“å¦‚ä¸‹ï¼š | Observers | | | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | | joinable | checks whether the thread is joinable, i.e. potentially running in parallel context (public member function) | | get_id | returns the id of the thread (public member function) | | native_handle | returns the underlying implementation-defined thread handle (public member function) | | hardware_concurrency[static] | returns the number of concurrent threads supported by the implementation (public static member function) | | Operations | | | join | waits for a thread to finish its execution (public member function) | | detach | permits the thread to execute independently from the thread handle (public member function) | | swap | swaps two thread objects (public member function) | åœ¨æœ¬æ¬¡ä¸­ä¸»è¦ä½¿ç”¨äº†detachï¼Œå³ï¼Œå°†çº¿ç¨‹æ”¾å¼€ï¼Œåˆ°åå°è¿è¡Œã€‚ å®ç°æ€è·¯ å¯ä»¥çœ‹åˆ°ï¼Œc11çš„threadåº“åœ¨çº¿ç¨‹åˆ›å»ºæ—¶å€™ä¾¿éœ€è¦ä¸ä¸€ä¸ªå‡½æ•°ç›¸å…³è”ï¼Œæ— æ³•æ›´æ”¹ã€‚è¿™é‡Œé‡‡ç”¨çš„å®ç°æ€è·¯ä¸ºï¼šå°†éœ€è¦æ‰§è¡Œçš„å‡½æ•°å½“ä½œå¯¹è±¡ï¼Œå­˜å…¥æ± å­ä¸­ã€‚æ¯ä¸ªçº¿ç¨‹å…ˆé˜»å¡ï¼Œåœ¨å‡½æ•°å­˜å…¥æ—¶ä¾¿å”¤é†’ï¼Œè·å–å‡½æ•°ï¼Œå¾—åˆ°å‡½æ•°å‚æ•°ï¼Œå¹¶æ‰§è¡Œè¯¥å‡½æ•°ï¼Œåœ¨å®Œæˆåå†æ¬¡é˜»å¡ã€‚ ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ¯ä¸ªthreadçš„ä¸»ä½“å†…å®¹ï¼š - ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘çº¿ç¨‹æ± ä¸»ä½“ï¼Œæ¥è·å–é”ä¸å‡½æ•°ã€‚ - å‡½æ•°ä¸»ä½“ä¸ºæ­»å¾ªç¯ï¼Œåœ¨æ£€æµ‹åˆ°æ± å­å†…æœ‰ä»»åŠ¡åä¾¿è·å–å‡½æ•°å¹¶æ‰§è¡Œã€‚åœ¨æ£€æµ‹åˆ°å‡½æ•°ä¸»é¢˜å…³é—­åé€€å‡ºå¾ªç¯ã€‚åœ¨å…¶ä»–æ—¶åˆ»é˜»å¡ã€‚ - threadç†åº”detachï¼Œåœ¨åå°è¿è¡Œã€‚ æ ¹æ®æ­¤æµç¨‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—åˆ°çº¿ç¨‹æ± ä¸»ä½“æ§åˆ¶ç¨‹åºçš„å†…å®¹ï¼š - é”ï¼Œç”¨äºåè°ƒå„ä¸ªçº¿ç¨‹ã€‚ - ä»»åŠ¡é˜Ÿåˆ—ï¼Œç”¨äºå­˜æ”¾å‡½æ•°ã€‚ - æ¡ä»¶å˜é‡ï¼Œç”¨äºå”¤é†’çº¿ç¨‹ã€‚ - æ ‡è¯†é€€å‡ºçš„å˜é‡ã€‚ åŸºæœ¬æ€è·¯ç†æ¸…ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºå¯¹åº”ä»£ç ã€‚ Controllerç±» Controllerç±»å¯¹åº”çš„ä¾¿æ˜¯æ§åˆ¶ç¨‹åºã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æ„å»ºç›¸åº”çš„æˆå‘˜ã€‚ 1234567891011121314template &lt;class F, class Args, class Ret&gt;class Controller{public: std::mutex mu;//é” std::queue&lt;std::tuple&lt;F, Args, Ret &amp;&gt;&gt; tasks;//ä»»åŠ¡é˜Ÿåˆ—ã€‚å­˜æ”¾å‡½æ•°çš„åœ°æ–¹ã€‚ std::condition_variable cond_v;//æ¡ä»¶å˜é‡ï¼Œç”¨äºé˜»å¡å’Œå”¤é†’çº¿ç¨‹ bool closed = false;//æ ‡å¿—æ˜¯å¦ç»“æŸ Controller() = default;//é»˜è®¤æ„é€ å‡½æ•° Controller(const Controller &amp;ctrl)//æ‹·è´æ„é€ å‡½æ•°ã€‚ { //ç”±äºæ¡ä»¶å˜é‡æ— æ³•æ‹·è´æ„é€ ï¼Œè¿™é‡Œåªæ˜¯å ä½ï¼Œå¹¶ä¸ä¼šå®é™…å‘ç”Ÿæ‹·è´ }}; æ¨¡æ¿çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«å¯¹åº”å‡½æ•°ä¸»ä½“ï¼Œå‡½æ•°å‚æ•°ï¼Œå‡½æ•°è¿”å›å€¼ã€‚å› æ­¤è¿”å›å€¼åœ¨é˜Ÿåˆ—é‡Œå­˜æ”¾çš„ä¸ºå·¦å¼•ç”¨ã€‚ æ‹·è´æ„é€ å‡½æ•°ä¸å®é™…æ‰§è¡Œæ‹·è´ï¼Œåªæ˜¯å ä½ä¾¿äºä»£ç ç¼–å†™ã€‚ å°±åƒä¹‹å‰ä¸Šä¸€éƒ¨åˆ†æ‰€è¿°ä¸€æ ·ï¼Œæˆ‘ä»¬å®ç°äº†æ§åˆ¶ç±»çš„ç¼–å†™ã€‚ ThreadPool ç±» ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970template &lt;class F, class Args, class Ret&gt;class ThreadPool{public: Controller&lt;F, Args, Ret&gt; controller;//æ§åˆ¶ç±» std::shared_ptr&lt;Controller&lt;F, Args, Ret&gt;&gt; shr_ptr;//æŒ‡å‘æ§åˆ¶ç±»çš„æŒ‡é’ˆ è¢«æ‰€æœ‰çº¿ç¨‹å…±äº« //æ„é€ å‡½æ•°ã€‚æ„é€ å‡ºç»™å®šæ•°é‡çš„çº¿ç¨‹å¹¶ä¸”æ”¾å…¥åå°æ‰§è¡Œã€‚ ThreadPool(size_t size) : controller() { this-&gt;shr_ptr = std::make_shared&lt;Controller&lt;F, Args, Ret&gt;&gt;(this-&gt;controller); //å¾ªç¯æ„é€ ç»™å®šæ•°é‡thread å¹¶è¿›å…¥è®©å…¶æ‰§è¡Œæ­»å¾ªç¯ for (size_t i = 0; i &lt; size; i++) { std::thread([ptr = shr_ptr] { std::unique_lock&lt;std::mutex&gt; mux(ptr-&gt;mu); for (;;) { if (!ptr-&gt;tasks.empty())//å¦‚æœä»»åŠ¡éç©ºï¼Œåˆ™ä»é˜Ÿåˆ—é‡Œè·å–å¹¶æ‰§è¡Œä»»åŠ¡ { auto current = std::move(ptr-&gt;tasks.front()); F fun = std::get&lt;0&gt;(current); Args arg = std::get&lt;1&gt;(current); Ret &amp;re = std::get&lt;2&gt;(current); ptr-&gt;tasks.pop(); mux.unlock(); re = fun(arg); mux.lock(); } else if (ptr-&gt;closed)//é€€å‡ºå¾ªç¯ { break; } else//è¿›å…¥é˜»å¡ { ptr-&gt;cond_v.wait(mux); } } }).detach(); } } //ææ„å‡½æ•° å…ˆä¸Šé”é€šçŸ¥ç±»å·²ç»å…³é—­ å†åˆ©ç”¨æ¡ä»¶å˜é‡é€šçŸ¥æ‰€æœ‰çº¿ç¨‹ ~ThreadPool() { if ((bool)shr_ptr) { { std::lock_guard&lt;std::mutex&gt; mu(shr_ptr-&gt;mu); shr_ptr-&gt;closed = true; } shr_ptr-&gt;cond_v.notify_all(); } } //æ‰§è¡Œå‡½æ•° å…ˆä¸Šé”å†™å…¥ä»»åŠ¡ï¼Œå†é€šçŸ¥ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ‰§è¡Œ void excute(F &amp;&amp;f, Args &amp;&amp;args, Ret &amp;ret) { { std::lock_guard&lt;std::mutex&gt; mu(shr_ptr-&gt;mu); //ä¸Šé” ææ„æ—¶å€™è§£é” ä¾¿äºå†™å…¥ shr_ptr-&gt;tasks.emplace(std::tuple&lt;F, Args, Ret &amp;&gt;(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args), ret)); } shr_ptr-&gt;cond_v.notify_one(); }}; å¦‚æ³¨é‡Šæ‰€å†™ä¸€èˆ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨c++å®ç°äº†çº¿ç¨‹æ± ã€‚ æ€»ç»“ æœ¬æ¬¡èŠ±äº†ä¸€æ™šä¸Šæ—¶é—´ï¼Œä½¿ç”¨c++å®ç°äº†ä¸€ä¸ªçº¿ç¨‹æ± ã€‚è™½ç„¶åªæ˜¯å›ºå®šæ•°é‡çš„çº¿ç¨‹æ± ï¼Œä½†å¯¹äºc++å¹¶å‘è€Œè¨€ï¼Œç®—æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å…¥é—¨ã€‚å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæœ¬æ¬¡ä¹Ÿå¤ä¹ äº†ä¸å°‘c++ç›¸å…³çŸ¥è¯†ï¼Œæ›´æ¥è§¦äº†ä¸å°‘ç°ä»£c++ç‰¹æ€§ã€‚å¯ä»¥çœ‹å‡ºï¼Œæœ¬æ–‡åœ¨å·¦å€¼å³å€¼ä¸Šå¹¶æ²¡æœ‰è¿‡å¤šé˜è¿°ï¼Œå› ä¸ºæœ¬äººå¯¹å®Œç¾è½¬å‘æŒæ¡å°šä¸ç†Ÿç»ƒã€‚æœ¬æ¬¡éƒ¨åˆ†ä»£ç ä¹Ÿæ˜¯ä¾è‘«èŠ¦ç”»ç“¢ã€‚ä¹‹åçš„c++å­¦ä¹ è¿‡ç¨‹ä¸­è¿˜å¾—å¼ºåŒ–æ¦‚å¿µä¸ä½¿ç”¨æ–¹æ³•ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/c-%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/"},{"title":"è®¡ç®—æœºç½‘ç»œå¤ä¹ ","text":"å‰ç½®çŸ¥è¯†ï¼š ç½‘ç»œ è®¡ç®—æœºç½‘ç»œå¤ä¹ ä¸»è¦è€ƒç‚¹é€‰æ‹©é¢˜/å¡«ç©ºé¢˜/ç®€ç­”é¢˜/ç»¼åˆè®¡ç®— ç‰©ç†ä¼ è¾“ä»‹è´¨ç§ç±»ï¼š å¼•å¯¼å‹ä¼ è¾“åª’ä½“ï¼š åŒç»çº¿ åŒè½´ç”µç¼† å…‰ç¼† éå¯¼å¼•å‹ä¼ è¾“åª’ä½“ï¼š åœ°é¢å¾®æ³¢ å«æ˜Ÿé€šä¿¡ ç½‘ç»œåè®®å®šä¹‰ï¼Œä¸‰è¦ç´ ï¼š å®šä¹‰ï¼šä¸ºè¿›è¡Œç½‘ç»œä¸­æ•°æ®äº¤æ¢è€Œå®šä¹‰çš„è§„åˆ™æˆ–æ ‡å‡† ä¸‰è¦ç´ ï¼š è¯­æ³•ï¼šæ•°æ®ä¸æ§åˆ¶ä¿¡æ¯çš„ç»“æ„æˆ–æ ¼å¼ è¯­ä¹‰ï¼šå‘å‡ºä½•ç§æ§åˆ¶ä¿¡æ¯ï¼Œå®Œæˆä½•ç§åŠ¨ä½œï¼Œä½œå‡ºä½•ç§å“åº” åŒæ­¥ï¼šäº‹ä»¶å®ç°é¡ºåºçš„è¯´æ˜ CSMA/CDï¼ŒCSMA/CAå·¥ä½œåŸç†ï¼š CSMA/CDï¼šè½½æ³¢ç›‘å¬å¤šç‚¹ä»‹å…¥/ç¢°æ’æ£€æµ‹ å¤šç‚¹æ¥å…¥ï¼šæ€»çº¿å‹ç½‘ç»œ è½½æ³¢ç›‘å¬ï¼šæ£€æµ‹ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦æœ‰å…¶ä»–è®¡ç®—æœºå‘é€ï¼Œå°±æ˜¯ä¸åœæ£€æµ‹ä¿¡é“ ç¢°æ’æ£€æµ‹ï¼šè¾¹å‘é€è¾¹ç›‘å¬ã€‚æ£€æµ‹åˆ°ç”µå‹å˜åŒ–å¹…åº¦è¿‡å¤§åˆ™åœæ­¢æ£€æµ‹ ä½¿ç”¨è¯¥åè®®ï¼Œåªèƒ½åŠåŒå·¥é€šä¿¡ åœ¨æ£€æµ‹åˆ°ç©ºé—²åï¼Œæ¨è¿Ÿä¸€ä¸ªéšæœºçš„æ—¶é—´ï¼Œç„¶åé‡ä¼  CSMA/CAï¼šè½½æ³¢ç›‘å¬å¤šç‚¹ä»‹å…¥/ç¢°æ’é¿å… ç¢°æ’é¿å…ï¼šå‡å°‘ç¢°æ’å‘ç”Ÿçš„æ¦‚ç‡ å‘é€æ•°æ®ä¹‹å‰å…ˆæ£€æµ‹ä¿¡é“ï¼Œæ£€æµ‹ä¸ºç©ºé—²åˆ™ç­‰å¾…ä¸€ä¸ªå¸§è°ƒèŠ‚æ—¶é—´åå‘é€ï¼Œç›®çš„æ¥å—ååˆ™åœ¨ç­‰å¾…ä¸€ä¸ªçŸ­å¸§é—´éš”åå‘é€ACKï¼Œç„¶åå¼€å§‹é€šä¿¡ã€‚æºç«™è¿˜éœ€è¦å°†å ç”¨æ—¶é—´å‘é€ç»™å…¶ä»–ç«™ã€‚ç„¶ååœ¨å¿™å˜ç©ºé—²åï¼Œåœ¨ç­‰å¾…ä¸€ä¸ªå¸§è°ƒèŠ‚æ—¶é—´åè¿›å…¥äº‰ç”¨çª—å£æœŸï¼Œæ‰€æœ‰å‘é€çš„ç«™éƒ½è¦æ‰§è¡Œé€€é¿ç®—æ³•ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªæ—¶é—´é—´éš™å¼€å¯è®¡æ—¶å™¨ï¼Œé‡åˆ°å¿™åˆ™å†»ç»“ã€‚ å­ç½‘è·¯ç”±ä¸ä¸»æœºè·¯ç”±åŒºåˆ«ï¼š è·¯ç”±åˆ°å­ç½‘å’Œè·¯ç”±åˆ°ä¸»æœº æ•°æ®é“¾è·¯å±‚åŠŸèƒ½ï¼Œé€æ˜ä¼ è¾“å®ç°ï¼š é“¾è·¯æ˜¯ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°ç›¸é‚»ç»“ç‚¹çš„ä¸€æ®µç‰©ç†çº¿è·¯ æ•°æ®é“¾è·¯åˆ™æ˜¯åœ¨é“¾è·¯åŸºç¡€ä¸Šå¢åŠ å¿…è¦çš„ç¡¬ä»¶è½¯ä»¶ å‘è¯¥å±‚ç”¨æˆ·æä¾›é€æ˜å¯é çš„åŸºæœ¬æœåŠ¡ ä¸‰ä¸ªé—®é¢˜ï¼šå°è£…æˆå¸§ é€æ˜ä¼ è¾“ å·®é”™æ£€æµ‹ å°è£…æˆå¸§ï¼šè§„å®šæ•°æ®æœ€å¤§ä¼ é€å•å…ƒMTUï¼Œæ·»åŠ é¦–éƒ¨SOHï¼Œå°¾éƒ¨EOT è½¬ä¹‰æ•°æ®æŠ¥ é€æ˜ä¼ è¾“ï¼šè½¬ä¹‰æ•°æ®æŠ¥ æ·»åŠ ESCå­—ç¬¦è½¬ä¹‰ å·®é”™æ£€æµ‹ï¼šCRC ä»…æ£€æµ‹ä¸çº é”™ MACåœ°å€/IPåœ°å€ï¼š ç¡¬ä»¶åœ°å€ï¼Œåˆç§°ä¸ºç‰©ç†åœ°å€ä¸MACåœ°å€ï¼Œå°±æ˜¯é€‚é…å™¨åœ°å€æˆ–è€…é€‚é…å™¨æ ‡è¯†ç¬¦ã€‚å•ä¸ªç«™åœ°å€ å¤šæ’­åœ°å€ å…¨çƒç®¡ç† æœ¬åœ°ç®¡ç† IPåœ°å€ï¼šç½‘ç»œå±‚ä»¥åŠä»¥ä¸Šä½¿ç”¨åœ°å€ï¼Œé€»è¾‘åœ°å€ï¼Œè·¯ç”±å™¨åªæ ¹æ®IPè¿›è¡Œé€‰æ‹© é“¾è·¯å±‚åªèƒ½çœ‹è§MACå¸§ï¼ŒIPå±‚å±è”½äº†è®¸å¤šç»†èŠ‚ ARPï¼šä½¿ç”¨ARPé«˜é€Ÿç¼“å­˜ å»ºç«‹ARPæ˜ å°„è¡¨ åŠ¨æ€æ›´æ–° ARPè¿‡ç¨‹ï¼šå¹¿æ’­ARPè¯·æ±‚åˆ†ç»„ å¾—åˆ°ARPå“åº” å†™å…¥æ˜ å°„è¡¨ TCPé“¾æ¥ï¼Œä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ï¼š ä¸‰æ¬¡æ¡æ‰‹ å®¢æˆ·æ‰“å¼€é“¾æ¥ åˆ›å»ºä¼ è¾“æ§åˆ¶æ¨¡å—TCB å®¢æˆ·å‘æœåŠ¡å™¨å‘é€SYN=1ä»¥åŠè‡ªå·±çš„åºå·X æœåŠ¡å™¨è¿”å›SYN=1 ACK=1 è‡ªå·±çš„åºå·Y ackæ•°å­—X+1 å®¢æˆ·æœºè¿”å›ACK=1 åºå·x+1 ack=y+1 å¹¶å¯ä»¥ä¼ è¾“æ•°æ® å››æ¬¡æŒ¥æ‰‹ï¼š å®¢æˆ·ä¸»åŠ¨å…³é—­ï¼Œå‘æœåŠ¡å‘é€FINä¸åºå· æœåŠ¡å™¨ç…§æ—§å‘é€ACKä¸seq ack æœåŠ¡å™¨å‘å®¢æˆ·ç¡®è®¤FIN å‘é€ACK seq ackä¸ä¸Šæ¬¡ackç›¸åŒ å®¢æˆ·ç…§æ—§ç¡®è®¤ å®¢æˆ·ç­‰å¾…2MSLåå…³é—­ å¯é ä¼ è¾“å®ç°ï¼š æ»‘åŠ¨çª—å£ï¼šä»¥å­—èŠ‚ä¸ºå•ä½ã€‚é€šè¿‡çª—å£æ»‘åŠ¨å’Œç´¯è®¡ç¡®è®¤æ¥å®ç°ã€‚æœ‰ç¼“å­˜ç”¨äºå­˜å‚¨ä¹±åºåˆ°è¾¾æˆ–è€…æ¥å—ä½†æœªè¢«è¯»å–çš„æ•°æ® RTTè®¡ç®—ï¼šRTT_new = (1-a)RTT_old + a(RTT_sample) a=0.125 è¶…æ—¶æ—¶é—´RTOè®¡ç®—ï¼šRTO = RTT + 4(RTTd) RTTd_init = 0.5(RTT) RTTd_new = (1-b)RTTd_old + b(abs(RTT_new-RTT_sample)) b=0.25 é€‰æ‹©ç¡®è®¤ï¼šå¤´éƒ¨åŠ ä¸Šç¡®è®¤è¾¹ç•Œï¼Œé˜²æ­¢é‡ä¼ æµªè´¹ TCPæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œè®¡ç®—ï¼š æ‹¥å¡æ§åˆ¶ï¼šé˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­å…¨å±€æ€§çš„è¿‡ç¨‹ æµé‡æ§åˆ¶æ˜¯ç‚¹åˆ°ç‚¹é€šä¿¡é‡æ§åˆ¶ å¼€ç¯æ§åˆ¶ï¼šè®¾è®¡ç½‘ç»œæ—¶å€™å°†æ‹¥å¡å› ç´ è€ƒè™‘å‘¨åˆ°;é—­ç¯æ§åˆ¶ï¼šæ£€æµ‹ç½‘ç»œç³»ç»Ÿæ‹¥å¡çŠ¶æ€ï¼Œå°†ä¿¡æ¯ä¼ è¾¾åˆ°å¯é‡‡å–è¡ŒåŠ¨çš„åœ°æ–¹ è°ƒæ•´ç½‘ç»œè§£å†³é—®é¢˜ æ…¢å¼€å§‹ï¼šå¹‚å‡½æ•°å¼€å§‹ ç›´è‡³è¾¾åˆ°é—¨é™ æ‹¥å¡é¿å…ï¼šæ¯è¿‡ä¸€ä¸ªRTTåˆ™å¢åŠ 1 å¿«é‡ä¼ ï¼šæ”¶åˆ°ä¸€ä¸ªå³ä½¿é¡ºåºä¸å¯¹ä¹Ÿç¡®è®¤ å¿«æ¢å¤ï¼š3ACKåå‡åŠå¼€å§‹æ‹¥å¡é¿å… 3ACKå‡åŠ è¶…æ—¶åˆ™å½’ä¸º1 é—¨é™éƒ½å‡åŠ AMQï¼šä¸»åŠ¨é˜Ÿåˆ—ç®¡ç† å°äºæœ€å°é—¨é™åˆ™ä¿ç•™ è¶…è¿‡æœ€å¤§é—¨é™åˆ™ä¸¢å¼ƒ åœ¨ä¸­é—´åˆ™éšæœºä¸¢å¼ƒ IPå­ç½‘ç›¸å…³è®¡ç®—ï¼Œè¶…ç½‘ï¼š IPå¯ä»¥åˆ†ä¸ºç½‘ç»œå·ï¼Œå­ç½‘å·ï¼Œä¸»æœºå· IPå¯ä»¥åˆ’åˆ†ä¸ºAï¼ŒBï¼ŒCç±»ï¼Œå¯¹åº”255.0.0.0 255.255.0.0 255.255.255.0 å­ç½‘æ©ç ä¸åœ°å€å–ANDï¼Œå¾—åˆ°ç½‘ç»œå·åœ°å€ã€‚å­ç½‘å·ä½æ•°å†³å®šå­ç½‘æ•°é‡ï¼Œé€šå¸¸å»æ‰å…¨0å’Œå…¨1ã€‚å­ç½‘ä¸»æœºæ•°åŒç†ã€‚ æ¯ä¸€ä¸ªCIDRåœ°å€æ•°éƒ½æ˜¯2çš„æ•´æ•°å¹‚æ¬¡å€æ•°ï¼Œç›¸å½“åŒ…å«ç½‘ç»œæ•°ä¸º2çš„ç½‘ç»œæ•°ä½æ•°å‡å»CIDRä½æ•°å¹‚æ¬¡ CRCè®¡ç®—ï¼š è¢«é™¤æ•°å·¦ç§»é™¤æ•°ä½æ•°-1ä½ï¼Œå¤„ä»¥è¢«é™¤æ•°ï¼Œå¾—åˆ°ä½™æ•°å¹¶åŠ ä¸Šã€‚ ä½™æ•°ä¸º0åˆ™æ²¡æœ‰å·®é”™ RIPè·¯ç”±è®¡ç®—ï¼š åŸºäºè·ç¦»å‘é‡çš„è·¯ç”±é€‰æ‹©åè®® è·ç¦»ä¸ºè·³æ•° ä»…å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢ä¿¡æ¯ï¼Œäº¤æ¢ä¿¡æ¯ä¸ºè‡ªå·±çš„è·¯ç”±è¡¨ï¼ŒæŒ‰ç…§å›ºå®šæ—¶é—´é—´éš”äº¤æ¢ è·ç¦»ç®—æ³•ï¼šå°†è¡¨è·ç¦»åŠ 1,ä¸‹ä¸€è·³è½¬ä¸ºç›®æ ‡ä¸»æœºï¼Œæ›´æ–° å®ç°ç®€å• å¼€é”€è¾ƒå° å¥½æ¶ˆæ¯ä¼ å¾—å¿« åæ¶ˆæ¯ä¼ çš„æ…¢ ç½‘ç»œè§„æ¨¡å°ï¼Œæœ€å¤šä¸º15 æ”¶æ•›æ…¢ ç½‘ç»œæ‹“è¡¥ç»“æ„ï¼š è¾¹ç¼˜éƒ¨åˆ†ï¼Œæ ¸å¿ƒéƒ¨åˆ† è¾¹ç¼˜éƒ¨åˆ†ï¼šç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„ï¼Œå¤„äºäº’è”ç½‘çš„æ‰€æœ‰ä¸»æœºï¼Œåˆå«ç«¯ç³»ç»Ÿã€‚é€šä¿¡æ–¹å¼å¯åˆ†ä¸ºCSæ–¹å¼å’ŒP2Pæ–¹å¼ å®¢æˆ·-æœåŠ¡æ–¹å¼ï¼šæœåŠ¡è¯·æ±‚æ–¹å’ŒæœåŠ¡æä¾›æ–¹ã€‚å®¢æˆ·æƒ³æœåŠ¡å™¨è¯·æ±‚ï¼Œä¸éœ€è¦ç‰¹æ®Šç¡¬ä»¶å’Œå¤æ‚æ“ä½œç³»ç»Ÿã€‚æœåŠ¡å¯åŒæ—¶æ¥å—å¤šä¸ªè¯·æ±‚ï¼Œéœ€è¦å¾ˆå¼ºå¤§æ€§èƒ½ä¸è½¯ä»¶æ”¯æŒã€‚ P2Pï¼šå¯¹ç­‰è¿æ¥æ–¹æ³• æ ¸å¿ƒéƒ¨åˆ†ï¼šç»™ç«¯ç³»ç»Ÿæä¾›æœåŠ¡çš„ã€‚è·¯ç”±å™¨ï¼Œäº¤æ¢æœºç­‰ã€‚ å±€åŸŸç½‘å¯åˆ†ä¸ºæ˜Ÿå½¢ç½‘ ç¯çŠ¶ç½‘ æ€»çº¿ç½‘ äº¤æ¢æŠ€æœ¯ç§ç±»ï¼š ç”µè·¯äº¤æ¢ç‰¹ç‚¹ï¼šç«¯åˆ°ç«¯å»ºç«‹ä¸“ç”¨ç‰©ç†é€šè·¯ å»ºç«‹é“¾æ¥ é€šè¯ é‡Šæ”¾é“¾æ¥ åœ¨é€šè¯å…¨éƒ¨æ—¶é—´é‡Œï¼Œä¸¤ä¸ªç”¨æˆ·å§‹ç»ˆå ç”¨ç«¯åˆ°ç«¯é€šä¿¡èµ„æº åˆ†ç»„äº¤æ¢ç‰¹ç‚¹ï¼šé‡‡ç”¨å­˜å‚¨è½¬å‘æŠ€æœ¯ æ•´å—å‘é€æŠ¥æ–‡ å°†æŠ¥æ–‡åŠ ä¸Šå¿…è¦å¤´éƒ¨å‘é€ éœ€è¦ä¼ è¾“è·¯å¾„ ç”µè·¯äº¤æ¢æ—¶å»¶ï¼šç”µè·¯å»ºç«‹è¿æ¥æ—¶é—´S+æŠ¥æ–‡æ€»é‡X/æ•°æ®ç‡B+é“¾è·¯ä¸ªæ•°K multiply é“¾è·¯ä¼ æ’­æ—¶å»¶B åˆ†ç»„äº¤æ¢æ—¶å»¶ï¼šå‘é€å®Œæœ€åä¸€ä¸ªåˆ†ç»„ç»“æŸ å³ç»è¿‡k-1æ¬¡è½¬å‘ æ—¶å»¶=æ•°æ®æ€»é•¿åº¦x/æ•°æ®ç‡b+ï¼ˆk-1ï¼‰åˆ†ç»„é•¿åº¦p/æ•°æ®ç‡b+k(ä¼ æ’­æ—¶å»¶b) ç¼–ç æŠ€æœ¯ç§ç±»ï¼š ä¸å½’é›¶åˆ¶ï¼šæ­£ç”µå¹³ä¸º1 è´Ÿç”µå¹³ä¸º0 å½’é›¶åˆ¶ï¼šæ­£è„‰å†²ä¸º1 è´Ÿè„‰å†²ä¸º0 æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šå‘ä¸‹è·³å˜ä¸º1 å‘ä¸Šè·³å˜ä¸º0 å·®åˆ†æ›¼å½»æ–¯ç‰¹ï¼šä»è¾¹ç•Œå¼€å§‹è·³å˜ä¸º0 è¾¹ç•Œä¸è·³å˜ä¸º1 è°ƒå¹…ï¼šè½½æ³¢çš„æŒ¯å¹… 01è¡¨ç¤ºä¸åŒæŒ¯å¹… è°ƒé¢‘ï¼šè½½æ³¢çš„é¢‘ç‡ 01å¯¹åº”ä¸åŒé¢‘ç‡ è°ƒç›¸ï¼šåˆå§‹ç›¸ä½éšåŸºå¸¦å˜åŒ–è€Œå˜åŒ– ä¸€èˆ¬é‡‡ç”¨æ··åˆè°ƒåˆ¶ æ­£äº¤æŒ¯å¹…è°ƒåˆ¶ ä¿¡é“å¤ç”¨æŠ€æœ¯ï¼š é¢‘åˆ†å¤ç”¨ï¼šå ç”¨ä¸åŒçš„é¢‘é“å¸¦å®½ æ—¶åˆ†å¤ç”¨ï¼šåœ¨ä¸åŒæ—¶é—´å ç”¨åŒæ ·çš„é¢‘å¸¦å®½åº¦ åˆ‡åˆ†æ—¶é—´ä¸ºå›ºå®šé•¿åº¦ç»„ ç»Ÿè®¡æ—¶åˆ†å¤ç”¨ï¼šå…ˆé›†ä¸­å™¨ï¼Œå†åˆ†é…æ—¶é—´ æ³¢åˆ†å¤ç”¨ï¼šå…‰çš„é¢‘åˆ†å¤ç”¨ ç åˆ†å¤ç”¨ï¼šç”¨æˆ·ä¹‹é—´æ­£äº¤ ç½‘ç»œäº’è¿ï¼Œäº’è¿çš„è®¾å¤‡ï¼Œå±‚æ¬¡ï¼š è®¡ç®—æœºï¼Œé›†çº¿å™¨ï¼Œè·¯ç”±å™¨ï¼Œäº¤æ¢æœºç­‰ï¼Œæ‰‹æœºç­‰æ™ºèƒ½æœºå™¨ ç½‘ç»œå°†è®¸å¤šè®¡ç®—æœºè¿æ¥åœ¨ä¸€èµ· äº’è¿ç½‘å°†è®¸å¤šç½‘ç»œé€šè¿‡è·¯ç”±å™¨è¿æ¥åœ¨ä¸€èµ· å¤šISPç»“æ„äº’è”ç½‘ï¼Œæœ‰ä¸»å¹²ISP åœ°åŒºISP æœ¬åœ°ISP äº’è”ç½‘äº¤æ¢å°±è¯¶ç‚¹IXPå…è®¸ä¸¤ä¸ªç½‘ç»œç›´æ¥ç›¸è¿è€Œä¸å¿…ç»è¿‡æœ€ä¸Šå±‚ä¸»å¹²ISP OSI IEEEä½“ç³»ç»“æ„åˆ†å±‚ï¼š OSIä¸ƒå±‚æ¨¡å‹ï¼šåº”ç”¨å±‚ è¡¨ç¤ºå±‚ ä¼šè¯å±‚ ä¼ è¾“å±‚ ç½‘ç»œå±‚ æ•°æ®é“¾è·¯å±‚ ç‰©ç†å±‚ OSIç¼ºç‚¹ï¼šç¼ºå°‘å®é™…ç»éªŒ å•†ä¸šé©±åŠ¨ å®ç°å¤æ‚ æ•ˆç‡åœ°ä¸‹ åˆ¶å®šå‘¨æœŸé•¿ è¿ä½œä¸åˆç† å®é™…è¿ç”¨ä¸ºTCP/IPæ ‡å‡† IEEEï¼š802.11 æ•°æ®é“¾è·¯å±‚åˆ†ä¸ºé€»è¾‘é“¾è·¯æ§åˆ¶å­å±‚ ä»‹è´¨è®¿é—®æ§åˆ¶å­å±‚ é¢å‘è¿æ¥ï¼Œæ— è¿æ¥åº”ç”¨ï¼ŒåŒºåˆ«ï¼š é€šä¿¡å‰å»ºç«‹è¿æ¥ï¼Œå®Œæˆåé‡Šæ”¾è¿æ¥/å°½æœ€å¤§åŠªåŠ› ä¼ è¾“æ§åˆ¶åè®®TCPï¼šæä¾›é¢å‘è¿æ¥çš„ï¼Œå¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œä¼ è¾“å•ä½ä¸ºæŠ¥æ–‡æ®µ ç”¨æˆ·æ•°æ®æŠ¥åè®®UDPï¼šæ— è¿æ¥çš„ï¼Œå°½æœ€å¤§åŠªåŠ›çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œä¼ è¾“å•ä½ä¸ºç”¨æˆ·æ•°æ®æŠ¥ ç½‘ç»œå®šä¹‰ï¼Œç½‘ç»œåˆ†ç±»ï¼š è®¡ç®—æœºç½‘ç»œä¸»è¦æ˜¯ç”±ä¸€äº›é€šç”¨çš„ å¯ç¼–ç¨‹çš„ç¡¬ä»¶äº’è”è€Œæˆ è¿™äº›ç¡¬ä»¶å¹¶éä¸“é—¨ç”¨æ¥å®ç°æŸä¸€ç‰¹å®šç›®çš„ å¯ç¼–ç¨‹çš„ç¡¬ä»¶èƒ½ç”¨æ¥ä¼ è¾“ä¸åŒç±»å‹æ•°æ® å¹¶ä¸”æ”¯æŒå¹¿æ³›å’Œæ—¥ç›Šå¢é•¿çš„åº”ç”¨ å¹¿åŸŸç½‘WANï¼šå‡ ååˆ°å‡ åƒå…¬é‡Œ;åŸåŸŸç½‘MANï¼šä¸€ä¸ªåŸå¸‚;å±€åŸŸç½‘LANï¼šç”¨äºå¾®å‹è®¡ç®—æœºæˆ–å·¥ä½œç«™ç›¸è¿;ä¸ªäººåŒºåŸŸç½‘PANï¼šä¸ªäººä½¿ç”¨çš„ç”µå­è®¾å¤‡äº’è” å…¬ç”¨ç½‘ï¼šç”µä¿¡å…¬å¸å»ºé€ å¤§å‹ç½‘ç»œ;ä¸“ç”¨ç½‘ï¼šç‰¹æ®Šä¸šåŠ¡æœåŠ¡ï¼Œå¦‚å†›é˜Ÿç½‘ç»œã€‚ DNSä½œç”¨ï¼š DNSæ ¹æœåŠ¡å™¨é‡‡ç”¨ä»»æ’­æŠ€æœ¯ å³ç›¸åŒIPä½†ç‰©ç†ä½ç½®ä¸åŒ å› è€Œæ€»èƒ½æ‰¾åˆ°æœ€è¿‘çš„æœåŠ¡å™¨ é€’å½’æŸ¥è¯¢ è¿­ä»£æŸ¥è¯¢ å°†åŸŸåè§£æä¸ºIP åŠ¨æ€ç½‘é¡µå®ç°æŠ€æœ¯ï¼š CGIé€šç”¨ç½‘å…³æ¥å£ï¼šå®šä¹‰åŠ¨æ€æ–‡æ¡£å¦‚ä½•åˆ›å»ºï¼Œè¾“å…¥æ•°æ®å¦‚ä½•æä¾›ç»™åº”ç”¨ç¨‹åº è¾“å‡ºç»“æœå¦‚ä½•ä½¿ç”¨ CGIç¨‹åºåˆå«CGIè„šæœ¬ æœåŠ¡å™¨æ¨é€æŠ€æœ¯ TCPå¼€é”€å¤§ æ´»åŠ¨æ–‡æ¡£æŠ€æœ¯ æŠŠå·¥ä½œäº¤ç»™æµè§ˆå™¨ HTMLï¼ŒXMLåŒºåˆ«ï¼š HTMLï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ å±•ç¤ºæ–‡æ¡£ XMLï¼šå¯æ‰©å±•æ ‡è®°è¯­è¨€ ç”¨äºæ•°æ®å­˜å‚¨ï¼Œä¼ è¾“ç­‰ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/"},{"title":"å®¹å™¨åŒ–æŠ€æœ¯","text":"å®¹å™¨åŒ–æŠ€æœ¯ä½œä¸ºå½“ä»Šçƒ­é—¨çš„æŠ€æœ¯ï¼Œå·²ç»å½¢æˆçš„æˆç†Ÿçš„åº”ç”¨ä»¥åŠæ´»è·ƒçš„ç”Ÿæ€ã€‚è¶Šæ¥è¶Šå¤šçš„ç¨‹åºé‡‡ç”¨å®¹å™¨æŠ€æœ¯æ¥è¿›è¡Œå°è£…ã€‚å®¹å™¨æŠ€æœ¯æå¤§åœ°æ”¹å–„äº†ç¨‹åºï¼Œç®€åŒ–äº†ç¨‹åºéƒ¨ç½²ã€‚å…¶è½»é‡åŒ–çš„ç‰¹æ€§ä¹Ÿè¢«è®¸å¤šè§£å†³æ–¹æ¡ˆæ‰€é’çã€‚ æœ¬æ–‡æ—¨åœ¨ä»é›¶å¼€å§‹ï¼Œæ„å»ºä¸€ä¸ªç±»dockerçš„å®¹å™¨åº”ç”¨ï¼Œå¹¶ä¸”å®é™…è¿è¡Œï¼ŒåŒæ—¶å¯¹å…¶ä¸­çš„åŸç†è¿›è¡Œå‰–æã€‚ å®¹å™¨åŒ–æŠ€æœ¯æœ¬æœºç¯å¢ƒï¼šLinux version: 4.19.0-10-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6)) #1 SMP Debian 4.19.132-1 (2020-07-24)GO version: go1.13.6 linux/amd64 å‚è€ƒä¹¦ç±ã€Šè‡ªå·±åŠ¨æ‰‹å†™Dockerã€‹ é™ˆæ˜¾é¹­ ç‹ç‚³ç‡Š ç§¦å¦¤å˜‰è‘— ç›®å½• åˆæ¢å®¹å™¨åŒ–ï¼šéš”ç¦»ï¼Œé™åˆ¶ä¸docker run å®¹å™¨é•œåƒä¸æŒä¹…åŒ– document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E5%AE%B9%E5%99%A8%E5%8C%96%E6%8A%80%E6%9C%AF/"},{"title":"å®¹å™¨é•œåƒä¸æŒä¹…åŒ–","text":"æœ¬æ–‡ä¸ºå®¹å™¨åŒ–æŠ€æœ¯ç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç¯‡ã€‚æœ¬æ–‡å°†æŠŠå®¹å™¨æŠ€æœ¯ä¸æ–‡ä»¶ç³»ç»Ÿï¼Œå‹ç¼©æ–‡ä»¶ç›¸ç»“åˆï¼Œå¹¶ä¸”å®ç°commitå‘½ä»¤ï¼Œç”¨äºä¿å­˜é•œåƒæ–‡ä»¶ã€‚ å‰ç½®çŸ¥è¯† Linux Go å®¹å™¨é•œåƒä¸æŒä¹…åŒ–å®¹å™¨é•œåƒoverlayæ–‡ä»¶ç³»ç»Ÿ ä»æœ¬æ–‡å¼€å§‹ï¼Œæˆ‘ä»¬å°†æŠŠå‚è€ƒèµ„æ–™ã€Šè‡ªå·±åŠ¨æ‰‹å†™dockerã€‹çš„åŸç‰ˆä¸­å®ç°çš„é•œåƒæ„é€ è¿›è¡Œæ”¹é€ ï¼Œå…¶ä¸­æœ€æ ¹æœ¬åŸå› æ˜¯åŸä¹¦é‡‡ç”¨äº†AUFSï¼Œè€Œåœ¨ç¬”è€…çš„ç³»ç»Ÿä¸Šï¼Œæ²¡æœ‰AUFSï¼Œå› è€Œé‡‡ç”¨äº†dockerä¹Ÿåœ¨ä½¿ç”¨çš„overlayfsè¿›è¡Œæ›¿ä»£ã€‚ overlayfsä¸AUFSç±»ä¼¼ï¼Œåœ¨linux 3.18å†…æ ¸ä¾¿è¢«æ”¯æŒã€‚overlayå…è®¸ä¸€ä¸ªè¯»å†™ç›®å½•æ ‘è¦†ç›–åˆ°å¦ä¸€ä¸ªåªè¯»ç›®å½•æ ‘ä¸Šï¼Œæ‰€æœ‰å¯¹æ–‡ä»¶çš„ä¿®æ”¹éƒ½åœ¨ä¸Šå±‚çš„å¯å†™å±‚è¿›è¡Œã€‚å®ƒä¸å…¶ä»–çš„UFSä¸åŒï¼Œåœ¨æ‰“å¼€æ–‡ä»¶åçš„æ‰€æœ‰æ“ä½œéƒ½è½¬æ¢åˆ°åº•å±‚æˆ–è€…ä¸Šå±‚çš„æ–‡ä»¶ç³»ç»Ÿã€‚è¿™ä½¿å¾—æ–‡ä»¶ç³»ç»Ÿçš„å®ç°å¾—åˆ°ç®€åŒ–ã€‚ overlayç®€å•çš„ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚ 1mount -t overlay overlay -o lowerdir=/lower,upperdir=/upper,workdir=/work /merged ä»ä¸Šè¿°çš„æŒ‡ä»¤å¯ä»¥çœ‹å‡ºï¼ŒæŒ‡ä»¤æŒ‡å®šäº†åº•å±‚æ–‡ä»¶åªè¯»å±‚ï¼Œå¯ä»¥æœ‰å¤šå±‚;ä¸Šå±‚æ–‡ä»¶å¯å†™å±‚;å·¥ä½œæ–‡ä»¶æ˜¯æä¾›ç»™æ–‡ä»¶ç³»ç»Ÿä¾¿äºç”Ÿæˆã€‚mergedåˆ™æ˜¯æœ€ååˆå¹¶çš„æŒ‚è½½ç›®å½•ã€‚æ³¨æ„åº•å±‚ï¼Œé¡¶å±‚ä¸å·¥ä½œçš„ç›®å½•çš„æ–‡ä»¶ç³»ç»Ÿï¼Œoverlayåœ¨è¿™æ–¹é¢æœ‰å¾ˆå¤šé™åˆ¶ã€‚ åœ¨æ‰§è¡Œå®Œæˆä¸Šè¿°æŒ‚è½½æŒ‡ä»¤åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶å¤¹ä¸­è¿›è¡Œè¯»å†™æ–‡ä»¶çš„å°è¯•ã€‚å…·ä½“ä¸åœ¨æœ¬æ–‡ä¸­å‘ˆç°ã€‚ä¸‹é¢æˆ‘ä»¬å°†å…¶æŒ‚å…¥å®¹å™¨ç³»ç»Ÿä¹‹ä¸­ã€‚ busyboxåŸºç¡€é•œåƒ è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨busyboxä½œä¸ºåŸºç¡€çš„é•œåƒã€‚busyboxæ˜¯ä¸€ä¸ªç²¾ç®€çš„é•œåƒï¼ŒåŒ…å«äº†å¾ˆå¤šUNIXç¯å¢ƒçš„å¸¸ç”¨å‘½ä»¤ã€‚busyboxå¯ä»¥ä½¿ç”¨docker exportå¾—åˆ°tarï¼Œå¹¶ä¸”è§£å‹å¾—åˆ°æ–°çš„rootfsã€‚ æˆ‘ä»¬å®ç°çš„åŸºç¡€æ€è·¯æ˜¯ï¼šä½¿ç”¨pivot_rootå°†æ•´ä¸ªrootæ–‡ä»¶ç³»ç»Ÿç§»åŠ¨è¿›busyboxæ‰€æä¾›çš„ç›®å½•ï¼Œä½¿ç”¨overlayå°†å…¶åˆ›å»ºä¸ºåªè¯»å±‚ï¼Œç„¶ååˆ›å»ºåªå†™å±‚ï¼Œæä¾›ç»™å®¹å™¨è¿›è¡Œè¿è¡Œæ“ä½œã€‚åœ¨å®¹å™¨ç»“æŸè¿è¡Œåï¼Œè¿˜åŸè¿™ä¸€åˆ‡ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å°†busyboxè§£å‹ï¼Œå¾—åˆ°å…¶rootfsã€‚ 12345678910111213141516171819func CreateReadOnlyLayer(rootURL string) error { //æ³¨æ„æ–‡ä»¶ä½ç½® å°†taræ”¾åˆ°æŒ‡å®šä½ç½® busyboxURL := rootURL + \"busybox/\" busyboxTarURL := rootURL + \"busybox.tar\" exist, err := PathExists(busyboxURL) if err != nil { return fmt.Errorf(\"path exist error:%v\", err) } if exist == false { if err := os.Mkdir(busyboxURL, 0777); err != nil { return fmt.Errorf(\"mkdir root error: %v\", err) } //è§£å‹æ–‡ä»¶åˆ°æ–‡ä»¶å¤¹ if _, err := exec.Command(\"tar\", \"-vxf\", busyboxTarURL, \"-C\", busyboxURL).CombinedOutput(); err != nil { return fmt.Errorf(\"tar error: %v\", err) } } return nil} ç„¶åï¼Œåˆ›å»ºè¯»å†™å±‚ä¸å·¥ä½œå±‚ï¼Œå°†å…¶æŒ‚å…¥ç›®å½•ã€‚æ­¤å¤„ä¸å¿…å¤šè¯´ã€‚ ä¹‹åï¼Œåœ¨mountå„ç§éœ€è¦çš„ä¸œè¥¿ä¹‹å‰ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨pivot_rootç³»ç»Ÿè°ƒç”¨ï¼Œå°†æ•´ä¸ªç³»ç»Ÿçš„æ ¹æ–‡ä»¶ç§»åŠ¨è¿›å…¥è¯¥æ–‡ä»¶å¤¹ã€‚ 123456789101112131415161718192021222324252627282930func pivotRoot(root string) error { fmt.Println(\"pivot rooting\") //é‡æ–°æŒ‚åœ¨æœ¬ç›®å½• ä¾¿äºä½¿å¾—æ–°è€rootä¸åœ¨åŒä¸€æ–‡ä»¶ç³»ç»Ÿä¸‹ if err := syscall.Mount(root, root, \"bind\", syscall.MS_BIND|syscall.MS_REC, \"\"); err != nil { return fmt.Errorf(\"mount bind error: %v\", err) } pivotDir := filepath.Join(root, \".pivot_root\") if err := os.Mkdir(pivotDir, 0777); err != nil { return fmt.Errorf(\"mkdir error: %v\", err) } if err := syscall.Mount(\"\", \"/\", \"\", syscall.MS_PRIVATE|syscall.MS_REC, \"\"); err != nil { fmt.Printf(\"mount / error: %v\\n\", err) return err } if err := syscall.PivotRoot(root, pivotDir); err != nil { return fmt.Errorf(\"pivotroot error: %v\", err) } if err := syscall.Chdir(\"/\"); err != nil { return fmt.Errorf(\"chdir error: %v\", err) } //å¸è½½åŸrootfs æ¸…é™¤ä¸´æ—¶æ–‡ä»¶ pivotDir = filepath.Join(\"/\", \".pivot_root\") if err := syscall.Unmount(pivotDir, syscall.MNT_DETACH); err != nil { return fmt.Errorf(\"umount error: %v\", err) } return os.Remove(pivotDir)} åœ¨ä¸Šè¿°å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä¸ºäº†ä½¿å¾—è€rootå’Œæ–°rootä¸å†ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹ï¼Œå°†rooté‡æ–°mountäº†ä¸€æ¬¡ï¼Œä½¿å¾—æ–°è€rootä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚ç„¶åè¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œæ›´æ”¹å½“å‰ç›®å½•ï¼Œåˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚ åœ¨æ­¤ä¹‹åï¼Œå°±åƒä¹‹å‰çš„æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ï¼Œæˆ‘ä»¬æŒ‚è½½å¿…è¦çš„ï¼Œå¦‚procç­‰ã€‚æˆ‘ä»¬å¾—åˆ°äº†ä»¥æ ¹ç›®å½•ä¸ºè™šæ‹Ÿç¯å¢ƒçš„å®¹å™¨è¿›ç¨‹ã€‚ è‡³äºå¸è½½æ–¹é¢ï¼Œæˆ‘ä»¬åªéœ€è¦umountæˆ‘ä»¬æ‰€æŒ‚è½½çš„ç›®å½•ï¼Œå¹¶ä¸”åˆ é™¤æ–‡ä»¶å¤¹ï¼Œå³å¯ã€‚åœ¨æ­¤ä¹Ÿä¸è¿‡å¤šé˜è¿°ã€‚ ä½†æˆ‘ä»¬éœ€è¦çš„ä¸ä»…æ˜¯è™šæ‹Ÿçš„ç¯å¢ƒï¼Œæˆ‘ä»¬è¿˜æœ‰æŒä¹…åŒ–çš„éœ€æ±‚ã€‚è¿™é‡Œæˆ‘ä»¬å¼•å…¥æ•°æ®å·çš„æ¦‚å¿µï¼Œæ¥å­˜æ”¾æˆ‘ä»¬æŒä¹…åŒ–çš„æ•°æ®ã€‚ æŒä¹…åŒ–mount â€“bind å°±åƒæ ‡é¢˜æ‰€å†™ï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨mount â€“bindçš„æ–¹æ³•æ¥è¿›è¡ŒæŒä¹…åŒ–ã€‚mount â€“bindç›¸å½“äºå°†ä¸¤ä¸ªç›®å½•è¿æ¥èµ·æ¥ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¾—åˆ°æŒä¹…åŒ–çš„ç›®å½•ååï¼Œä½¿ç”¨bindå°†å®¹å™¨å¤–çš„ç›®å½•ä¸å®¹å™¨å†…çš„ç›®å½•è¿æ¥èµ·æ¥ã€‚åŒæ—¶åœ¨æœ€åé€€å‡ºçš„æ—¶å€™ï¼Œå…ˆå¸è½½å¯¹åº”ç›®å½•ï¼Œæ­¤æ—¶æ–‡ä»¶ä¾¿ç•™åœ¨äº†å®¹å™¨å¤–çš„ç›®å½•ã€‚æˆ‘ä»¬ä¾¿å®ç°äº†æŒä¹…åŒ–çš„ç›®æ ‡ã€‚ åŒæ—¶æˆ‘ä»¬è¦æ³¨æ„ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ æ–°çš„commandé€‰é¡¹ï¼Œè§£æå­—ç¬¦ä¸²ï¼Œåœ¨è¿™é‡Œä¾¿ä¸è¿‡å¤šå±•ç¤ºã€‚ volumeä»£ç å®ç° è¿™é‡Œå±•ç¤ºçš„ä»…ä»…æ˜¯å¼€å§‹mountå’Œç»“æŸumountçš„è¿‡ç¨‹ï¼Œå¢åŠ å‘½ä»¤ä¸è§£æç”±äºç¯‡å¹…æš‚ä¸å±•ç¤ºã€‚åŸç†å¦‚ä¸Šè¿°æ‰€è¯´ã€‚ç”±äºgoçš„å¼‚å¸¸å¤„ç†ï¼Œä»£ç ä¼šæ˜¾å¾—é¢‡ä¸ºå†—æ‚ã€‚ä½†æœ¬æ„å¦‚ä¸Šæ‰€ç¤ºã€‚ 1234567891011121314151617181920212223242526272829303132333435func MountVolume(rootURL string, mntURL string, volumeURLs []string) error { //volumeURLsæ ¼å¼ä¸º [å®¹å™¨å¤–ç›®å½•,å®¹å™¨å†…ç›®å½•] parentURL := volumeURLs[0] if err := os.Mkdir(parentURL, 0777); err != nil { if exist, _ := PathExists(parentURL); exist == false { return fmt.Errorf(\"error in mkdir parentURL: %v\", err) } } containerURL := volumeURLs[1] containerVolumeURL := mntURL + containerURL fmt.Println(containerVolumeURL) if err := os.Mkdir(containerVolumeURL, 0777); err != nil { return fmt.Errorf(\"error in mkdir containerVolumeURL: %v\", err) } //æŒ‚è½½ç›®å½• cmd := exec.Command(\"mount\", \"--bind\", parentURL, containerVolumeURL)//ç»‘å®š cmd.Stderr = os.Stderr cmd.Stdout = os.Stdout if err := cmd.Run(); err != nil { return fmt.Errorf(\"Mount volume error :%v\", err) } return nil}func DeleteVolumeMountPoint(mntURL string, volumnURL string) error { //å¸è½½ cmd := exec.Command(\"umount\", \"-v\", mntURL+volumnURL) cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr if err := cmd.Run(); err != nil { return fmt.Errorf(\"delete mount volume error : %v\", err) } return nil} åœ¨å®Œæˆè¿™äº›å·¥ä½œåï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•æ•°æ®å·æ˜¯å¦å·¥ä½œæ­£å¸¸ã€‚ä¸‹é¢æ˜¯æœ¬æœºçš„ä¸€ä¸ªè¿è¡Œå®ä¾‹ã€‚å¯ä»¥çœ‹è§ï¼Œåœ¨å®Œæˆæ•°æ®å·å·¥ä½œåï¼Œæ•°æ®ç¡®å®å¾—åˆ°äº†æŒä¹…åŒ–ã€‚ 1234567891011121314151617181920212223242526root@wqy:/media/wqy/æ–°åŠ å·/projekts/Go/src/mydocker# sudo ./mydockerdev run -ti -v /volume:/containerVolume shstart runCommandNew parentmounting /home/wqy/mnt//containerVolume[/volume /containerVolume]your command is shstart initCommandreading user commandthe command is shmount start/home/wqy/mntpivot rootingthe current wd is // # lsbin etc root usrcontainerVolume home sys vardev proc tmp/ # cd containerVolume//containerVolume # lsa.txt/containerVolume # echo \"sfsfsf\" &gt;b.txt/containerVolume # exitwqy@wqy:/volume$ cat b.txtsfsfsf é•œåƒæ‰“åŒ… é•œåƒæ‰“åŒ…ä¹Ÿæ˜¯æˆ‘ä»¬éœ€è¦çš„ä¸€é¡¹åŠŸèƒ½ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æä¾›ä¸€ä¸ªç®€å•çš„å®ç°æ–¹æ³•ï¼šåœ¨ä¸ºé€€å‡ºå‰ï¼Œå°†æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…æˆtarä¿å­˜åˆ°å¤–é¢å³å¯ã€‚ åœ¨å…·ä½“å®ç°ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¢åŠ æŒ‡ä»¤ï¼Œè§£æå‚æ•°ã€‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨commitå‘½ä»¤ï¼Œåœ¨å®¹å™¨è¿è¡Œæ—¶å€™è¿›è¡Œæ‰“åŒ…ã€‚ 12345678910func commitContainer(imageName string) error { mntURL := \"/home/wqy/mnt/\" rootURL := \"/home/wqy/\" imageTar := rootURL + imageName + \".tar\" fmt.Println(imageTar) if _, err := exec.Command(\"tar\", \"-czf\", imageTar, \"-C\", mntURL, \".\").CombinedOutput(); err != nil { return fmt.Errorf(\"tar error: %v \", err) } return nil} è¿™é‡Œæä¾›çš„ç®€å•çš„æ‰“åŒ…è§£å†³æ–¹æ¡ˆã€‚åŒæ ·ï¼Œè§£æå‘½ä»¤çš„æ“ä½œä¾¿ä¸åœ¨æ­¤å±•ç¤ºã€‚ è‡³æ­¤ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€äº›ä¸å®¹å™¨æ–‡ä»¶ç›¸å…³çš„ç®€å•æ“ä½œã€‚ ä¸‹ä¸€æ­¥åšä»€ä¹ˆ åœ¨ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ‰©å±•å®¹å™¨çš„åŠŸèƒ½ï¼Œå®ç°ä¸€äº›å¸¸ç”¨çš„dockeræŒ‡ä»¤ï¼Œä½¿å¾—æˆ‘ä»¬çš„å®¹å™¨æ›´åŠ æ¥è¿‘dockerï¼Œå¯ç”¨æ€§æ›´å¼ºã€‚åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨è¿™äº›åŠŸèƒ½ã€‚ æ€»ç»“ä¸åè®° è¿™å±äºå®¹å™¨åŒ–æŠ€æœ¯ç¬¬äºŒç¯‡æ–‡ç« ã€‚æœ¬æ–‡åªä»‹ç»äº†ä¸€äº›ç®€å•çš„æ–‡ä»¶åŠŸèƒ½ä»¥åŠå®ç°ã€‚æ–‡ç« è¾ƒä¸Šä¸€ç¯‡ç¯‡å¹…æ˜æ˜¾å‡å°‘ï¼Œä¸»è¦åŸå› è¿˜æ˜¯å®ç°çš„åŠŸèƒ½ä¸å¤ªå¤æ‚ï¼ŒåŸç†ä¹Ÿä¸éœ€è¦è¿‡å¤šä»‹ç»ã€‚å®Œæˆæ—¶é—´ä¹Ÿè¾ƒäºä¸Šä¸€ç¯‡æ–‡ç« æ‰€é¢„æœŸçš„æ—¶é—´æ™šäº†æ•´æ•´ä¸€ä¸ªæ˜ŸæœŸã€‚è¿™æœŸé—´ä¹Ÿæœ‰å‚åŠ æ¯”èµ›ï¼Œæ‹–äº†ä¸€ä¸‹çš„ç¼˜æ•…ã€‚ å†™å®Œæœ¬æ–‡ä¸»è¦æ˜¯å¯¹æ–‡ä»¶çš„çŸ¥è¯†æœ‰æ‰€å›é¡¾ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°è¯•äº†ç¬¬ä¸€æ¬¡è‡ªå·±è®¾è®¡è§£å†³æ–¹æ¡ˆï¼Œå¦‚ä½¿ç”¨bindï¼Œè¿™æ˜¯åœ¨åŸæœ¬ä¹¦ä¸Šæ²¡æœ‰å†™çš„ã€‚ä¹¦ä¸Šçš„è§£å†³æ–¹æ¡ˆåœ¨æœ¬æœºä¸Šæ— æ³•å®ç°ï¼Œä¾¿è‡ªå·±æƒ³äº†ä¸€ä¸ªã€‚åæ¥æ‰å‘ç°ï¼Œdockerä¹Ÿä½¿ç”¨äº†è¿™æ ·çš„æŠ€æœ¯ã€‚ ä¸‹ä¸€ç¯‡æŠ€æœ¯å«é‡ä¼šæ¯”æœ¬ç¯‡è¦æ›´é«˜ã€‚ä½†é¢„è®¡æ—¶é—´ä¹Ÿæ›´é•¿ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæœˆå·¦å³ï¼Œæ•¬è¯·æœŸå¾…ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E4%B8%8E%E6%8C%81%E4%B9%85%E5%8C%96/"},{"title":"ç®€æ˜“æ­£åˆ™è½¬NFAå®ç°","text":"æœ¬æ–‡å°†ä»‹ç»ç®€æ˜“æ­£åˆ™è½¬nfaçš„ä¸€ä¸ªpythonå®ç°ã€‚ å‰ç½®çŸ¥è¯† python ç¼–è¯‘åŸç† ç®€æ˜“æ­£åˆ™è½¬NFAå®ç°ç®€ä»‹ NFAï¼Œå³éç¡®å®šæ€§æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚ä»–å°†æ–‡æœ¬åŒ¹é…è½¬åŒ–ä¸ºçŠ¶æ€çš„è½¬ç§»ï¼Œç»™äºˆåˆæ€ä¸ç»ˆæ€ã€‚å½“ä¸€ä¸²æ–‡æœ¬éšç€è¾“å…¥ï¼Œèƒ½æˆåŠŸä»åˆæ€è½¬æ¢åˆ°ç»ˆæ­¢çŠ¶æ€ï¼Œå³ä¸ºåŒ¹é…æˆåŠŸã€‚å¹¶ä¸”ç”±äºå…¶ä¸ºéç¡®å®šå‹ï¼Œç›¸åŒçš„æ–‡æœ¬åŒ¹é…æ¨¡å¼ï¼Œå¯èƒ½å­˜åœ¨çš„NFAå½¢æ€ä¼šå¾ˆå¤šã€‚ æ­£åˆ™è¡¨è¾¾å¼ï¼Œå³ä¸€ä¸²ç”¨äºæè¿°æ–‡æœ¬åŒ¹é…è§„åˆ™çš„æ–‡æœ¬ã€‚é€šè¿‡ç‰¹æ®Šå­—ç¬¦ç»„åˆæˆè§„åˆ™å­—ç¬¦ä¸²ï¼Œç”¨äºè¿‡æ»¤æ–‡æœ¬ã€‚ æœ¬é¡¹ç›®å°†å®ç°ä½¿ç”¨pythonï¼Œå°†ç®€æ˜“æ­£åˆ™ï¼Œå³åŒ…å«è¿æ¥è¿ç®—ï¼Œå…‹æ—æ˜Ÿå·è¿ç®—ï¼Œæˆ–æ“ä½œè¿ç®—çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè½¬æ¢åˆ°ç­‰ä»·NFAçš„è¿‡ç¨‹ã€‚ NFAå®ç° çŠ¶æ€æœºæœ¬èº«ç›¸å½“äºå›¾ï¼ŒåŒ…å«è¾¹é›†ä¸ç‚¹é›†ã€‚ç”±äºæˆ‘ä»¬ä¸éœ€è¦å®é™…è¿›è¡ŒåŒ¹é…ï¼Œåªéœ€è¦è½¬æ¢ï¼Œå› æ­¤å¯ä»¥çœç•¥éƒ¨åˆ†ç‚¹ï¼Œåªä¿ç•™èµ·ç‚¹ä¸ç»ˆç‚¹ã€‚ä½†æˆ‘ä»¬éœ€è¦å±•ç¤ºæ‰€æœ‰è¾¹ï¼Œå› è€Œè¾¹ä¸å¯ä»¥çœç•¥ã€‚ æ ¹æ®ä¸Šè¿°æè¿°ï¼Œæˆ‘ä»¬æ¥å®šä¹‰ç±»ï¼š 123456class NFA: def __init__(self,ch): self.head = 1 self.tail = 2 self.lines = [[1,ch,2]] åˆå§‹åŒ–æ–¹æ³•ï¼Œèµ·ç‚¹ä¸ç»ˆç‚¹ï¼Œåˆå§‹åŒ–çš„è¾¹ã€‚æˆ‘ä»¬ä¾¿æ‹¥æœ‰äº†ä¸€ä¸ªæœ€ç®€å•çš„NFAã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å†æ¥å®ç°ç›¸åº”è¿ç®—åŠŸèƒ½ã€‚ è¿æ¥æ“ä½œ è¿æ¥æ“ä½œæœ€ä¸ºç®€å•ã€‚æˆ‘ä»¬åªéœ€è¦å°†ç¬¬äºŒä¸ªNFAèµ·ç‚¹è¿æ¥åˆ°ç¬¬ä¸€ä¸ªNFAç»ˆç‚¹å³å¯ã€‚æ³¨æ„ç»“ç‚¹åºå·é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦æ ‡è¯†æ¯ä¸ªç»“ç‚¹ï¼Œè¿™æ—¶å€™åªéœ€è¦å°†æ¥åœ¨åé¢çš„NFAçš„æ¯ä¸ªç»“ç‚¹çš„åºå·å¢åŠ å‰NFAèŠ‚ç‚¹ä¸ªæ•°-1çš„æ•°é‡å³å¯ã€‚ 12345def and_NFA(self,NFA_b): NFA_b.add_num(len(self)-1) for line in NFA_b.lines: self.lines.append(line) self.tail = NFA_b.tail æˆ–è¿ç®—æ“ä½œ æˆ–è¿ç®—ç¨ä¸ºå¤æ‚ï¼Œä½†ä¹Ÿä¸éš¾ã€‚æˆ–è¿ç®—ç›¸å½“äºå°†ä¸¤ä¸ªNFAå¹¶è”èµ·æ¥ã€‚æˆ‘ä»¬åªéœ€è¦å¢åŠ å¤´èŠ‚ç‚¹ï¼Œå°¾ç»“ç‚¹ï¼Œå†åœ¨ä¸­é—´å¹¶è”ä¸¤ä¸ªNFAå³å¯ã€‚åŒæ ·ï¼Œæ³¨æ„ç»“ç‚¹åºå·é—®é¢˜ã€‚ 1234567891011def or_NFA(self,NFA_b): self.add_num(1) NFA_b.add_num(len(self)+1) for line in NFA_b.lines: self.lines.append(line) self.lines.append([1,'~',self.head]) self.lines.append([1,'~',NFA_b.head]) self.lines.append([self.tail,'~',NFA_b.tail+1]) self.lines.append([NFA_b.tail,'~',NFA_b.tail+1]) self.tail = NFA_b.tail+1 self.head = 1 å…‹æ—æ˜Ÿå·è¿ç®— å…‹æ—æ˜Ÿå·è¿ç®—æ‰€è¡¨ç¤ºçš„NFAå¹¶ä¸å¤æ‚ã€‚å®ƒè¡¨ç¤ºå‰é¢çš„å­—ç¬¦å¯ä»¥åŒ¹é…0æ¬¡æˆ–è€…å¤šæ¬¡ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªå¾ªç¯çš„æ€æƒ³ã€‚å³èµ·ç‚¹å¯ä»¥ç›´æ¥è·³åˆ°ç»ˆç‚¹ï¼Œç»ˆç‚¹ä¹Ÿå¯ä»¥ç›´æ¥è·³åˆ°èµ·ç‚¹ã€‚é‚£ä¹ˆå¢åŠ ä¸¤æ¡è¾¹å³å¯ã€‚ 123def kleen_NFA(self): self.lines.append([self.head,'~',self.tail]) self.lines.append([self.tail,'~',self.head]) ç”±äºæˆ‘ä»¬åªå®ç°ç®€æ˜“æ­£åˆ™ï¼Œå®ç°ä¸‰ä¸ªè¿ç®—å³å¯ã€‚åœ¨å®ŒæˆNFAæ–¹æ³•æ„å»ºåï¼Œæˆ‘ä»¬æ¥å…³æ³¨æ­£åˆ™çš„è§£æé—®é¢˜ã€‚ æ­£åˆ™è¡¨è¾¾å¼è§£æ æ­£åˆ™çš„è§£æå¦‚åŒè®¡ç®—å™¨ä¸€æ ·ï¼Œéœ€è¦ç¬¦å·æ ˆä¸æ–‡æœ¬æ ˆï¼Œå¹¶ä¸”è¦å¤„ç†ä¼˜å…ˆçº§é—®é¢˜ã€‚ä½†æˆ‘ä»¬åªå®ç°äº†ä¸‰ç§è¿ç®—ï¼Œä¼˜å…ˆçº§é—®é¢˜å¹¶ä¸å›°éš¾ã€‚ å¯¹äºå…‹æ—è¿ç®—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹æ–‡æœ¬æ ˆé¡¶è¿›è¡Œè¿ç®—ã€‚å®ƒçš„ä¼˜å…ˆçº§æœ€é«˜ã€‚ å¯¹äºè¿æ¥è¿ç®—ï¼Œæˆ‘ä»¬éœ€è¦æ”¾å…¥ç¬¦å·æ ˆï¼Œç­‰å¾…é‡åˆ°æˆ–è¿ç®—æ¸…ç†æ ˆæ—¶å€™æ¥å¤„ç†ã€‚ å¯¹äºæˆ–è¿ç®—ï¼Œå½“æ£€æµ‹åˆ°æˆ–æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ ˆé¡¶çš„è¿æ¥è¿ç®—å…¨éƒ¨æ¸…ç©ºï¼Œç›´åˆ°é‡åˆ°æˆ–è¿ç®—æˆ–è€…å·¦æ‹¬å·ä¸ºæ­¢ã€‚å†æ”¾å…¥ç¬¦å·æ ˆã€‚ å¯¹äºæ‹¬å·è¿ç®—ï¼Œå·¦æ‹¬å·ç›´æ¥è¿›å…¥ç¬¦å·æ ˆï¼Œå³æ‹¬å·åˆ™æ¸…ç†æ–‡æœ¬æ ˆï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ä¸ºæ­¢ã€‚ å½“ç®—æ³•ç»“æŸåï¼Œè‹¥æ–‡æœ¬æ ˆæœªè§„çº¦å®Œæˆï¼Œåˆ™ç»§ç»­å¼¹å‡ºä¸¤ä¸ªæ–‡æœ¬ä¸ä¸€ä¸ªç¬¦å·ï¼Œè¿›è¡Œè¿ç®—ï¼Œç›´è‡³è§„çº¦å®Œæˆã€‚ å¯¹äºä¸Šè¿°è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»£ç .æ­¤å¤„è¿æ¥ä½¿ç”¨ç‚¹æ¥ä»£æ›¿ã€‚calculateå‡½æ•°ä»£è¡¨å°†ç¬¦å·ä½œç”¨äºæ–‡æœ¬æ ˆï¼š 12345678910111213141516171819202122232425262728293031def parse(s): sign_stack = [] nfa_stack = [] for ch in s: if ch=='(': sign_stack.append(ch) elif ch == ')': while len(sign_stack) != 0 and sign_stack[-1] != '(': tmp = sign_stack[-1] sign_stack.pop() nfa_stack[-2] = calculate(tmp,nfa_stack[-2],nfa_stack[-1]) nfa_stack.pop() elif ch == '*': nfa_stack[-1] = calculate(ch,nfa_stack[-1],None) elif ch == '|': while len(sign_stack) != 0 and sign_stack[-1] == '.': sign_stack.pop() nfa_stack[-2] = calculate('.',nfa_stack[-2],nfa_stack[-1]) nfa_stack.pop() sign_stack.append(ch) elif ch == '.': sign_stack.append(ch) else : nfa_stack.append(NFA(ch)) while len(nfa_stack)&gt;1: ch = sign_stack[-1] sign_stack.pop() nfa_stack[-2] = calculate(ch,nfa_stack[-2],nfa_stack[-1]) nfa_stack.pop() return nfa_stack[0] One more thing æœ€åä¸€ä¸ªé—®é¢˜ã€‚åœ¨é»˜è®¤çš„æ­£åˆ™è¡¨è¾¾å¼ä¸­æ²¡æœ‰è¿æ¥è¿ç®—ç¬¦ã€‚æˆ‘ä»¬å¯ä»¥ç¡¬ç¼–ç ä¸€ä¸‹å¢åŠ è¿æ¥è¿ç®—ç¬¦çš„è§„åˆ™ï¼Œç„¶åå°†åŸæ¥çš„è¡¨è¾¾å¼è½¬æ¢ä¸ºå¯ä»¥è§£æçš„è¡¨è¾¾å¼ã€‚ 123456789101112131415161718192021222324def RegexToNFA(s): ret = s[0] for i in range(1,len(s)): pre = s[i-1] now = s[i] if isCharacter(pre) and isCharacter(now): ret +='.' ret += now elif isCharacter(pre) and now == '(': ret +='.' ret += now elif pre == ')' and isCharacter(now): ret +='.' ret += now elif pre == '*' and isCharacter(now): ret +='.' ret += now elif pre == '*' and now == '(': ret +='.' ret += now else : ret += now print(ret) return parse(ret) è§„åˆ™é˜è¿°ä¸å¿…å¤šè¯´ã€‚ä¸Šè¿°å¯èƒ½æœ‰é—æ¼ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚ æ€»ç»“ æœ¬æ–‡æä¾›äº†ä¸€ä¸ªç®€å•æ­£åˆ™è½¬NFAçš„pythonå®ç°ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨pythonæ˜¯å› ä¸ºå†™ç€ç®€å•ï¼Œæ•°æ®ç»“æ„éšæ„ã€‚åœ¨æœ€å¼€å§‹æˆ‘æƒ³æ‹¿schemeå†™ï¼Œä½†apiè¿˜æ˜¯ä¸ç†Ÿæ‚‰ã€‚æœ€åé€‰ç”¨äº†pythonã€‚ æœ¬æ–‡æŠ€æœ¯å«é‡ä¸é«˜ï¼Œçº¯ç²¹ä¸ºè¯¾å ‚è®°å½•ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E7%AE%80%E6%98%93%E6%AD%A3%E5%88%99%E8%BD%ACnfa%E5%AE%9E%E7%8E%B0/"},{"title":"GoçŸ¥è¯†ç‚¹","text":"ä¸€äº›GOçš„çŸ¥è¯†ç‚¹ã€‚ Goçš„çŸ¥è¯†ç‚¹ç¼–è¯‘ç›¸å…³Goå¯ä»¥ç”Ÿæˆæ±‡ç¼–ï¼Œé‡‡ç”¨ä¸‹åˆ—æŒ‡ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š 1go build -gcflags -S main.go Goå¯ä»¥ç”Ÿæˆæ±‡ç¼–ä¼˜åŒ–è¿‡ç¨‹ã€‚é€šè¿‡GOSSAFUNCï¼Œå¯ä»¥ç”Ÿæˆhtmlæ–‡ä»¶æ¥äº¤äº’æŸ¥çœ‹ã€‚ SSAï¼šé™æ€å•èµ‹å€¼ã€‚å³æ¯ä¸ªå˜é‡åªä¼šè¢«èµ‹å€¼ä¸€æ¬¡ï¼Œä¾¿äºä¼˜åŒ–ã€‚åŒä¸€å˜é‡åå­—ä¼šç”Ÿæˆä¸åŒåç¼€æ¥åŒºåˆ†ã€‚ GOå¯ä»¥ç”Ÿæˆå„ç§æœºå™¨ç ï¼ŒåŒ…æ‹¬wasmã€‚ TODOï¼šå¾…åˆ°å­¦å®Œç¼–è¯‘åŸç†åœ¨çœ‹ã€‚ æ•°æ®ç»“æ„æ•°ç»„åªæœ‰ç±»å‹å’Œå¤§å°å®Œå…¨ç›¸åŒï¼Œæ‰èƒ½è®¤ä¸ºæ˜¯åŒä¸€æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨==æ¯”è¾ƒã€‚ ã€â€¦ã€‘T{1,2,3}ä¸ã€3ã€‘T{1,2,3}ä½¿ç”¨ä¸Šå®Œå…¨ç›¸åŒï¼Œåªæ˜¯è¯­æ³•ç³–ã€‚ å½“å…ƒç´ æ•°é‡å°äºæˆ–è€…ç­‰äº 4 ä¸ªæ—¶ï¼Œä¼šç›´æ¥å°†æ•°ç»„ä¸­çš„å…ƒç´ æ”¾ç½®åœ¨æ ˆä¸Šã€‚ å½“å…ƒç´ æ•°é‡å¤§äº 4 ä¸ªæ—¶ï¼Œä¼šå°†æ•°ç»„ä¸­çš„å…ƒç´ æ”¾åˆ°é™æ€å­˜å‚¨åŒºåˆå§‹åŒ–ç„¶åæ‹·è´åˆ°æ ˆä¸Šã€‚ ç®€å•çš„è¶Šç•Œé”™è¯¯å¯ä»¥ç”±ç¼–è¯‘å™¨å‘ç°ï¼Œå¤æ‚çš„åˆ™éœ€è¦è¿è¡Œæ—¶ã€‚è¿è¡Œæ—¶å‘ç°è¶Šç•Œæ—¶å€™ä¼španicIndexå’Œruntime.goPanicIndexã€‚è¿è¡Œæ—¶ä¼šæ’å…¥ä»£ç ï¼Œæ£€æŸ¥è¾¹ç•Œï¼Œè¶Šç•Œåˆ™panicï¼Œé€šè¿‡åˆ™Loadæˆ–Storeã€‚ åˆ‡ç‰‡sliceæœ‰dataæŒ‡é’ˆï¼Œlené•¿åº¦ï¼Œcapå®¹é‡ã€‚ åˆ‡ç‰‡åˆå§‹åŒ–å¯ä»¥æœ‰makeåˆ›å»ºï¼Œå­—é¢é‡åˆå§‹åŒ–ï¼Œæˆ–è€…æˆªå–æ•°ç»„æˆ–è€…åˆ‡ç‰‡çš„ä¸€éƒ¨åˆ†ã€‚ åˆ‡ç‰‡é€ƒé€¸ï¼š1ã€å¦‚æœå‡½æ•°å¤–éƒ¨æ²¡æœ‰å¼•ç”¨ï¼Œåˆ™ä¼˜å…ˆæ”¾åˆ°æ ˆä¸­ï¼›2ã€å¦‚æœå‡½æ•°å¤–éƒ¨å­˜åœ¨å¼•ç”¨ï¼Œåˆ™å¿…å®šæ”¾åˆ°å †ä¸­ï¼› åˆ‡ç‰‡å¾ˆå°å¹¶ä¸”éå‘ç”Ÿé€ƒé€¸ï¼Œä¼šåœ¨æ ˆæˆ–é™æ€å­˜å‚¨åŒºåˆå§‹åŒ–ã€‚å¦åˆ™åœ¨å †åŒºåˆå§‹åŒ–ã€‚ capè¶³å¤Ÿæ—¶å€™appendè¦†ç›–æ—¶å€™ä¼šä¼˜åŒ–æƒ…å†µã€‚ä¸å¤Ÿåˆ™ä¼šè°ƒç”¨growsliceæ‰©å®¹å¹¶ä¸”æ‹·è´è¿‡å»ã€‚æ‰©å®¹è§„åˆ™å¦‚ä¸‹ï¼š å¦‚æœæœŸæœ›å®¹é‡å¤§äºå½“å‰å®¹é‡çš„ä¸¤å€å°±ä¼šä½¿ç”¨æœŸæœ›å®¹é‡ï¼› å¦‚æœå½“å‰åˆ‡ç‰‡çš„é•¿åº¦å°äº 1024 å°±ä¼šå°†å®¹é‡ç¿»å€ï¼› å¦‚æœå½“å‰åˆ‡ç‰‡çš„é•¿åº¦å¤§äº 1024 å°±ä¼šæ¯æ¬¡å¢åŠ  25% çš„å®¹é‡ï¼Œç›´åˆ°æ–°å®¹é‡å¤§äºæœŸæœ›å®¹é‡ï¼› å¤§è‡´å®¹é‡å¦‚æ­¤ï¼Œæ¥ä¸‹æ¥è¿˜éœ€è¦è¿›è¡Œå¯¹é½æ“ä½œã€‚ æ‹·è´æ—¶å€™ä¼šmemoveï¼Œè¿™æ¯”ä¾æ¬¡æ‹·è´æ€§èƒ½æ›´å¥½ï¼Œè€—è´¹èµ„æºä»ç„¶è¾ƒå¤šã€‚ å“ˆå¸Œè¡¨å¼€æ”¾åœ°å€æ³•:å¡«ç©ºã€‚ æ‹‰é“¾æ³•ï¼šæŒ‚ä¸Šé“¾è¡¨ã€‚ mapåº•å±‚ä¸ºhmapï¼Œç”±è‹¥å¹²ä¸ªbmapæ¡¶ç»„æˆã€‚æ¯ä¸ªæ¡¶é€šå¸¸å¯ä»¥å­˜8ä¸ªå…ƒç´ ã€‚ é€šè¿‡å“ˆå¸Œå€¼ä½8ä½æ‰¾åˆ°æ¡¶ï¼Œåœ¨é€šè¿‡é«˜å…«ä½å¯¹æ¯”tophashæ•°ç»„æ¥æŸ¥æ‰¾ã€‚ åˆ†é…æ—¶å€™è‹¥æ¡¶æ»¡åˆ™å¯ä»¥æ”¾å…¥æº¢å‡ºæ¡¶ï¼Œç”¨overflowæŒ‡é’ˆæŒ‡è¿‡å»ã€‚å…ƒç´ å°‘äº25ä¸ªåˆ™ç›´æ¥hashï¼Œå¤šä½™25åˆ™åˆ›å»ºä¸¤ä¸ªæ•°ç»„å­˜å‚¨é”®å€¼ï¼Œç„¶åforå“ˆå¸Œè¿‡å»ã€‚ åœ¨makeæ—¶å€™ï¼Œåˆ™ä¼šæ£€æŸ¥å†…å­˜æ˜¯å¦è¶³å¤Ÿï¼Œè·å–å“ˆå¸Œç§å­ï¼Œè®¡ç®—æœ€å°‘æ¡¶æ•°é‡ï¼Œåˆ›å»ºä¿å­˜æ¡¶æ•°ç»„ã€‚ ä»…è·å–valueçš„è®¿é—®é‡‡ç”¨mapaccess1ï¼Œä¼šè®¡ç®—å“ˆå¸Œå€¼ï¼ŒæŸ¥æ‰¾æ¡¶ï¼ŒæŸ¥æ‰¾tophashï¼Œå¹¶ä¸”è®¿é—®ã€‚mapaccess2å°±å¤šä¸ªè¿”å›å€¼ã€‚ å½“è£…è½½å› å­è¶…è¿‡6.5æˆ–ä½¿ç”¨å¤ªå¤šæº¢å‡ºæ¡¶ä¼šè§¦å‘æ‰©å®¹ ã€‚æ‰©å®¹å°†æ¡¶æ•°é‡ç¿»å€ï¼Œé€šè¿‡growWorkè§¦å‘ï¼Œè®¿é—®æ—¶å€™è®¿é—®æ—§æ¡¶ï¼Œå†™å…¥åˆ™åˆ†æµè¿‡åˆ°æ–°æ¡¶ã€‚ åˆ é™¤å’Œèµ‹å€¼é€»è¾‘ç±»ä¼¼ã€‚ å­—ç¬¦ä¸²åªè¯»å­—ç¬¦ä¸²ï¼Œç”±dataæŒ‡é’ˆå’Œlenç»„æˆã€‚ å¦‚æœè¦ä¿®æ”¹ï¼Œåˆ™è¦è½¬æ¢æˆä¸ºã€ã€‘byteæ¥è¿›è¡Œã€‚å¼€é”€å¹¶ä¸å°ã€‚ é€ƒé€¸åˆ†æå–åœ°å€æˆ–è€…é€ƒå‡ºäº†å‡½æ•°ï¼ŒæŒ‰ç…§æ­¤åŸåˆ™åˆ†æå˜é‡åˆ†é…æ–¹æ³• è¯­è¨€åŸºç¡€å‡½æ•°è°ƒç”¨åœ¨cè¯­è¨€ä¸­ï¼Œå‡½æ•°è°ƒç”¨å‚æ•°ä½¿ç”¨å¯„å­˜å™¨ä¸æ ˆå®ç°ã€‚6ä¸ªä¸€ä¸‹ä¸ºå¯„å­˜å™¨ã€‚ä»¥ä¸Šæ”¾å…¥æ ˆã€‚ Goé‡‡ç”¨æ ˆæ¥å…¥å‚å’Œå‡ºå‚ï¼Œç®€åŒ–äº†å®ç°ï¼Œä¸å¿…è€ƒè™‘æ¶æ„ã€‚ Goæ— è®ºæ˜¯åŸºæœ¬ç±»å‹ï¼Œç»“æ„ä½“ï¼Œè¿˜æ˜¯æŒ‡é’ˆï¼Œéƒ½ä¼šä¼ å€¼æ‹·è´ã€‚ æ¥å£æ¥å£å¼•å…¥ä¸­é—´å±‚ï¼Œå®ç°ä¸Šä¸‹æ¸¸è§£è€¦ã€‚åœ¨GOä¸­ï¼Œå®ç°æ¥å£æ‰€æœ‰æ–¹æ³•å°±ç®—å®ç°äº†æ¥å£ã€‚ interface{}ä¸æ˜¯ä»»æ„ç±»å‹ã€‚å½“æˆ‘ä»¬è½¬æ¢æˆinterfaceæ—¶å€™ï¼Œç±»å‹å°±æ˜¯interfaceã€‚ å‡½æ•°æ¥æ”¶è€…ä¸æ˜¯æŒ‡é’ˆçš„æ—¶å€™ï¼Œèƒ½é€šè¿‡ç»“æ„ä½“å’ŒæŒ‡é’ˆä½¿ç”¨æ–¹æ³•ã€‚æ˜¯æŒ‡é’ˆçš„æ—¶å€™ï¼Œåªèƒ½é€šè¿‡æŒ‡é’ˆä½¿ç”¨æ–¹æ³•ã€‚ä¸èƒ½åŒæ—¶å­˜åœ¨åŒåæ–¹æ³•å®šä¹‰ä¸¤æ¬¡ã€‚ nilåœ¨è½¬æ¢æˆinterfaceç±»å‹æ—¶å€™ä¼šåŒ…å«ä»¥å‰çš„ç±»å‹ä¿¡æ¯ï¼Œå› æ­¤è½¬æ¢åä¸æ˜¯nilã€‚ å¯¹äºç©ºinterfaceè€Œè¨€ï¼Œç»“æ„ä½“ä¸ºefaceï¼Œä¸å«æ–¹æ³•ï¼Œä¹‹åŒ…å«ç±»å‹ä¸æ•°æ®æŒ‡é’ˆã€‚_typeç±»å‹ä¸­æœ‰æ•°æ®å¤§å°ï¼Œå“ˆå¸Œå€¼æ¥å¿«é€Ÿç¡®å®šç±»å‹æ˜¯å¦ç›¸å½“ï¼Œequalåˆ¤æ–­å¤šä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ éç©ºinterfaceåŒ…å«itabæŒ‡é’ˆä¸æ•°æ®æŒ‡é’ˆã€‚itabä¸­åŒ…å«å¯¹ä¸Šè¿°_typeçš„å“ˆå¸Œï¼Œæ¥ç¡®è®¤ç›®æ ‡ç±»å‹ä¸å…·ä½“ç±»å‹æ˜¯å¦ç›¸ç­‰ã€‚æœ‰funåŠ¨æ€å¤§å°æ•°ç»„ï¼Œå½“æˆè™šå‡½æ•°è¡¨ï¼Œå­˜å‚¨å‡½æ•°æŒ‡é’ˆã€‚åŒæ—¶åŒ…å«åŸç±»å‹typeå’Œæ¥å£ç±»å‹interfacetypeã€‚ éæŒ‡é’ˆå˜é‡è½¬æ¢ä¸ºæ¥å£ä¼šæ‹·è´åˆ°å †ä¸Šã€‚ æ–­è¨€switch a.(type)æ—¶å€™ä¼šæ£€æŸ¥å“ˆå¸Œå€¼ã€‚ åå°„TypeOfæ¥å—ç©ºæ¥å£å‚æ•°ï¼Œè½¬æ¢ä¸ºemptyInterfaceç±»å‹ï¼Œå¹¶ä¸”è·å–typå¹¶è¿”å›ã€‚ ValueOfåˆ™æ˜¯å…ˆå°†å…¶é€ƒé€¸åˆ°å †ä¸Šï¼Œçƒ­çˆ±åå—è™ä½¿ç”¨unpackEfaceå°†ä¼ è¿›æ¥çš„è½¬æ¢ä¸ºemptyInterfaceç»“æ„ä½“ï¼ŒåŒ…è£…æˆValueç»“æ„ä½“å¹¶ä¸”è¿”å›ã€‚ æ›´æ–°å˜é‡æ—¶å€™ï¼Œä¼šæ£€æŸ¥å˜é‡æ˜¯å¦å¯¹å¤–å…¬å¼€ã€‚ç„¶åè°ƒç”¨assignToè¿”å›æ–°åå°„å¯¹è±¡ï¼Œå¹¶ä¸”è¦†ç›–åŸå§‹åå°„å˜é‡ã€‚ efaceç”¨äºè¿è¡Œæ—¶ï¼ŒemptyInterfaceç”¨äºåå°„ã€‚ for rangeåœ¨for _,v:=range arræ—¶å€™ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªå˜é‡vï¼Œå°†æ•°ç»„å€¼åœ¨è¿­ä»£ä¸­è¦†ç›–è¿‡å»ï¼Œè¿™å¯¼è‡´vçš„åœ°å€åœ¨å¾ªç¯ä¸­ä¸å˜ã€‚ ä½¿ç”¨forå¾ªç¯æ¸…ç©ºæ•°ç»„ï¼Œåˆ‡ç‰‡ï¼Œå“ˆå¸Œè¡¨æ—¶å€™ï¼Œä¼šç¼–è¯‘æˆarrayClearï¼ŒåŠ é€Ÿè¿‡ç¨‹ï¼Œå¼€é”€å¹¶ä¸å¤§ã€‚ rangeå¾ªç¯ä¸ä¼šæ°¸åŠ¨æœºï¼Œå› ä¸ºæœ€å¼€å§‹ä¼šè°ƒç”¨lenæ¥è·å–ç»ˆæ­¢æ¡ä»¶ã€‚ å“ˆå¸Œè¡¨éå†ï¼šéšæœºé€‰ä¸€ä¸ªæ­£å¸¸æ¡¶å¼€å§‹ï¼Œéå†æ¡¶å†…ï¼Œæ¡¶å¤–æº¢å‡ºæ¡¶ï¼Œå†æŒ‰é¡ºåºæ¥ã€‚ selectselectä¸switchç±»ä¼¼ï¼Œä½†çŠ¶æ€åªèƒ½æ˜¯chanæ”¶å‘çŠ¶æ€ã€‚ å¤šä¸ªæ¡ä»¶éƒ½æ»¡è¶³æ—¶å€™ï¼Œswitchä¼šéšæœºæ‰§è¡Œï¼Œé¿å…é¥¥é¥¿çŠ¶æ€ã€‚ selectçš„caseç”¨ç»“æ„ä½“è¡¨ç¤º selectä¸å­˜åœ¨caseç›´æ¥é˜»å¡ï¼Œåªæœ‰ä¸€ä¸ªcaseåˆ™å˜æˆå•ifï¼Œä¸€ä¸ªcaseä¸€ä¸ªdefaultä¼šæ”¹å†™æˆif,elseï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå°†caseè½¬æ¢ä¸ºç»“æ„ä½“ï¼Œè°ƒç”¨selectgoå‡½æ•°è·å–ä¸€ä¸ªå¯è¡Œçš„ç»“æ„ä½“ï¼Œä½¿ç”¨ä¸€è¿ä¸²ifè§‚å¯Ÿæ˜¯å“ªä¸ªè¢«é€‰ä¸­äº†ã€‚ è½®è¯¢ä¼šéšæœºå¼€å§‹ï¼ŒåŠ é”é¡ºåºåˆ™æ˜¯æŒ‰åœ°å€æ’åºã€‚ è°ƒç”¨selectå…ˆç¡®è®¤è½®è¯¢é¡ºåºåŠ é”é¡ºåºï¼Œä¹‹åå¦‚æœèƒ½ç«‹å³æ‰§è¡Œåˆ™ç«‹å³æ‰§è¡Œå¹¶è¿”å›ï¼Œä¸èƒ½åˆ™åˆ›å»ºsudogç»“æ„ä½“ï¼ŒåŠ å…¥ç›¸å…³çš„æ”¶å‘é˜Ÿåˆ—ï¼ŒæŒ‚èµ·ç­‰å”¤é†’ï¼Œå”¤é†’äº†åˆ™éå†å»æ‰¾ã€‚ deferdeferä¼šåœ¨å‡½æ•°ç»“æŸæ‰§è¡Œï¼Œè€Œä¸æ˜¯ä»£ç ä½œç”¨åŸŸç»“æŸã€‚ deferå‚æ•°çš„å€¼æ˜¯åœ¨è°ƒç”¨æ—¶å€™è®¡ç®—çš„ã€‚ deferé‡‡ç”¨å»¶è¿Ÿé“¾è¡¨ï¼Œæœ€æ—©åªæœ‰å †ä¸Šåˆ†é…ï¼ŒåæœŸæœ‰æ ˆä¸Šåˆ†é…ï¼Œå¼€æ”¾ç¼–ç ä¼˜åŒ–ã€‚ æ ¹æ®deferæ•°é‡å’Œreturnæ•°é‡åˆ¤æ–­æ˜¯å¦å¼€æ”¾ç¼–ç ä¼˜åŒ–ã€‚ç›´æ¥æ’å…¥åˆ°å‡½æ•°è¿”å›å‰ã€‚ panic recoverpanicæ—¶å€™ï¼Œä¼šæ”¾åˆ°panicé“¾è¡¨æœ€å‰é¢ï¼Œç„¶åè·å–deferé“¾è¡¨ï¼Œæ‰§è¡Œï¼Œæœ€åpanicã€‚ ç¨‹åºçš„æ¢å¤ç”±gopanicæ‰§è¡Œã€‚å–å‡ºæ ˆé¡¶æŒ‡é’ˆå’Œpcï¼Œæ‰§è¡Œrecoveryå‡½æ•°ï¼Œrecoveryåˆ™è·³å›å»ã€‚ make newmakeéœ€è¦åˆ¤æ–­ç±»å‹ï¼Œnewåˆ™åªç”¨åˆå§‹åŒ–æŒ‡é’ˆï¼Œç”³è¯·ç©ºé—´ã€‚ contextåŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425func main() { ctx, cancel := context.WithCancel(context.Background()) go watch(ctx, \"ã€ç›‘æ§1ã€‘\") go watch(ctx, \"ã€ç›‘æ§2ã€‘\") go watch(ctx, \"ã€ç›‘æ§3ã€‘\") time.Sleep(10 * time.Second) fmt.Println(\"å¯ä»¥äº†ï¼Œé€šçŸ¥ç›‘æ§åœæ­¢\") cancel() //ä¸ºäº†æ£€æµ‹ç›‘æ§è¿‡æ˜¯å¦åœæ­¢ï¼Œå¦‚æœæ²¡æœ‰ç›‘æ§è¾“å‡ºï¼Œå°±è¡¨ç¤ºåœæ­¢äº† time.Sleep(5 * time.Second)}func watch(ctx context.Context, name string) { for { select { case &lt;-ctx.Done(): fmt.Println(name, \"ç›‘æ§é€€å‡ºï¼Œåœæ­¢äº†...\") return default: fmt.Println(name, \"goroutineç›‘æ§ä¸­...\") time.Sleep(2 * time.Second) } }} chanchanç»“æ„ä½“å†…åŒ…å«é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°ï¼Œå¾ªç¯é˜Ÿåˆ—é•¿åº¦ï¼Œæ•°æ®æŒ‡é’ˆï¼Œå‘é€waitqï¼Œæ¥æ”¶waitqã€‚waitqè¡¨ç¤ºåŒå‘é“¾è¡¨ï¼ŒåŒ…å«å‘å‰çš„sudogå’Œå‘åçš„sudogã€‚ å‘é€å‰ä¼šå…ˆä¸Šé”ï¼Œå†åˆ¤æ–­æ˜¯å¦closedã€‚ç›´æ¥å‘é€ï¼šå…ˆæ‹·è´åˆ°ç›®æ ‡åœ°å€ï¼Œå†æ ‡è®°æ¥æ”¶goroutineï¼Œæ”¾è¿›å¤„ç†å™¨runnextç­‰å¾…æ‰§è¡Œã€‚å¸¦ç¼“å†²åŒºï¼šè®¡ç®—ä¸‹ä¸€ä¸ªå¯ä»¥å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œå†å°†æ•°æ®æ‹·è´åˆ°ç¼“å†²åŒºï¼Œå¢åŠ ç´¢å¼•ä¸è®¡æ—¶å™¨ã€‚ç¼“å†²åŒºä¸ºå¾ªç¯æ•°ç»„ã€‚é˜»å¡å¼å‘é€ï¼šåˆ™å…ˆè·å–å‘é€æ•°æ®çš„goroutineï¼Œå†è·å–sudogè®¾ç½®é˜»å¡å‘é€ç›¸å…³ä¿¡æ¯ï¼ŒåŠ å…¥å‘é€ç­‰å¾…é˜Ÿåˆ—ï¼Œæ²‰ç¡å¹¶ç­‰å¾…å”¤é†’ï¼Œå”¤é†’åé¦–å°¾ã€‚ æ¥æ”¶ï¼šå¦‚æœä¸åœ¨ç¼“å†²åŒºä¸”å°±ç»ªï¼Œåˆ™ç›´æ¥æ‹·è´ã€‚åœ¨ç¼“å†²åŒºï¼Œåˆ™æ‹·è´å¹¶ä¸”ç§»åŠ¨ç¼“å†²åŒºæŒ‡é’ˆã€‚chanä¸ºç©ºåˆ™æŒ‚èµ·ï¼Œå…³é—­åˆ™æ£€æŸ¥ç¼“å†²åŒºï¼Œæ— æ•°æ®åˆ™è¿”å›ã€‚å¦‚æœå‘é€é˜Ÿåˆ—å­˜åœ¨æŒ‚èµ·çš„ï¼Œåˆ™ä»ç¼“å†²åŒºæ‹·è´åˆ°æ¥æ”¶ï¼Œå†å°†å‘é€æŒ‚èµ·çš„æ‹·è´è¿›ç¼“å†²åŒºã€‚ç¼“å†²åŒºå­˜åœ¨æ•°æ®åˆ™ç›´æ¥è¯»ï¼Œå¦åˆ™æŒ‚èµ·ã€‚ GMPæ¨¡å‹Gè¡¨ç¤ºgoroutineï¼ŒMè¡¨ç¤ºçº¿ç¨‹ï¼ŒPè¡¨ç¤ºå¤„ç†å™¨ã€‚Gç±»ä¼¼çº¿ç¨‹ï¼ŒåŒ…å«è‡ªå·±çš„å†…å­˜ï¼Œæ ˆï¼Œå¯„å­˜å™¨çŠ¶æ€ï¼Œå†è°ƒåº¦å™¨ä¿å­˜æˆ–è€…æ¢å¤ä¸Šä¸‹æ–‡çš„æ—¶å€™ç”¨åˆ°ã€‚Mæ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼ŒGOMAXPROCSæ§åˆ¶æ´»è·ƒæ•°é‡ï¼Œé»˜è®¤ä¸ºCPUæ ¸æ•°ï¼Œå‡å°‘ç³»ç»Ÿè°ƒåº¦å¼€é”€ã€‚Pæä¾›ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå¯ä»¥è°ƒåº¦çº¿ç¨‹ä¸Šç­‰å¾…é˜Ÿåˆ—ã€‚è°ƒåº¦æ—¶é—´ç‚¹ï¼šä¸»åŠ¨æŒ‚èµ·ï¼Œç³»ç»Ÿè°ƒç”¨ï¼Œåä½œå¼è°ƒåº¦ï¼Œç³»ç»Ÿç›‘æ§ã€‚ åƒåœ¾æ”¶é›†ä¸‰è‰²æ ‡è®°æ³•ï¼šé»‘è‰²ï¼Œç™½è‰²ä¸ç°è‰²ã€‚ é»‘è‰²ä»£è¡¨æ´»è·ƒçš„å¯¹è±¡ï¼Œå·²ç»è¢«è®¿é—®è¿‡ï¼Œå¹¶ä¸”æœ¬å¯¹è±¡å¼•ç”¨çš„å…¶ä»–å¯¹è±¡ä¹Ÿè¢«æ ‡è®°è¿‡ã€‚ ç°è‰²ä»£è¡¨æ´»è·ƒçš„å¯¹è±¡ï¼Œå·²ç»è¢«è®¿é—®ï¼Œä½†å­˜åœ¨å¼•ç”¨çš„å…¶ä»–å¯¹è±¡æœªè¢«è®¿é—®ã€‚ ç™½è‰²ä»£è¡¨æ½œåœ¨çš„åƒåœ¾ï¼Œæœªè¢«è®¿é—®è¿‡ã€‚ å½“å¼€å§‹è¿è¡Œæ—¶å€™ï¼Œæ ¹å¯¹è±¡è¢«æ ‡è®°ä¸ºç°è‰²å¯¹è±¡ï¼Œç„¶åä¹‹åçš„ç¨‹åºåªä»ç°è‰²å¯¹è±¡å‘å¤–æ‰©å±•ã€‚ç±»ä¼¼BFSã€‚å½“ç°è‰²é›†åˆä¸å­˜åœ¨çš„æ—¶å€™ï¼Œéå†ç»“æŸï¼Œå›æ”¶ç™½è‰²çš„åƒåœ¾ã€‚GCæ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸­é€”å¯èƒ½æ”¹å˜å¯¹è±¡çš„å¼•ç”¨æŒ‡å‘ï¼Œå¯èƒ½ä¼šå¢åŠ ï¼Œå¯èƒ½ä¼šåˆ é™¤ï¼Œå› æ­¤éœ€è¦éµå®ˆä¸¤ä¸ªä¸å˜æ€§ä¹‹ä¸€ï¼šå¼ºä¸‰è‰²ä¸å˜æ€§-é»‘è‰²ä¸ä¼šæŒ‡å‘ç™½è‰²ï¼›å¼±ä¸‰è‰²ä¸å˜æ€§-é»‘è‰²æŒ‡å‘çš„ç™½è‰²çš„å¯è¾¾è·¯å¾„ä¸Šä¸€å®šæœ‰ç°è‰²ï¼ˆç™½è‰²è‚¯å®šèƒ½è¢«ç°è‰²æ‰©å±•åˆ°ï¼‰å¼•å…¥å†™å±éšœæŠ€æœ¯ï¼Œåœ¨å†™è¿›å†…å­˜å‰åšä¸€äº›å¹²æ¶‰ï¼Œä¿è¯gcçš„æ­£ç¡®æ€§å³å¯ã€‚å­˜åœ¨ä¸¤ç§å†™å±éšœï¼šDijkstraæ’å…¥å†™å±éšœä¸Yuasaåˆ é™¤å†™å±éšœã€‚Dijkstraæ’å…¥å†™å±éšœï¼šåœ¨é»‘è‰²éœ€è¦æŒ‡å‘ç™½è‰²æ—¶å€™ï¼Œå°†ç™½è‰²æŸ“æˆç°è‰²å³å¯ã€‚ä½†ç”±äºæ ˆä¸Šçš„å¯¹è±¡ä¼šè¢«è®¤ä¸ºæˆæ ¹å¯¹è±¡ï¼Œå› æ­¤è¦ä¹ˆä¸ºæ ˆä¸Šçš„å¯¹è±¡æ·»åŠ å†™å±éšœï¼Œè¦ä¹ˆåœ¨æ ‡è®°ç»“æŸåå†æ¬¡æ‰«ææ ˆã€‚Yuasaåˆ é™¤å†™å±éšœï¼šåœ¨åˆ é™¤å¯¹è±¡çš„æ—¶å€™ï¼Œå°†è¢«åˆ é™¤çš„å¯¹è±¡æ ‡è®°ä¸ºç°è‰²ã€‚è¿™æ ·ä¿è¯äº†å¼±ä¸‰è‰²ä¸å˜æ€§ï¼Œä½†å›æ”¶ç²¾åº¦ä½ï¼Œæœ‰çš„éœ€è¦ä¸‹ä¸€è½®æ‰èƒ½å›æ”¶ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/go%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"æ‚ä¹±çŸ¥è¯†ç‚¹","text":"ä¸€äº›æ‚ä¹±çš„çŸ¥è¯†ç‚¹ æ‚ä¹±çŸ¥è¯†ç‚¹ 01ç›®å½•TODO protobufä¸ºå•¥å¿« æ•°æ®å‹ç¼©ç¨‹åº¦é«˜ è§£æé€Ÿåº¦å¿« protobufåŸºæœ¬ä½¿ç”¨tag|valueæ–¹æ³•å­˜å‚¨æ•°æ®ã€‚tagä¸­åŒ…å«æ•°æ®åºå·ä¸æ•°æ®ç±»å‹ã€‚ä»è€Œé¿å…äº†jsonçš„å­—ç¬¦ä¸²è§£æã€‚tagç”ŸæˆåŠæ³•ï¼š 123static int makeTag(final int fieldNumber, final int wireType) { return (fieldNumber &lt;&lt; 3) | wireType;} åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒfieldNumberä¸ºåºå·ï¼ŒwireTypeä¸ºæ•°æ®ç±»å‹ã€‚æœ‰ç¬¦å·æ•´å‹ä½¿ç”¨zigzagç¼–ç ï¼Œå‡å°‘äº†å­˜å‚¨ç©ºé—´ã€‚évarintç±»å‹æ•°å­—é‡‡ç”¨å°ç«¯åºåˆ—å­˜å‚¨ã€‚å­—ç¬¦ä¸²ç±»å‹é‡‡ç”¨**tag|len|str|**æ–¹æ³•å­˜å‚¨ã€‚ æœ‰ç¬¦å·æ•´å‹çš„å‹ç¼©ZigZagä¸»è¦æ˜¯å°†æ— ç¬¦å·æ•°å­—0,1,2,3è½¬æ¢ä¸ºæœ‰ç¬¦å·æ•°å­—0,-1,1,-2ç­‰ã€‚ä¹‹åæˆ‘ä»¬å¯ä»¥å‹ç¼©æ•°æ®ã€‚å°†32ä½æ•°æ®æ¯æ¬¡å–7ä½ï¼Œå¦‚æœéæœ€ä½å­—èŠ‚åˆ™è¡¥1,å…¶ä½™è¡¥0.ç„¶åå°†ä½å­—èŠ‚ä¸é«˜å­—èŠ‚åè½¬ã€‚ï¼ˆå°ç«¯ï¼‰ æ–­ç‚¹è°ƒè¯•åŸç†æ–­ç‚¹è°ƒè¯•ï¼Œå³åœ¨æ–­ç‚¹å¤„æ’å…¥int 3æŒ‡ä»¤ï¼ŒOSå‘è¿›ç¨‹å‘é€SIGTRAPä¿¡å·ï¼Œä½¿å¾—å½“å‰è¿›ç¨‹æš‚åœï¼Œäº¤ç»™çˆ¶è¿›ç¨‹å»å¤„ç†ã€‚ æŒ‰ä¸‹ctrl-cåä¼šå‘ç”Ÿä»€ä¹ˆå‘é€SIGINTä¿¡å·ç»™å‰å°è¿›ç¨‹ç»„æ‰€æœ‰è¿›ç¨‹ï¼Œå¼ºè¡Œç»ˆæ­¢ç¨‹åºæ‰§è¡Œã€‚ è¿›ç¨‹é—´é€šä¿¡IPC InterProcessCommunication åŒ¿åç®¡é“PIPE åŠåŒå·¥ï¼Œåªèƒ½ä¸€ä¸ªæ–¹å‘æµåŠ¨ï¼Œå›ºå®šè¯»å†™ç«¯ åªèƒ½æœ‰äº²ç¼˜å…³ç³»è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ ç±»ä¼¼äºæ–‡ä»¶ï¼Œå¯ä»¥read writeï¼Œä½†ä»…å­˜äºå†…å­˜ å‘½åç®¡é“FIFO å¯ä»¥åœ¨æ— å…³è¿›ç¨‹ä¹‹é—´äº¤æ¢æ•°æ® å±äºç‰¹æ®Šçš„æ–‡ä»¶å½¢å¼å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰è·¯å¾„å æ¶ˆæ¯é˜Ÿåˆ— åŒ…å«æ¶ˆæ¯ç±»å‹ï¼Œå­˜åœ¨ä¼˜å…ˆçº§ï¼Œæœ‰ç‰¹å®šæ ¼å¼ è¯»å–æ—¶å€™å¯ä»¥æŒ‰ç±»å‹è¯»å– ä¿¡å·é‡ å‘é€ä¿¡å·ï¼Œä¸»è¦ç”¨äºåŒæ­¥è¿›ç¨‹ åŸå­æ“ä½œ å¯ä»¥è®¡æ•° å…±äº«å†…å­˜ æœ€å¿«ï¼Œç›´æ¥è¯»å†…å­˜ï¼Œæ•ˆç‡é«˜ å¯ä»¥å¤šè¿›ç¨‹åŒæ—¶æ“ä½œï¼Œéœ€è¦åŒæ­¥ é€šå¸¸å’Œä¿¡å·é‡åŒæ—¶ä½¿ç”¨ å…±äº«å†…å­˜ä¸éœ€è¦æ¶‰åŠå†…æ ¸ï¼Œæ‰€ä»¥æœ€å¿« TOP-Ké—®é¢˜ quick selectï¼šå¿«æ’æ€æƒ³ï¼Œçœå»ä¸€åŠ å¹³å‡On æœ€åOn2 å»ºå † nlogk ä½¿ç”¨priority_queueæ¥å»ºï¼Œé»˜è®¤æ˜¯å¤§äºå· å»ºå †å¯ä»¥åˆ†å¸ƒå¼ å¯ä»¥å“ˆå¸Œå»é‡ Bæ ‘ä¸B+æ ‘Bæ ‘ å¤šå‰æ ‘ å…³é”®è¯é›†åˆåˆ†å¸ƒåœ¨æ•´ä¸ªæ ‘ä¸­ æ€§èƒ½ä¼˜å¼‚ï¼Œç­‰ä»·äºäºŒåˆ†æŸ¥æ‰¾ å…³é”®è¯åªå‡ºç°åœ¨ä¸€ä¸ªç»“ç‚¹ä¸­ è‡ªåŠ¨å±‚æ¬¡æ§åˆ¶ B+æ ‘ ç”¨äºæ•°æ®åº“ï¼Œæ–‡ä»¶ç³»ç»Ÿç­‰ æ•°æ®ç¨³å®šæœ‰åºï¼Œè‡ªåº•å‘ä¸Šæ’å…¥ï¼Œæ€§èƒ½ç¨³å®š ç»“ç‚¹å…³é”®è¯åªç”¨äºç´¢å¼•ï¼Œä¸å­˜å‚¨ å¶å­ç»“ç‚¹å­˜å‚¨æ•°æ®ï¼Œå¹¶ä¸”æ·»åŠ é“¾è¡¨æŒ‡é’ˆ HTTPçŠ¶æ€ç è§restful api å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨kä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå°†keyæ˜ å°„æˆkä¸ªæ•´æ•°ï¼Œç„¶åå°†å¯¹åº”äºŒè¿›åˆ¶ä½ç½®ä¸º1ã€‚æœ‰ä¸€å®šæ¦‚ç‡åˆ¤æ–­å‡ºé”™ã€‚æ— æ³•åˆ é™¤ã€‚ çº¢é»‘æ ‘çº¢é»‘æ ‘ï¼Œè‡ªå¹³è¡¡çš„ç±»å¹³è¡¡æ ‘ï¼Œéä¸¥è°¨å¹³è¡¡ã€‚æœ‰ä»¥ä¸‹ç‰¹ç‚¹ ç»“ç‚¹æˆ–é»‘æˆ–çº¢ æ ¹æ˜¯é»‘çš„ çº¢è‰²æ— æ³•ç›¸è¿ï¼Œé»‘è‰²å¯ä»¥ æ ¹åˆ°æ‰€æœ‰å¶å­ç»“ç‚¹ç»è¿‡çš„é»‘è‰²ç»“ç‚¹ä¸ªæ•°ç›¸åŒ æ’å…¥ç»“ç‚¹è¿‡ç¨‹ æ–°æ’å…¥çš„ç»“ç‚¹ä¸ºçº¢è‰² å¦‚æœä¸ºæ ¹ç»“ç‚¹ï¼Œåˆ™æ ‡è®°æˆé»‘è‰² å¦‚æœparentä¸æ˜¯é»‘è‰²ä¸”ä¸æ˜¯root uncleä¸ºçº¢ å°†parent and uncleæ ‡è®°ä¸ºé»‘ ç¥–çˆ¶æ ‡è®°ä¸ºçº¢ ä¸ç¥–çˆ¶ç›¸åŒé¢œè‰² uncleä¸ºé»‘ è§¦å‘æ—‹è½¬ æ–°ç»“ç‚¹ä¸ºå·¦å·¦ï¼Œåˆ™æç»³å­ å·¦å³ï¼Œåˆ™å°†äº²å­æ¢ä½ï¼Œç„¶åå·¦å·¦ å³å³åŒç† å³åšï¼Œåˆ™æ¢ä½åå³å³ ç»Ÿè®¡æ€§èƒ½æ¯”avlæ›´å¥½ è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹ ç³»ç»Ÿè¿›è¡Œèµ„æºè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œå®ç°æ“ä½œç³»ç»Ÿçš„å¹¶å‘ã€‚ è¿›ç¨‹å†…çš„çº¿ç¨‹å…±äº«å †ï¼Œå…¨å±€å˜é‡ï¼Œé™æ€å˜é‡ï¼Œæ–‡ä»¶ç­‰ã€‚ è¿›ç¨‹ä¹‹é—´åŒæ­¥åŸºäºIPCã€‚ ä¸åŒè¿›ç¨‹ä¹‹é—´æŒ‚æ‰ä¸å½±å“ çº¿ç¨‹ CPUè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œå®ç°è¿›ç¨‹å†…éƒ¨çš„å¹¶å‘ã€‚ æœ‰ç‹¬ç«‹çš„å¯„å­˜å™¨ç»„ï¼ŒæŒ‡ä»¤è®¡æ•°å™¨ï¼Œè‡ªå·±çš„æ ˆã€‚ çº¿ç¨‹ä¹‹é—´åŒæ­¥åŸºäºå†…å­˜ã€‚ åŒä¸€è¿›ç¨‹çš„çº¿ç¨‹ä¼šç›¸äº’å½±å“ è™šæ‹Ÿåœ°å€æ“ä½œç³»ç»Ÿé‡‡ç”¨è™šæ‹Ÿåœ°å€çš„æ–¹æ³•ï¼Œç»™äºˆç¨‹åºè™šæ‹Ÿåœ°å€ï¼Œç”±mmuç¿»è¯‘æˆç‰©ç†åœ°å€ï¼Œä½¿å¾—æ¯ä¸ªç¨‹åºéƒ½è®¤ä¸ºè‡ªå·±ç‹¬å äº†å†…å­˜ã€‚å¥½å¤„ï¼š æŠ½è±¡åŒ–ï¼Œä¾¿äºç®¡ç†ï¼Œåˆ†é…ï¼Œè°ƒåº¦ï¼Œä¾¿äºåˆ©ç”¨ç¢ç‰‡ æ‰©å¤§åœ°å€ç©ºé—´ ä¾¿äºå…±äº« å¯ä»¥ä¿æŠ¤å†…å­˜ç©ºé—´ï¼Œéš¾ä»¥è®¿é—®åˆ°å…¶ä»–è¿›ç¨‹çš„å†…å­˜åå¤„ï¼š å¢åŠ äº†å¼€é”€ï¼Œå¦‚ç¿»è¯‘åœ°å€ï¼Œé¢å¤–çš„æ•°æ®ç»“æ„ï¼Œç£ç›˜io å¯èƒ½æµªè´¹å†…å­˜ ç¼ºé¡µä¸­æ–­åœ¨mallocå’Œmmapè°ƒç”¨æ—¶å€™ï¼Œåªæ„å»ºäº†è™šæ‹Ÿåœ°å€ï¼Œæ²¡æœ‰åˆ†é…ç‰©ç†å†…å­˜ï¼Œå½“è®¿é—®åˆ°çš„æ—¶å€™å¼•èµ·ç¼ºé¡µå¼‚å¸¸ï¼Œä¿æŠ¤ç°åœºï¼Œåˆ†æåŸå› ï¼Œè°ƒç”¨å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œæ¢å¤ã€‚ ç³»ç»Ÿé” mutexäº’æ–¥é” è¯»å†™éƒ½é”ï¼Œç»Ÿä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªè®¿é—® rwlockè¯»å†™é” å†™é”ï¼Œå¯ä»¥æœ‰å¾ˆå¤šè¯»ï¼Œä½†å†™çš„æ—¶å€™ä¸èƒ½è¯» spinè‡ªæ—‹é” åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè®¿é—®ï¼Œä½†ä¸ä¼šç¡çœ ï¼Œè€Œæ˜¯è‡ªæ—‹ï¼Œä¸€ç›´ä¿æŒæ´»è·ƒ RCUé” å†™æ—¶å€™æ‹·è´ï¼Œå¯¹å‰¯æœ¬è¿›è¡Œä¿®æ”¹ï¼Œåœ¨æ²¡æœ‰æ“ä½œä¸´ç•ŒåŒºæ—¶å€™å»å›è°ƒã€‚ å¯é‡å…¥é” åŒä¸€çº¿ç¨‹å¯ä»¥å†æ¬¡é”ï¼Œä¸ä¼šæ­»é” ä¹è§‚é” è®¤ä¸ºæ‹¿æ•°æ®çš„æ—¶å€™åˆ«äººä¸ä¼šä¿®æ”¹ï¼Œè¯»å–çš„æ—¶å€™ä¸ä¼šä¸Šé”ã€‚ åœ¨æäº¤æ›´æ–°çš„æ—¶å€™ä½¿ç”¨ç‰ˆæœ¬å·æˆ–è€…CASç®—æ³•æ¥ç¡®å®š CASï¼šå½“æœŸæœ›ä¸å®é™…ç¬¦åˆçš„æ—¶å€™ï¼Œæ‰ä¼šæ›´æ–°æ›¿æ¢ï¼Œå¦åˆ™ä¸ä¼š æ‚²è§‚é” åœ¨æ¯æ¬¡è¯»å–æˆ–ä¿®æ”¹éƒ½ä¼šä¸Šé” ä¸æ­£ç¡®çš„ä»£ç å®¹æ˜“å¯¼è‡´æ­»é” è¿›ç¨‹çŠ¶æ€åˆ›å»º-å°±ç»ª-æ‰§è¡Œ-ç­‰å¾…-ç»ˆæ­¢ æ­»é” äº’æ–¥ï¼šèµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ è¯·æ±‚ä¸ä¿æŒï¼šåœ¨è¯·æ±‚èµ„æºæ—¶å€™ï¼Œä¸ä¼šæ”¾å¼€è‡ªå·±å·²ç»æŒæœ‰çš„èµ„æº ä¸å‰¥å¤ºï¼šä¸èƒ½å¼ºè¡Œå‰¥å¤º å¾ªç¯ç­‰å¾…ï¼šå„ä¸ªè¿›ç¨‹å¾ªç¯ç­‰å¾… é“¶è¡Œå®¶ç®—æ³•ï¼šä¸‰ä¸ªçŸ©é˜µclaimd allocated needï¼Œåªè¦å‰©ä½™ä¸ä¸ºè´Ÿæ•°åˆ™è´·æ¬¾ç»™è¿‡å» å‡ ç§ioç¼“å­˜IOï¼šå…ˆæ‹·è´åˆ°page cacheï¼Œå†æ‹·è´åˆ°ç›®æ ‡ç©ºé—´ æ•ˆç‡è¾ƒæ…¢select poll epollæœ¬è´¨éƒ½æ˜¯åŒæ­¥ioï¼Œç”¨äºioå¤ç”¨selectåœ¨socketè¢«å”¤é†’ä¹‹åï¼Œè¿›ç¨‹ä»é˜»å¡çŠ¶æ€è¢«åŠ å…¥å·¥ä½œé˜Ÿåˆ—ï¼Œåœ¨å·¥ä½œé˜Ÿåˆ—ä¸­æ­£è¿è¡Œçš„æ—¶å€™ï¼Œä¼šéå†ä¸€éfd setæ¥æ‰¾åˆ°è¢«å”¤é†’çš„sockï¼Œä»è€Œå¤„ç†ã€‚selectè°ƒç”¨åä¼šé˜»å¡ï¼ŒçŸ¥é“fdå°±ç»ªæˆ–è€…è¶…æ—¶ï¼Œå¹¶ä¸”é€šè¿‡éå†fdæ•°ç»„æ‰¾åˆ°ç›®æ ‡fdã€‚æè¿°ç¬¦æ•°é‡ä¸€åŠä¸º1024ã€‚ pollä½¿ç”¨pollfdæŒ‡é’ˆæ¥å®ç°ï¼Œè¿”å›åé‡‡ç”¨è½®è¯¢æ¥è¿”å›å°±ç»ªçš„fdepollä½œç”¨ï¼šå…ˆè°ƒç”¨epoll createï¼Œç„¶åç”¨epoll ctlåŠ å…¥éœ€è¦å¤„ç†çš„sockï¼Œæœ€åç”¨epoll waitç­‰å¾…ã€‚åœ¨åˆ›å»ºå¯¹è±¡æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªepollfdï¼Œç”¨ctlæ¥å¤„ç†ã€‚å½“ä¸­æ–­æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šåŠ å…¥åˆ°epollfdé‡Œé¢çš„readylistä¸­ã€‚ epollå­˜åœ¨LTæ¨¡å¼å’ŒETæ¨¡å¼ï¼ŒLTï¼šåº”ç”¨ç¨‹åºä¸ç«‹å³å¤„ç†ï¼ŒETåˆ™æ˜¯ç«‹å³å¤„ç†ã€‚ BIO åŒæ­¥é˜»å¡ è¯»å–å†™å…¥å¿…é¡»é˜»å¡å†ä¸€ä¸ªçº¿ç¨‹é‡Œé¢å®Œæˆï¼Œè¿‡ç¨‹é˜»å¡ NIO åŒæ­¥éé˜»å¡ ä¸é˜»å¡ï¼Œè€Œæ˜¯åå¤æŸ¥è¯¢ AIO å¼‚æ­¥io è¯»å–å†™å…¥å¼‚æ­¥ï¼Œå†…æ ¸è¯»å–äº†åˆ™å‘é€ä¿¡å· ä¸‹ä¸€ä¸ªæ’åˆ—ç®—æ³•åŸºæœ¬åŸåˆ™ï¼šæŠŠå³è¾¹çš„ç¨å¾®å¤§ä¸€ç‚¹çš„å…ƒç´ æŒªåˆ°å‰é¢æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä¸ä¼šåˆ°è¿‡äºå‰é¢çš„ä½ç½®ã€‚ä»å³å‘å·¦ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªaiå°äºai+1çš„iï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥ä»i+1åˆ°æœ«å°¾æ˜¯å®Œå…¨é™åºçš„ã€‚å†ä»å³å¾€å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºaiçš„jã€‚äº¤æ¢aiä¸ajï¼Œè¿™æ—¶å€™ai+1åˆ°næ˜¯å®Œå…¨é™åºï¼Œå› æ­¤ç„¶åå°†ai+1åˆ°æœ«å°¾å˜æˆreverseï¼Œä½¿å…¶å˜æˆå‡åºï¼Œä¹Ÿå°±æ˜¯ååŠå­—å…¸åºæœ€å°ï¼Œå³ä¸ºä¸‹ä¸€ä¸ªæ’åˆ—ã€‚ ä¸‘æ•°äºŒåˆ†å¦‚ä½•æ‰¾åˆ°æ¯”xå°çš„ï¼Œå¯ä»¥è¢«abcæ•´é™¤çš„æ•°çš„ä¸ªæ•°ï¼šä½¿ç”¨é›†åˆï¼Œx/a+x/b+x/c-x/lcm(ab)-x/lcm(ac)-x/lac(bc)+x/lcm(abc)å³å¯ã€‚æ ¹æ®æ­¤åŸåˆ™ï¼Œå¯ä»¥äºŒåˆ†ç­”æ¡ˆï¼Œæ‰¾åˆ°æ¨¡ç³Šçš„ç•Œã€‚å†æ ¹æ®è¯¥æ•°ï¼Œæ±‚å‡ºç²¾ç¡®çš„è¾¹ç•Œã€‚ç”±n-min(n%a,n%b,n%c)å¯ä»¥å¾—åˆ°ã€‚ ä¸ºä»€ä¹ˆè¦ç­‰2MSLçš„æ—¶é—´ï¼Œtime_awaitçŠ¶æ€æ‰ä¼šç»“æŸ ä¸ºäº†å¯é åœ°ç»ˆæ­¢TCPè¿æ¥ã€‚æœ€åä¸€æ¬¡ACKå¯èƒ½ä¼šä¼ è¾“å¤±è´¥ï¼Œå› æ­¤éœ€è¦ç­‰å¾…ã€‚ TCPåˆ†èŠ‚å¯èƒ½ä¼šå› ä¸ºè·¯ç”±å™¨å¼‚å¸¸è€Œè¿·è·¯ï¼Œæ­¤æ—¶å¯èƒ½ä¼šæœ‰è¿Ÿæ¥çš„TCPåˆ†èŠ‚åˆ°è¾¾ï¼Œéœ€è¦åœ¨åˆ°è¾¾çš„æ—¶å€™ä¿è¯ä¸è¿”å›ï¼ŒåŠæ—¶ä¸¢å¼ƒã€‚ å¦‚ä½•å¤„ç†time_awaitè¿‡å¤šçš„çŠ¶æ€MSLæ—¶é—´å¸¸ç”¨æ˜¯30sï¼Œ1minå’Œ2minã€‚å› æ­¤å¯¹äºé«˜å¹¶å‘çŸ­è¿æ¥ä¸šåŠ¡æ¥è¯´ï¼Œä¼šæ¶ˆè€—å¤§é‡ç«¯å£ï¼Œè€Œä¸”2MSLæ—¶é—´ç›¸å¯¹äºä¸šåŠ¡é€»è¾‘è¿‡é•¿ã€‚å› æ­¤éœ€è¦å¤„ç†ã€‚åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¼€å¯é‡ç”¨å’Œå¿«é€Ÿå›æ”¶ã€‚ å¦‚ä½•æŸ¥çœ‹è¿›ç¨‹psæŒ‡ä»¤ï¼Œæˆ–è€…è¿›procæŸ¥pidï¼Œnetstatæ˜¾ç¤ºç½‘ç»œé“¾æ¥ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E6%9D%82%E4%B9%B1%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"Rafté¡¹ç›®æ€»ç»“","text":"raftä½œä¸ºç›¸å½“æœ‰æ•ˆçš„åˆ†å¸ƒå¼ç®—æ³•çš„ä¸€ä¸ªå®ç°ï¼Œè¾ƒpaxosæ›´å®¹æ˜“ç†è§£ï¼Œä¹Ÿæ›´åŠ ç®€ä¾¿ã€‚æœ¬æ–‡å°†é˜è¿°raftç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œä»è€Œå¯¹raftç®—æ³•æœ‰æ›´æ·±åˆ»çš„ç†è§£ã€‚ å‰ç½®çŸ¥è¯†ï¼š go é€‰ä¸»ç­–ç•¥raftä¸paxosç®—æ³•ç±»ä¼¼ï¼Œéƒ½éœ€è¦é€šè¿‡é€‰ä¸»æ¥ä¿è¯ä¸€è‡´æ€§ã€‚ä½†è¾ƒpaxosé€‰ä¸»è€Œè¨€å¾ˆæ˜æ˜¾ï¼Œraftç®€åŒ–äº†é€‰ä¸»è¿‡ç¨‹ã€‚ è®¡æ—¶å™¨ä¸çŠ¶æ€æ”¹å˜åœ¨raftä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦ç»´æŠ¤ä¸€ä¸ªè®¡æ—¶å™¨ã€‚å½“è®¡æ—¶å™¨åˆ°æ—¶é—´åï¼Œä¾¿éœ€è¦æ”¹å˜è‡ªèº«çŠ¶æ€ï¼Œå¼€å§‹ä¸€è½®é€‰ä¸¾ã€‚çŠ¶æ€æœ‰Followerï¼ŒCandidateï¼ŒLeaderä¸‰ç§ï¼Œæ‰€æœ‰èŠ‚ç‚¹æœ€åˆé»˜è®¤ä¸ºFollowerã€‚åœ¨è®¡æ—¶ç»“æŸåï¼Œè¿›å…¥é€‰ä¸¾ï¼Œæˆä¸ºCandidateã€‚è‹¥æ”¶åˆ°å¤§å¤šæ•°ç¥¨ï¼Œé€‰ä¸¾æˆåŠŸï¼Œåˆ™æˆä¸ºFollowerã€‚è‹¥é€‰ä¸¾è¢«ä¸­æ–­ï¼Œæ¯”å¦‚æ”¶åˆ°äº†ä»»æœŸæ›´é«˜çš„èŠ‚ç‚¹å‘æ¥çš„ä¿¡æ¯ï¼Œåˆ™è½¬æ¢ä¸ºFollowerã€‚ å¯¹äºè®¡æ—¶å™¨è€Œè¨€ï¼Œæ¯æ¬¡é‡ç½®éƒ½ä¼šå¢åŠ ä¸€ä¸ªéšæœºå»¶è¿Ÿï¼Œè¿™æ˜¯ä¸ºäº†å‡å°‘é€‰ä¸¾ä¸­çš„å†²çªï¼Œå¦‚åŒä¸€æ—¶æœŸè®¸å¤šèŠ‚ç‚¹éƒ½å¼€å§‹é€‰ä¸¾ã€‚è¿™æ ·çš„åŠæ³•æé«˜äº†é€‰ä¸¾å®‰å…¨æ€§çš„ä¿è¯ï¼Œå³åŒä¸€æ—¶é—´åªä¼šé€‰å‡ºä¸€ä¸ªLeaderã€‚ æŠ•ç¥¨æŠ•ç¥¨æ˜¯åŸè®ºæ–‡ä¸­ç›¸å½“è¯¦ç»†çš„ä¸€éƒ¨åˆ†ï¼Œè®ºæ–‡ä¸­åˆ—å‡ºçš„è¡¨å¾ˆå¥½åœ°è¯ é‡Šäº†æŠ•ç¥¨çš„è¿›è¡Œè¿‡ç¨‹ï¼Œå¹¶ä¸”è¯¦ç»†ä»‹ç»äº†å‚æ•°ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªæŠ•ç¥¨RPCç»“æ„ä½“çš„å®ç°ã€‚ 123456789101112type RequestVoteArgs struct { Term int CandidateID int LastLogIndex int LastLogTerm int}type RequestVoteReply struct { Term int VoteGranted bool} ä¸è®ºæ–‡ä¸­ä¿æŒä¸€è‡´ï¼Œåœ¨å¾æ±‚æŠ•ç¥¨å‚æ•°ä¸­ï¼ŒTermè¡¨ç¤ºè‡ªå·±çš„ä»»æœŸï¼ŒIDç”¨äºæ ‡è¯†è‡ªå·±ï¼ŒLastLogIndexä¸LastLogTermæ¶‰åŠåˆ°åç»­çš„æ—¥å¿—å¤åˆ¶ï¼Œæ˜¯ç”¨æ¥åœ¨ä»»æœŸç›¸åŒæ—¶å€™æ¥æ ‡è¯†å“ªä¸ªç»“ç‚¹æ›´æ–°çš„ï¼Œä»è€Œæ›´å¥½é€‰å‡ºLeaderã€‚è¿”å›å€¼ä¸­ï¼ŒTermç”¨äºCandidateæ›´æ–°è‡ªå·±ä»»æœŸï¼Œå¦‚é‡åˆ°ä»»æœŸæ›´é«˜çš„å¯ä»¥ç›´æ¥å˜æˆFollowerï¼ŒVoteGrantedåˆ™ç”¨äºè¡¨ç¤ºæ˜¯å¦æŠ•ç¥¨ã€‚ è¿›å…¥é€‰ä¸¾ä¹‹åï¼Œé¦–å…ˆå¢åŠ è‡ªå·±çš„Termï¼Œç„¶åè¿›è¡Œå¾æ±‚æŠ•ç¥¨ï¼Œå‘å…¶ä»–èŠ‚ç‚¹å‘é€RPCè¯·æ±‚ï¼Œå¾—åˆ°å“åº”å¹¶ä¸”å¤„ç†ã€‚ä»»æœŸæ˜¯å¾—åˆ°æŠ•ç¥¨çš„å…³é”®ã€‚åªæœ‰åœ¨å½“å‰èŠ‚ç‚¹ä¸èŠ‚ç‚¹ç½‘ç»œä¸­è¿‡åŠèŠ‚ç‚¹ä¸€æ ·æ–°ï¼Œæ‰ä¼šè¢«é€‰ä¸¾ä¸ºLeaderã€‚è¿™ä¸ºåç»­çš„æ—¥å¿—ä¸€è‡´æ€§æä¾›äº†ä¿è¯ã€‚ è·å¾—åŠæ•°ä»¥ä¸Šç¥¨åˆ™å½“é€‰ï¼Œéå¸¸è‡ªç„¶è€Œç„¶åœ°ä¿è¯äº†é€‰ä¸¾Leaderçš„å”¯ä¸€æ€§ã€‚å½“æ— æ³•è·å¾—åŠæ•°ä»¥ä¸ŠæŠ•ç¥¨æ—¶å€™ï¼Œè¦ä¹ˆåœ¨æ¥å—å…¶ä»–èŠ‚ç‚¹ä¿¡æ¯çš„æ—¶å€™è½¬å˜èº«ä»½ï¼Œè¦ä¹ˆè®¡æ—¶å™¨åˆ°æœŸï¼Œè¿›å…¥æ–°çš„é€‰ä¸¾ã€‚ å¿ƒè·³æœºåˆ¶å¿ƒè·³æœºåˆ¶æ˜¯ç”¨äºç»´æŠ¤Leaderåœ°ä½çš„æœºåˆ¶ã€‚å½“ä¸€ä¸ªèŠ‚ç‚¹è½¬å˜ä¸ºLeaderä¹‹åï¼Œä¼šå®šæœŸå‘å…¶ä»–èŠ‚ç‚¹å‘é€ç©ºè¯·æ±‚ï¼Œä½¿å¾—å…¶ä»–èŠ‚ç‚¹èƒ½åŠæ—¶é‡ç½®è‡ªå·±çš„è®¡æ—¶å™¨ï¼Œé¿å…è¿›å…¥é€‰ä¸¾çŠ¶æ€ã€‚å¿ƒè·³æœºåˆ¶ä¹Ÿå¯ä»¥ç”¨äºæ¢å¤ä¹‹å‰å¤±å»è¿æ¥çš„èŠ‚ç‚¹ã€‚å¦‚æœå¿ƒè·³èƒ½å¤Ÿæ¥é€šï¼Œåˆ™å¯ä»¥å°†ä¹‹å‰çš„èŠ‚ç‚¹è½¬æ¢çŠ¶æ€ä¸ºFollowerã€‚ å¯¹äºé€‰ä¸¾ï¼Œæ›´å¤šçš„ç»†èŠ‚å¯ä»¥å‚è€ƒåŸè®ºæ–‡ã€‚æ­¤å¤„åªæ˜¯ç»™å‡ºåŸºæœ¬åŸç†ã€‚ æ—¥å¿—å¤åˆ¶ä½œä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ—¥å¿—çš„ä¸€è‡´æ€§æ˜¯å¿…é¡»è¦ä¿è¯çš„ä¸€ç‚¹ã€‚Raftå®ç°æ—¥å¿—å¤åˆ¶çš„æ–¹æ³•ä¹Ÿä¸éš¾ç†è§£ã€‚ æ—¥å¿—è¡¨ç¤º ä¸‹é¢æ˜¯å•ä¸ªæ—¥å¿—çš„å…·ä½“é¡¹çš„Goå®ç°ã€‚å®é™…å­˜å‚¨ä½¿ç”¨åˆ‡ç‰‡å³å¯ã€‚ 1234type Log struct { Command interface{} Term int} å¯ä»¥çœ‹å‡ºï¼Œæ—¥å¿—ä¸å…‰åŒ…å«æœ´ç´ çš„æŒ‡ä»¤ä¿¡æ¯ï¼Œè¿˜åŒ…å«æ—¥æœŸä¿¡æ¯ï¼Œè¿™æ˜¯raftç³»ç»Ÿæœ€ä¸»è¦çš„è¾¨åˆ«æ—¥å¿—çš„æ–¹æ³•ã€‚å½“ä¸€ä¸ªæ—¥å¿—çš„ä»»æœŸä¸æ—¥å¿—æ‰€åœ¨çš„ä½ç½®ï¼ˆå³Indexç´¢å¼•ï¼‰å®Œå…¨ç›¸åŒæ—¶å€™ï¼Œæ‰èƒ½è®¤ä¸ºæ˜¯ç›¸åŒçš„ã€‚è¿™ä¹Ÿæ˜¯ç”¨äºä¸»ä»æ—¥å¿—ä¿è¯ä¸€è‡´æ€§çš„ç­–ç•¥ã€‚ æ—¥å¿—ä¸€è‡´æ€§ä¸Šé¢æè¿°çš„æ—¥å¿—çš„è¡¨ç¤ºï¼Œè¿™é‡Œæˆ‘ä»¬å°†æè¿°å¦‚ä½•åº”ç”¨æ—¥å¿—ç‰¹æ€§ã€‚ é¦–å…ˆï¼Œæ—¥å¿—åªèƒ½ä»Leaderæ¥æ”¶ï¼Œå¹¶ä¸”åªèƒ½ç”±Leaderå‘å‘Followerã€‚æˆ‘ä»¬å°†æ—¥å¿—åŒºåˆ†ä¸ºä¸¤ç§çŠ¶æ€ï¼šæœªæäº¤çš„ï¼Œä¸å·²ç» æäº¤çš„ã€‚æˆ‘ä»¬è¦ç¡®è®¤çš„ä¸€è‡´æ€§ï¼Œä¾¿æ˜¯æ¯ä¸ªèŠ‚ç‚¹çš„committedçš„æ—¥å¿—çš„ä¸€è‡´æ€§ã€‚ é¦–å…ˆè¦ç¡®è®¤çš„æ˜¯ï¼Œä¸€æ¡æ—¥å¿—ï¼Œåªæœ‰å­˜åœ¨äºèŠ‚ç‚¹ç½‘ç»œçš„è¿‡åŠèŠ‚ç‚¹ä¸­æ‰ä¼šè¢«æäº¤ï¼Œè¿™æ„å‘³ç€ç”±ç½‘ç»œéš”ç¦»æ‰€å¯¼è‡´çš„å­¤ç«‹èŠ‚ç‚¹ç½‘ç»œä¸­çš„æ—¥å¿—å¯èƒ½ä¼šè¢«å¤šä¸ªæœºå­˜å‚¨ï¼Œä½†åªè¦æœºå™¨æ•°é‡å°‘äºä¸€åŠï¼Œåˆ™ç»ä¸ä¼šè¢«æäº¤ã€‚å…¶æ¬¡ï¼Œå°±åƒä¹‹å‰æ‰€è¯´ï¼Œå½“Candidateä¸è¿‡åŠèŠ‚ç‚¹ä¸€æ ·æ–°çš„æ—¶å€™æ‰ä¼šä¿è¯è¢«é€‰ä¸ºLeaderï¼Œè¿™æ„å‘³ç€Leaderæ€»æ˜¯æ‹¥æœ‰æœ€æ–°æœ€å…¨çš„æ—¥å¿—ã€‚ç”±äºæ¶ˆæ¯ä¼ é€’çš„å•å‘æ€§ï¼Œåªèƒ½ç”±Leaderå‘Followerï¼Œå› æ­¤Followeræ‰€èƒ½æäº¤çš„æ—¥å¿—æ€»æ˜¯Leaderæ—¥å¿—çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¹Ÿä¿è¯äº†ä¸€è‡´æ€§ã€‚ åœ¨Leaderå†…éƒ¨ä¼šç»´æŠ¤ä¸€ä¸ªmatchIndexä¸nextIndexï¼Œå‰è€…è¡¨ç¤ºèŠ‚ç‚¹å·²ç»ä¸æœ¬æœºåŒ¹é…äº†çš„æ—¥å¿—ï¼Œåè€…è¡¨ç¤ºä¸‹ä¸€ä¸ªå°†è¦ä¼ é€’ç»™è¯¥æœºå™¨çš„æ—¥å¿—ç´¢å¼•ã€‚åœ¨é€‰å‡ºæ–°Leaderæ—¶å€™ï¼Œå‰è€…ä¼šè¢«åˆå§‹åŒ–ä¸º0,åè€…è¢«åˆå§‹åŒ–ä¸ºæœ¬æœºæ—¥å¿—é•¿åº¦å‡1ã€‚åœ¨æœ¬åœ°æ—¥å¿—ä¸Leaderå‘è¿‡æ¥çš„æ—¥å¿—å¯¹ä¸ä¸Šæ—¶å€™ï¼ˆè¿™é‡Œçš„å¯¹ä¸ä¸Šï¼Œå°±æ˜¯ä»»æœŸå·ä¸ä½ç½®å¯¹ä¸ä¸Šï¼‰ï¼ŒLeaderä¾¿ä¼šæ”¹å˜è¯¥æœºå™¨çš„nextIndexå€¼ï¼Œä½¿å…¶å‡å°‘ï¼Œç›´è‡³å¯¹çš„ä¸Šä¸ºæ­¢ã€‚å½“æ—¥å¿—å¯¹ä¸Šä¹‹åï¼ŒLeaderå¯ä»¥é‡‡ç”¨æ‰¹é‡ä¼ é€’çš„æ–¹æ³•ï¼Œä¸€æ¬¡ä¼ é€’å¤šä¸ªlogï¼Œæ¥æé«˜æ•ˆç‡ï¼Œå¹¶ä¸”è¦†ç›–è¯¥èŠ‚ç‚¹çš„æ—¥å¿—ã€‚ä¼ é€’æ—¥å¿—æ•°é‡å–å†³ä¸nextIndexçš„ç»´æŠ¤æ–¹å¼ã€‚æ¯å½“æ—¥å¿—å¤åˆ¶å®Œæˆï¼Œéƒ½ä¼šæ›´æ–°ä¸¤ä¸ªåˆ—è¡¨çš„å€¼ã€‚æœ€åï¼Œæ ¹æ®matchIndexå€¼ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå·²ç»ç¡®è®¤å¤åˆ¶å®Œæˆçš„çš„åˆ—è¡¨ã€‚å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘é€‰æ‹©äº†æ ¹æ®è¯¥åˆ—è¡¨ä¸­ä½æ•°çš„æ–¹æ³•æ¥ç¡®è®¤è¯¥æäº¤çš„æ—¥å¿—ã€‚ åŒæ ·ï¼Œæœ¬æ–‡åªæ˜¯ç²—ç•¥æ¦‚æ‹¬ï¼Œè¯¦ç»†çš„ä¸€è‡´æ€§è¯æ˜å¯ä»¥å‚è€ƒåŸè®ºæ–‡çš„æè¿°ã€‚ æ—¥å¿—å‹ç¼©æ—¥å¿—æ— æ³•æ— é™åœ°å¢é•¿ï¼Œå› è€Œæˆ‘ä»¬éœ€è¦å‹ç¼©æŠ€æœ¯ã€‚åœ¨raftä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¿«ç…§çš„æ–¹æ³•æ¥è¿›è¡Œå‹ç¼©ã€‚ å¿«ç…§æŠ€æœ¯å¿«ç…§æŠ€æœ¯ç†è§£å¹¶ä¸å›°éš¾ï¼Œæœ¬è´¨ä¸Šä¾¿æ˜¯åˆå¹¶å·²ç»æäº¤çš„æ—¥å¿—ï¼Œå¯¹çŠ¶æ€æœºè¿›è¡Œåˆå¹¶ï¼Œä»…ä»…ä¿ç•™æ—¥å¿—å†…æœ€åä¸€ä¸ªä»»æœŸä¸æœ€åä¸€ä¸ªç´¢å¼•ã€‚ åœ¨å®ç°ä¸Šæ¥è¯´ï¼Œé€šå¸¸æ¯ä¸ªæœåŠ¡å™¨éƒ½æ˜¯ç‹¬ç«‹åœ°å»ºç«‹å¿«ç…§ï¼Œè€Œä¸æ˜¯ç”±Leaderç»Ÿä¸€åˆ›å»ºã€‚åè€…çš„å¼€é”€ä¸ioæ•ˆç‡æ›´ä¸ºä½ä¸‹ã€‚Leaderå¶å°”ä¹Ÿéœ€è¦å‘è½åçš„Followerå‘é€å¿«ç…§æ¥ä¿è¯ä¸€è‡´æ€§ï¼Œè™½ç„¶å¼€é”€çœ‹ä¼¼å¾ˆå¤§ï¼Œä½†åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼ŒFollowerçš„æ­£å¸¸å·¥ä½œä¿æŒæ›´æ–°ï¼Œä¼šå¾ˆå°‘éœ€è¦è¿™äº›å¼€é”€ï¼Œå› æ­¤è¿™ç§å¼€é”€æ˜¯å¯æ¥å—çš„ã€‚ æ€»ç»“raftä½œä¸ºé¢å‘ç†è§£çš„ç®—æ³•ï¼Œè§£å†³äº†paxosæ™¦æ¶©éš¾æ‡‚çš„ç¼ºç‚¹ï¼Œç†è§£ä¸Šå¹¶ä¸å›°éš¾ï¼Œåœ¨å®é™…å·¥ç¨‹è¿ç”¨ä¸­ä¹Ÿç›¸å½“å®ç”¨ã€‚æˆ‘è‡ªå·±äº²æ‰‹å®ç°äº†ä¸ªraftï¼Œç”±äºä¸€äº›ä»£ç è§„èŒƒçš„åŸå› æ²¡æœ‰è¿‡å¤šå±•ç¤ºï¼Œä½†ç¡®å®æ„Ÿè§‰å¯¹äºåˆ†å¸ƒå¼çš„ç†è§£æ›´ä¸ºå¢è¿›äº†ä¸€æ­¥ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/raft%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"title":"JSå­¦ä¹ ç¬”è®°","text":"æœ¬æ–‡ä¸»è¦ä¸ºJSçš„å­¦ä¹ ç¬”è®°ï¼ŒåŸºäºMDNçš„æ–‡æ¡£ï¼Œå°¤å…¶æ˜¯A_re-introduction_to_JavaScriptã€‚ JSå­¦ä¹ ç¬”è®°åŸºç¡€ç±»å‹JSåŒ…å«ä»¥ä¸‹ç±»å‹ï¼š Number String Boolean Symbolï¼ˆES2015æ–°å¢ï¼‰ Object Function Array Date RegExp null undefined æ•°å­— åœ¨JavaScriptä¸­ï¼Œé™¤äº†BigIntï¼Œä¸å­˜åœ¨æ•´æ•°ç±»å‹ï¼Œéƒ½æ˜¯IEEE754çš„doubleç±»å‹ï¼Œéƒ½æ˜¯æµ®ç‚¹æ•°ã€‚ å­˜åœ¨NaN Not a Numberï¼Œä¹Ÿå­˜åœ¨Infinityå’Œ-Infinityä¸¤ä¸ªç‰¹æ®Šå€¼ï¼Œå¯ä»¥ç”¨isFiniteæ¥åˆ¤æ–­ã€‚ å­—ç¬¦ä¸² éƒ½æ˜¯UTF-16çš„ç¼–ç å•å…ƒçš„åºåˆ—ï¼Œæ¯ä¸€ä¸ªç¼–ç å•å…ƒç”±16ä½äºŒè¿›åˆ¶æ•°æ¥è¡¨ç¤ºï¼Œç”±ä¸€ä¸ªæˆ–ä¸¤ä¸ªç¼–ç å•å…ƒæ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚ å¯ä»¥ç”¨.lengthå±æ€§ï¼ˆè€Œä¸æ˜¯æ–¹æ³•ï¼‰æ¥è·å–é•¿åº¦ã€‚ å…¶ä»–ç±»å‹ nullè¡¨ç¤ºç©ºå€¼ï¼Œundefinedè¡¨ç¤ºæœªå®šä¹‰æœªä»åˆå§‹åŒ–çš„å€¼ï¼Œæœªåˆå§‹åŒ–çš„å˜é‡å°±æ˜¯undefinedç±»å‹ã€‚ JSå­˜åœ¨å¸ƒå°”ç±»å‹ï¼Œfalse 0 ç©ºå­—ç¬¦ä¸²â€œâ€ NaN null undefinedéƒ½ä¼šè¢«è½¬æ¢ä¸ºfalseã€‚å¯ä»¥ç”¨Booleanæ˜¾ç¤ºè½¬æ¢ï¼Œæˆ–åœ¨ifä¸­éšå¼è½¬æ¢ã€‚ å˜é‡å­˜åœ¨ä¸‰ç§å£°æ˜å˜é‡æ–¹æ³•ï¼Œlet const varã€‚ let å£°æ˜å—çº§ä½œç”¨åŸŸçš„æœ¬åœ°å˜é‡ï¼Œå¯é€‰åœ°åˆå§‹åŒ–å€¼ã€‚ const å£°æ˜ä¸å¯ä¿®æ”¹çš„å¸¸é‡ï¼Œåœ¨å®šä¹‰åŸŸå†…å¯è§ã€‚ var ä½¿ç”¨varåœ¨å£°æ˜çš„æ•´ä¸ªå‡½æ•°éƒ½æ˜¯å¯è§çš„ï¼Œæ²¡æœ‰å—ä½œç”¨åŸŸçš„é™åˆ¶ã€‚ è¿ç®—ç¬¦ä½¿ç”¨==è¿ç®—ç¬¦èƒ½å¤Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œå¦‚æœä¸éœ€è¦åˆ™ä½¿ç”¨===è¿ç®—ç¬¦ã€‚ç±»ä¼¼çš„è¿˜æœ‰!=å’Œ!==è¿ç®—ç¬¦ã€‚ æ§åˆ¶ç»“æ„if elseï¼Œwhile do-whileå’Œcè¯­è¨€ç±»ä¼¼ã€‚ forå¾ªç¯å¯ä»¥å’Œcè¯­è¨€ç±»ä¼¼ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸åŒçš„ä¸¤ç§å¾ªç¯ï¼šfor-ofå’Œfor-inå¾ªç¯ã€‚ 1234for (let value of array){ //do sth with the value //ç”¨äºæ•°ç»„å€¼} 12345for (let property in object){ //do sth with the object property //ç”¨äºéå†å¯¹è±¡ //éå†æ•°ç»„ä¼šéå†æ•°ç»„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¦‚methodå’Œnameï¼Œä¸è¦éå†æ•°ç»„} switchå¯ä»¥åŸºäºæ•°å­—æˆ–è€…å­—ç¬¦ä¸²ï¼Œè®°å¾—breakã€‚ å¯¹è±¡å¯ä»¥ç®€å•ç†è§£æœªâ€œåç§°-å€¼â€å¯¹ï¼Œç±»ä¼¼å­—å…¸ã€‚åœ¨jsä¸­ï¼Œé™¤äº†æ ¸å¿ƒç±»å‹ï¼Œcore objectï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚åç§°éƒ¨åˆ†æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼å¯ä»¥æ˜¯ä¸€åˆ‡æ•°æ®ç±»å‹ã€‚ åˆ›å»ºç©ºå¯¹è±¡æ–¹æ³•ï¼Œå…¶ä¸­æ›´æ¨èç¬¬äºŒç§ï¼Œå› ä¸ºJSONæ ¼å¼ï¼š 12var obj = new Object();var obj = {}; åˆ›å»ºå¯¹è±¡å®ä¾‹å¦‚ä¸‹ï¼š 123456789var obj = { name: \"carrot\", _for: \"MAX\", details:{ color:\"orange\", size:12 } } è®¿é—®æ–¹æ³•æ”¯æŒå¦‚ä¸‹ï¼š 12obj.details.colorobj[\"details\"][\"size\"] ç¬¬äºŒç§æ–¹æ³•æœ‰ç‚¹åœ¨äºå¯ä»¥è¢«çœ‹åšå­—ç¬¦ä¸²ï¼Œä½†å¯èƒ½æ— æ³•åœ¨åæœŸè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚ åˆ›å»ºå¯¹è±¡å¯ä»¥ç”¨å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º: 12345678910111213function Person(name,age){ this.name = name; this.age = age;}function makePerson(first, last) { return { first: first, last: last };}var you = new Person('you',25) æ•°ç»„æ•°ç»„æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œä»¥æ•°å­—ä¸ºç±»å‹åï¼Œåªèƒ½ç”¨[ ]è®¿é—®ï¼ŒåŒ…å«ç‰¹æ®Šçš„å±æ€§ï¼šlengthï¼Œä»–æ¯”æœ€å¤§ç´¢å¼•å€¼å¤§1ã€‚ åˆ›å»ºæ•°ç»„ä¼ ç»Ÿæ–¹æ³•å¦‚ä¸‹ï¼š 123456var a = new Array();a[0] = \"dog\";//æˆ–è€…var a = [\"dog\",\"cat\"];a[100] = \"fox\";a.lengthï¼›//101 æ³¨æ„ç¬¬äºŒç§ï¼Œlengthçš„å€¼ï¼Œä»–æ¯”æœ€å¤§ç´¢å¼•å€¼å¤§1ã€‚è®¿é—®ä¸å­˜åœ¨çš„æ•°ç»„ç´¢å¼•ï¼Œä¼šå¾—åˆ°undefinedã€‚ é™¤äº†ä¼ ç»Ÿforï¼Œfor-ofï¼Œè¿˜å¯ä»¥ç”¨forEachæ–¹æ³•.å¦‚ä¸‹æ‰€ç¤ºï¼š | å‚æ•° | æè¿° | | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ | | function(currentValue, index, arr) | å¿…éœ€ã€‚ æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éœ€è¦è°ƒç”¨çš„å‡½æ•°ã€‚currentValueå¿…éœ€ã€‚å½“å‰å…ƒç´ indexå¯é€‰ã€‚å½“å‰å…ƒç´ çš„ç´¢å¼•å€¼ã€‚arrå¯é€‰ã€‚å½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„å¯¹è±¡ã€‚ | | thisValue | å¯é€‰ã€‚ä¼ é€’ç»™å‡½æ•°çš„å€¼ä¸€èˆ¬ç”¨ â€œthisâ€ å€¼ã€‚ å¦‚æœè¿™ä¸ªå‚æ•°ä¸ºç©ºï¼Œ â€œundefinedâ€ ä¼šä¼ é€’ç»™ â€œthisâ€ å€¼ | è°ƒç”¨å¦‚ä¸‹ï¼š 12345678var arr = [1, 2, 3, 4, 5];arr.forEach(function (item) { if (item === 3) { return; } console.log(item);}); å¢åŠ å…ƒç´ ç”¨.pushã€‚è¿˜æœ‰äº›å…¶ä»–æ–¹æ³•ï¼ŒæŸ¥è¡¨å°±è¡Œã€‚ å‡½æ•°æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ä¼šè¿”å›undefinedï¼Œè°ƒç”¨å‡½æ•°æ²¡æœ‰æä¾›è¶³å¤Ÿå‚æ•°ä¼šè¢«undefinedæ›¿ä»£ï¼Œä¼ å…¥è¿‡å¤šå‚æ•°ä¼šè¢«å¿½ç•¥ã€‚ å‡½æ•°è®¿é—®äº†å‡½æ•°ä½“å†…ä¸ºargumentsçš„å†…éƒ¨å¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰å‚æ•°ã€‚å¦‚ä¸‹å®ç°avgçš„æ–¹æ³•ï¼š 123456789function avg(){ var sum = 0; for (var i = 0, j = arguments.length;i&lt;j;i++){ sum+= arguments[i]; } return sum/ arguments.length;}console.log(avg(1,2,3,4,5,6));//3.5 å¯ä»¥ä½¿ç”¨å‰©ä½™å‚æ•°æ“ä½œç¬¦ï¼Œæ¥å®ç°ä¸Šè¿°åŠŸèƒ½ï¼š 123456789101112function avg(...args){ var sum = 0; for (var value of args){ sum += value; } return sum/ arguments.length;}console.log(avg(1,2,3,4,5,6));avg.apply(null, [2, 3, 4, 5]);//ä½¿ç”¨applyæ¥å°†æ•°ç»„ä¼ ä¸ºå‚æ•°åˆ—è¡¨,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¢«å½“ä½œthisçœ‹å¾…çš„å¯¹è±¡ã€‚numbers = [2,3,4,5]avg(...numbers)//å±•å¼€è¯­æ³• jsä¹Ÿå¯ä»¥åˆ›å»ºåŒ¿åå‡½æ•°ã€‚ä¹Ÿå¯ä»¥ç»™å‡½æ•°å‘½åæ¥é€’å½’è°ƒç”¨ã€‚ æ³¨æ„thisæŒ‡é’ˆçš„é—®é¢˜ï¼Œthisçš„ä¸Šä¸‹æ–‡å¯å˜ï¼Œ å¦‚æœåœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šä½¿ç”¨ç‚¹æˆ–è€…æ–¹æ‹¬å·æ¥è®¿é—®å±æ€§æˆ–æ–¹æ³•ï¼Œè¿™ä¸ªå¯¹è±¡å°±æˆäº† this ã€‚ ä¸¾ä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617function makePerson(first, last) { return { first: first, last: last, fullName: function() { return this.first + ' ' + this.last; }, fullNameReversed: function() { return this.last + ', ' + this.first; } }}s = makePerson(\"Simon\", \"Willison\");s.fullName(); // \"Simon Willison\"s.fullNameReversed(); // Willison, Simonvar fullName = s.fullName;fullName(); // undefined undefined .prototypeæ˜¯å¯ä»¥è¢«æ‰€æœ‰å®ä¾‹å…±äº«çš„å¯¹è±¡ï¼Œå½“è®¿é—®æŸä¸ªå®ä¾‹æ²¡æœ‰å®šä¹‰çš„å±æ€§æ—¶å€™ï¼Œä¼šæ£€æŸ¥.prototypeé‡Œé¢æ˜¯å¦å­˜åœ¨ã€‚ä½¿ç”¨å¦‚ä¸‹ï¼š 12345678910function Person(first, last) { this.first = first; this.last = last;}Person.prototype.fullName = function() { return this.first + ' ' + this.last;}Person.prototype.fullNameReversed = function() { return this.last + ', ' + this.first;} å¯¹äºnewï¼Œå¯ä»¥æœ‰ä¸‹é¢çš„ç±»ä¼¼å®ç°ï¼Œæ³¨æ„applyï¼š 1234567function trivialNew(constructor, ...args) { var o = {}; // åˆ›å»ºä¸€ä¸ªå¯¹è±¡ constructor.apply(o, args); return o;}var bill = trivialNew(Person, \"William\", \"Orange\");var bill = new Person(\"William\", \"Orange\"); callå‡½æ•°å¯ä»¥ç”¨æ¥è®¾ç½®thisï¼Œç”¨ä¾‹å¦‚ä¸‹ï¼š 12345678function lastNameCaps() { return this.last.toUpperCase();}var s = new Person(\"Simon\", \"Willison\");lastNameCaps.call(s);// å’Œä»¥ä¸‹æ–¹å¼ç­‰ä»·s.lastNameCaps = lastNameCaps;s.lastNameCaps(); å†…éƒ¨å‡½æ•°å‡½æ•°å†…éƒ¨å¯ä»¥å®šä¹‰å‡½æ•°ï¼Œï¼Œè€Œä¸”å¯ä»¥è®¿é—®çˆ¶ä½œç”¨åŸŸçš„å˜é‡ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789function parentFunc() { var a = 1; function nestedFunc() { var b = 4; // parentFunc æ— æ³•è®¿é—® b return a + b; } return nestedFunc(); // 5} è¿™ç§æ–¹æ³•å¯ä»¥å‡å°‘å…¨å±€å˜é‡ï¼Œé¿å…æ±¡æŸ“å‘½åç©ºé—´ã€‚ é—­åŒ…é—­åŒ…æ ·ä¾‹å¦‚ä¸‹ï¼š 123456789function makeAdder(a) { return function(b) { return a + b; }}var add5 = makeAdder(5);var add20 = makeAdder(20);add5(6); // 5+6=11add20(7); // 20+7=27 å½“è°ƒç”¨makeAdderæ—¶åˆ›å»ºäº†ä½œç”¨åŸŸå¯¹è±¡ï¼Œå¸¦æœ‰å±æ€§aï¼Œç„¶åmakeAdderåˆ›å»ºä¸€ä¸ªå‡½æ•°å¹¶è¿”å›ã€‚é—­åŒ…å°±æ˜¯å‡½æ•°ä¸å…¶è¢«åˆ›å»ºæ—¶å€™å¸¦æœ‰çš„ä½œç”¨åŸŸå¯¹è±¡çš„ç»„åˆã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"title":"Reactå­¦ä¹ ç¬”è®°","text":"æœ¬æ–‡ä¸»è¦ä¸ºreactçš„å­¦ä¹ ç¬”è®°ï¼ŒåŸºäºreactæ–‡æ¡£ã€‚ Reactå­¦ä¹ ç¬”è®°JSXç®€ä»‹åŸºæœ¬ç”¨æ³•ï¼šä½¿ç”¨{}ï¼Œåœ¨å¤§æ‹¬å·ä¸­æ”¾å…¥ä»»ä½•æœ‰æ•ˆçš„JavaScriptè¡¨è¾¾å¼ã€‚ 12const name = 'a';const element = &lt;h1&gt;Hello {name}&lt;/h1&gt;; æˆ–è€…è¯¸å¦‚2+2ï¼Œuser.firstNameï¼ŒformatName(user)ç­‰è¡¨è¾¾æ–¹æ³•ã€‚ JSXæœ¬èº«ä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼Œè½¬ä¸ºæ™®é€šçš„JSå‡½æ•°è°ƒç”¨ï¼Œå–å€¼åå¾—åˆ°JSå¯¹è±¡ã€‚å¯ä»¥åœ¨ifï¼Œforä¸­ä½¿ç”¨JSXï¼Œå½“å‚æ•°ä¼ å…¥ï¼Œä»¥åŠè¿”å›JSXã€‚ 123456function getGreeting(user){ if(user){ return &lt;h1&gt;Hello,{formatName(user)}&lt;/h1&gt;; } return &lt;h1&gt;Hello Stranger&lt;/h1&gt;;} å’Œhtmlç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨å±æ€§æˆ–è€…åœ¨å±æ€§å€¼ç”¨å¤§æ‹¬å·æ’å…¥jsè¡¨è¾¾å¼ï¼ˆæ³¨æ„ï¼Œä¸è¦å¼•å·ï¼Œå¼•å·å’Œå¤§æ‹¬å·åªæœ‰ä¸€ä¸ªï¼‰ã€‚ 1const elem = &lt;img src={user.avatarUrl}&gt;&lt;/img&gt; JSXå¯ä»¥é˜²èŒƒXSSæ³¨å…¥ï¼Œä¼šè¿›è¡Œè½¬ä¹‰ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒã€‚ 12const title = response.potentiallyMaliciousInput;const elem = &lt;h1&gt;{title}&lt;/h1&gt;; åœ¨ä½¿ç”¨ä¸­ï¼ŒBabelä¼šå°†JSXè½¬è¯‘ä¸ºReact.createElement()å‡½æ•°è°ƒç”¨ï¼Œè½¬åŒ–ä¸ºåŸºæœ¬çš„Reactå…ƒç´ ã€‚ å…ƒç´ æ¸²æŸ“å…ƒç´ æ˜¯æ„æˆReactåº”ç”¨çš„æœ€å°ç –å—ï¼Œæè¿°äº†å±å¹•ä¸Šçœ‹åˆ°çš„å†…å®¹ã€‚å¼€é”€ä¸å¤§ã€‚ å°†Reactå…ƒç´ æ¸²æŸ“å€’æ ¹DOMèŠ‚ç‚¹ï¼Œåªéœ€è¦ä¸€èµ·ä¼ å…¥ReactDOM.render()ä¸­ï¼š 12const elem = &lt;h1&gt;hello world&lt;/h1&gt;;ReactDOM.render(element,document.getElementById('root')); Reactå…ƒç´ ä¸ºä¸å¯å˜å¯¹è±¡ï¼Œæ›´æ–°UIçš„å”¯ä¸€çš„æ–¹å¼æ˜¯åˆ›å»ºå…¨æ–°çš„å…ƒç´ ï¼Œå¹¶ä¸”ä¼ å…¥ReactDOM.render()ï¼š 12345678910function tick(){ const elem = ( &lt;div&gt; &lt;h1&gt;hello world&lt;/h1&gt; &lt;h2&gt;It is {new Date().toLocaleTimeString()}&lt;/h2&gt; &lt;/div&gt; ); ReactDom.render(elem,document.getElemById('root'));}setInterval(tick, 1000); ä½†åœ¨å®è·µä¸­ï¼Œåªè°ƒç”¨ä»¥æ­¤ReactDOM.render()ï¼Œæ³¨æ„è¿™ç‚¹ã€‚ ReactDOMä¼šå°†å…ƒç´ ä»¥åŠå­å…ƒç´ ä¸ä¹‹å‰çš„çŠ¶æ€è¿›è¡Œæ¯”è¾ƒï¼Œåªè¿›è¡Œæœ€å°çš„æ›´æ–°ã€‚ ç»„ä»¶ä¸Propså¯ä»¥ç”¨JSå‡½æ•°æˆ–è€…ES6çš„ç±»æ¥å®šä¹‰ç»„ä»¶ï¼Œæ¥æ”¶propsï¼ˆå±æ€§ï¼‰ï¼Œè¿”å›Reactå…ƒç´ ã€‚å¦‚ä¸‹ä¸¤ç§æ–¹æ³•æ˜¯ç­‰æ•ˆçš„ï¼š 123456789function Welcome(props){ return &lt;h1&gt;hello {props.name}&lt;/h1&gt;;}class Welcome extends React.Compoent { render(){ return &lt;h1&gt;hello {this.props.name}&lt;/h1&gt;; }} åœ¨ä½¿ç”¨ä¸­ï¼Œç»„ä»¶å¯ä»¥æ˜¯reactå…ƒç´ ï¼š 1const elem = &lt;Welcome name='2'/&gt; å½“Reactå…ƒç´ ä¸ºç”¨æˆ·å­å½“ä»¥è‡ªå»ºæ—¶å€™ï¼ŒJSXæ‰€æ¥æ”¶çš„å±æ€§ä»¥åŠå­ç»„ä»¶ä¼šè½¬åŒ–ä¸ºå•ä¸ªå¯¹è±¡propsä¼ é€’ç»™ç»„ä»¶ã€‚ ç»„ä»¶åå­—å¿…é¡»å¤§å†™å­—æ¯å¼€å¤´ï¼Œå°å†™å­—æ¯è¢«è®¤ä¸ºæ˜¯åŸç”ŸDOMæ ‡ç­¾ã€‚ propsæ˜¯åªè¯»çš„ï¼Œè¿™æ„å‘³ç€ä¸æ”¹å˜å…¥å‚ï¼Œæœ‰ç€çº¯å‡½æ•°æ€§è´¨ã€‚ Stateä¸ç”Ÿå‘½å‘¨æœŸstateä¸propsç±»ä¼¼ï¼Œä½†stateæ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”å®Œå…¨å—æ§äºå½“å‰ç»„ä»¶ã€‚ classç»„ä»¶åº”å½“å§‹ç»ˆä½¿ç”¨propså‚æ•°è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œstateè¢«èµ‹åˆå€¼ã€‚ï¼Œä½¿ç”¨setStateè¿›è¡Œæ›´æ”¹ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849class Clock extends React.Component{ //æ„é€ å‡½æ•° åˆå§‹åŒ– constructor(props){ super(props); this.state = { date: new Date(), }; } //æ›´æ–°å‡½æ•° tick(){ this.setState({date: new Date()}); } //ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåœ¨æ¸²æŸ“åˆ°DOMä¸­åè¿è¡Œ componentDidMount(){ this.timerID = setInterval( ()=&gt;this.tick(),1000 ); } //æ¸…é™¤è®¡æ—¶å™¨ componentWillUnmount(){ clearInterval(this.timerID); } render(){ return ( &lt;div&gt; &lt;h2&gt;{this.state.date.toLocaleTimeString()}&lt;/h2&gt; &lt;/div&gt; ); }}function App() { return ( &lt;div&gt; &lt;Clock/&gt; &lt;Clock/&gt; &lt;Clock/&gt; &lt;/div&gt; );}ReactDOM.render( &lt;App /&gt;, document.getElementById('root')); å½“&lt;Clock/&gt;è¢«ä¼ ç»™ReactDOMåï¼Œä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–stateï¼Œä¹‹åè°ƒç”¨renderæ–¹æ³•ï¼Œæ¸²æŸ“è¾“å‡ºï¼Œç„¶åè°ƒç”¨ComponentDidMount()æ–¹æ³•å‘æµè§ˆå™¨è¯·æ±‚è®¾ç½®è®¡æ—¶å™¨ï¼Œæ¯ç§’è°ƒç”¨tick()æ–¹æ³•ï¼Œtick()ä½¿ç”¨setState()æ›´æ–°ï¼ŒReactä¾¿ä¼šæ›´æ–°DOMã€‚ç»„ä»¶è¢«ç§»é™¤åï¼Œè°ƒç”¨componentWillUnmount()æ–¹æ³•å¸é™¤è®¡æ—¶å™¨ã€‚ ä¸è¦ç›´æ¥ä¿®æ”¹stateï¼Œè¿™æ ·ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚åªèƒ½åœ¨æ„é€ å‡½æ•°èµ‹å€¼ã€‚ stateå’Œpropså¯èƒ½å¼‚æ­¥æ›´æ–°ï¼Œå¯ä»¥ç”¨åœ¨setState()ä¸­ä¼ å‡½æ•°è§£å†³ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234// Correctthis.setState((state, props) =&gt; ({ counter: state.counter + props.increment})); stateçš„æ›´æ–°å¯èƒ½è¢«åˆå¹¶ã€‚ stateå¯ä»¥ä½œä¸ºpropså‘ä¸‹ä¼ é€’ã€‚ äº‹ä»¶å¤„ç†äº‹ä»¶é‡‡ç”¨å°é©¼å³°æ–¹æ³•å‘½åï¼Œä½¿ç”¨JSXçš„æ—¶å€™ä¼ å…¥å‡½æ•°ã€‚å¿…é¡»æ˜¾å¼é‡‡ç”¨preventDefaultæ¥é˜»æ­¢é»˜è®¤è¡Œä¸ºã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112function ActionLink() { function handleClick(e) { e.preventDefault(); console.log('The link was clicked.'); } return ( &lt;a href=\"#\" onClick={handleClick}&gt; Click me &lt;/a&gt; );} eæ˜¯ä¸€ä¸ªåˆæˆäº‹ä»¶ã€‚ åœ¨åˆå§‹åŒ–æ—¶å€™åº”å½“ç»‘å®šthisï¼Œä½œä¸ºjsç‰¹æ€§ï¼Œé¿å…é”…ã€‚ æ¡ä»¶æ¸²æŸ“ä½¿ç”¨if-elseæˆ–é€»è¾‘è¿ç®—ç¬¦æ¥æ§åˆ¶æ¸²æŸ“ã€‚ 12345678910111213141516render() { const isLoggedIn = this.state.isLoggedIn; let button; if (isLoggedIn) { button = &lt;LogoutButton onClick={this.handleLogoutClick} /&gt;; } else { button = &lt;LoginButton onClick={this.handleLoginClick} /&gt;; } return ( &lt;div&gt; &lt;Greeting isLoggedIn={isLoggedIn} /&gt; {button} &lt;/div&gt; ); } å¦‚æœä¸æƒ³æ¸²æŸ“ï¼Œå¯ä»¥ç›´æ¥è¿”å›nullã€‚ 1234function WarningBanner(props) { if (!props.warn) { return null; } æ³¨æ„ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¿˜æ˜¯ä¼šè°ƒç”¨ã€‚ åˆ—è¡¨å’Œkeyä½¿ç”¨map()æ–¹æ³•å°†æ•°ç»„æ˜ å°„æˆ&lt;li&gt;&lt;/li&gt;ï¼Œè®°å¾—åœ¨æ˜ å°„çš„æ—¶å€™æŒ‡å®škeyå€¼ï¼Œç”¨äºè¾¨æå…ƒç´ æ˜¯å¦æ”¹å˜ï¼Œæ·»åŠ ï¼Œåˆ é™¤ã€‚ 123456const numbers = [1, 2, 3, 4, 5];const listItems = numbers.map((number) =&gt; &lt;li key={number.toString()}&gt; {number} &lt;/li&gt;); keyåº”å½“ç‹¬ä¸€æ— äºŒï¼Œç”¨äºæ ‡è¯†ã€‚ä¸å»ºè®®ç”¨ç´¢å¼•æ¥å½“keyå€¼ï¼Œä½†è¿™æ˜¯é»˜è®¤åšæ³•ã€‚ keyåœ¨å…„å¼Ÿç»“ç‚¹ä¸­å¿…é¡»å”¯ä¸€ï¼Œä½†å…¨å±€ä¸ä¸€å®šå”¯ä¸€ã€‚ è¡¨å•å¯ä»¥ç”¨onChangeä¼ å…¥å‡½æ•°æ¥æ§åˆ¶ç»„ä»¶ç»´æŠ¤çš„state document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/react%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"title":"è¿ç§»åšå®¢çš„ç¢ç¢å¿µ","text":"æœ¬æ–‡ä¸»è¦æ˜¯ä¸€äº›æŠŠåšå®¢è¿ç§»åˆ°hexoè¿‡ç¨‹ä¸­å‘ç”Ÿçš„å„ç§æŠ€æœ¯é—®é¢˜ã€‚ å‰è¨€ç”±äºä¹‹å‰çš„åšå®¢å¤ªä¸‘äº†ï¼Œé˜…è¯»ä½“éªŒæå·®ï¼Œå“åº”å¼å¸ƒå±€åƒä¸ªå‚»é€¼ä¸€æ ·ï¼ˆç”µè„‘æ¨ªå±çš„æ–‡ç« å¸ƒå±€å’Œæ‰‹æœºä¸€æ ·ï¼Œå­—è´¼å¤§ï¼Œå°†æµè§ˆå™¨çª—å£ä¾§è¾¹æ”¶ç´§åé˜…è¯»ä½“éªŒåè€Œå˜å¥½ï¼‰ï¼Œæˆ‘å†³å®šè¿ç§»åšå®¢ã€‚ è¿ç§»å‡†å¤‡åšå®¢å…¨éƒ¨åœ¨githubä¸Šï¼Œæ‰€ä»¥åªè¦æ‰¾åˆ°ä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œèƒ½å¤Ÿå…¼å®¹ä¹‹å‰çš„markdownå°±è¡Œäº†ã€‚å¦‚æœæ²¡æœ‰å…¼å®¹ï¼Œè‡³å°‘æ”¹åŠ¨ä¸éœ€è¦å¤ªå¤šã€‚ç”±äºåœ¨github pageä¸Šï¼Œé‚£ä¹ˆå­˜åœ¨ä»¥ä¸‹å‡ ä¸ªå¤‡é€‰æ–¹æ¡ˆï¼š Hugo:æ‹¿GOå†™çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ Hexo:åŸºäºNode.jsçš„åšå®¢æ¡†æ¶ jekyll:åŸºäºrubyçš„é™æ€åšå®¢ç½‘ç«™ç”Ÿæˆå™¨ ä»¥ä¸Šå°±æ˜¯å‡ ä¸ªå¤‡é€‰æ–¹æ¡ˆï¼Œæˆ–è®¸å­˜åœ¨æˆ‘ä¸çŸ¥é“çš„å¤‡é€‰æ–¹æ¡ˆï¼ˆæ¯”å¦‚è‡ªå·±å†™ï¼Ÿï¼‰ï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰è€ƒè™‘ã€‚ Why hexoï¼Ÿ æ²¡ä»€ä¹ˆåŸå› ï¼Œå› ä¸ºhugoæ²¡å¬è¯´è¿‡ï¼Œjekyllå¿˜äº†æ€ä¹ˆæ‹¼å†™ï¼ˆè™½ç„¶ä¹‹å‰ç”¨çš„å°±æ˜¯jekyllï¼Œä½†æˆ‘è¿˜æ˜¯æ‡’å¾—éƒ¨ç½²æœ¬åœ°rubyç¯å¢ƒï¼‰ã€‚ é€‰æ‹©å®Œhexoä¹‹åï¼Œå°±å¯ä»¥çœ‹çœ‹åšå®¢ä¸»é¢˜ï¼Œæ¯•ç«Ÿæˆ‘ä¸ä¼šå‰ç«¯ï¼Œè¿˜æ˜¯æ‹¿åˆ«äººå†™å¥½çš„æ¯”è¾ƒå¥½ã€‚ Hexoå®˜ç½‘ä¸»é¢˜æä¾›äº†è®¸å¤šå¯ä¾›é€‰æ‹©çš„ä¸»é¢˜ï¼Œå¯ä»¥ç›´æ¥ç‚¹è¿›ä»“åº“çœ‹ï¼Œå¯ä»¥è‡ªå·±éƒ¨ç½²ï¼Œä½†æˆ‘æ›´å–œæ¬¢ç›´æ¥forkåˆ«äººä»“åº“åæ”¹æ–‡ç« ä»£ç ï¼Œç½‘é¡µé…ç½®ä¹‹ç±»çš„ä¸œè¥¿ï¼Œæ¯•ç«Ÿç®€å•ï¼ˆæ‡’ï¼‰ã€‚ æˆ‘ç”¨çš„æ˜¯icarusï¼Œä»“åº“åœ°å€åœ¨è¿™é‡Œï¼Œæ³¨æ„è¿™ä¸ªåœ°å€æ˜¯siteåˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯å®é™…ç½‘ç«™æºç çš„åˆ†æ”¯ã€‚ä¸‹è½½å®Œæºç ä¹‹åè®°å¾—gitåˆ‡åˆ†æ”¯ã€‚ ç¯å¢ƒå‡†å¤‡Node.jså’ŒHexoçš„å®‰è£…å°±ä¸å¤šè¯´äº†ï¼Œå®˜ç½‘å¾ˆè¯¦ç»†ã€‚åŒæ—¶åœ¨cloneå®Œä¸Šé¢ä»“åº“ï¼Œåˆ‡æ¢åˆ°siteåˆ†æ”¯åï¼Œè¿›åˆ°å¯¹åº”æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–ã€‚ 1npm install ä»–ä¼šæ ¹æ®package.jsonæ–‡ä»¶å»å®‰è£…ä¾èµ–ã€‚è™½ç„¶æœ‰äº›ä¾èµ–å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œä½†èƒ½ç”¨å°±è¡Œã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å¾ˆé•¿ï¼Œè®°å¾—æ¢æºã€‚ï¼ˆæˆ‘è‡ªå·±éƒ½æ²¡æ¢ï¼‰ å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡å™¨ï¼š 1hexo server ä¹Ÿå¯ä»¥ç®€å†™ä¸ºhexo sï¼Œè¿™æ—¶å€™è®¿é—®localhost:4000å°±åº”è¯¥å¯ä»¥è®¿é—®åˆ°é¡µé¢äº†ã€‚ å°æ’æ›²å®‰è£…å®Œhexoåï¼Œç”µè„‘çš„ms-settingæ²¡æœ‰äº†ã€‚è¿™ä¸ªçš„ç›´æ¥åæœæ˜¯ä¸ªæ€§åŒ–ï¼Œæ˜¾ç¤ºè®¾ç½®è¿™äº›å³é”®çš„è®¾ç½®é€‰é¡¹æ‰“ä¸å¼€ï¼Œä¼šæŠ¥é”™è¯´æ‰¾ä¸åˆ°ã€‚ç”µè„‘çš„å¼€å§‹ç•Œé¢ç‚¹ä¸å¼€ï¼Œæœç´¢ç•Œé¢æœç´¢åˆ°çš„è½¯ä»¶å…¨éƒ¨æ‰“ä¸å¼€ï¼Œä½†æ˜¯æ¡Œé¢éƒ½å¾ˆæ­£å¸¸ï¼Œåº”ç”¨è½¯ä»¶ä¹Ÿéƒ½æ‰“å¾—å¼€ã€‚ æœ€åˆæˆ‘æ€€ç–‘æ˜¯pathè¢«æä¸¢äº†çš„é—®é¢˜ï¼Œä½†æ˜¯å…¶å®ä¸æ˜¯ï¼Œä½†è¿˜æ˜¯è®°å½•ä»¥ä¸‹ï¼Œè¿™é‡Œæ˜¯pathæä¸¢äº†çš„è§£å†³æ–¹æ¡ˆï¼š Win+Rè¿›å…¥åˆ°è¿è¡Œï¼Œè¾“å…¥regeditï¼Œè¿›å…¥åˆ°æ³¨å†Œè¡¨ç¼–è¾‘å™¨ è¿›å…¥åˆ°HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Control\\Session Manager\\Environmentï¼Œæ‰¾åˆ°pathï¼Œå¤åˆ¶ã€‚ å³é”®ç‚¹å‡»æˆ‘çš„ç”µè„‘ï¼Œå±æ€§ï¼Œé«˜çº§ç³»ç»Ÿè®¾ç½®ï¼Œç¯å¢ƒå˜é‡ï¼Œå»é‡Œé¢æ‰¾åˆ°pathï¼Œè¿›è¡Œæ¯”å¯¹ã€‚ä¸åŒå°±æ¢å¤ä»¥ä¸‹ã€‚ è¿™å¯èƒ½æ˜¯ä¸€ä¸ªpathä¸¢å¤±çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å¹¶æ²¡æœ‰è§£å†³æˆ‘çš„é—®é¢˜ã€‚äºæ˜¯éšä¾¿æœäº†ä¸€ä¸‹ã€‚æˆ‘æ‰§è¡Œäº†ä»¥ä¸‹æ­¥éª¤ï¼Œä½†å…·ä½“å“ªä¸€ä¸ªæ­¥éª¤çœŸæ­£è§£å†³äº†é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼š Win+Xï¼Œå¯ä»¥ç”¨ç®¡ç†å‘˜æ¨¡å¼ç‚¹å¼€powershellï¼Œè¿™ä¸ªåº”è¯¥ä¸ä¾èµ–ms-settingã€‚ æ‰§è¡Œsfc /scannowï¼Œæ‰«æå¹¶ä¿®å¤æŸåæˆ–ä¸¢å¤±ç³»ç»Ÿæ–‡ä»¶ã€‚ æ‰§è¡Œshutdown -ré‡å¯ã€‚ è™½ç„¶æœ€åè§£å†³äº†é—®é¢˜ï¼Œä½†å†æ¬¡è¯´ä¸€ä¸‹ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä»¥ä¸Šå“ªä¸ªæ­¥éª¤çœŸæ­£è§£å†³äº†é—®é¢˜ï¼Œä»…ä¾›å‚è€ƒã€‚ éƒ¨ç½²å’Œé…ç½®å›åˆ°ä¸»é¢˜ï¼Œå®Œæˆè¿è¡Œä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹é…ç½®ï¼Œæ¥ä¾›è‡ªå·±ä½¿ç”¨ã€‚æ›´æ”¹é…ç½®åœ¨_config.ymlé‡Œé¢ï¼Œå…·ä½“é€‰é¡¹æœ‰ç€å…·ä½“çš„æ–‡æ¡£è§£é‡Šï¼Œåæ­£å¯ä»¥è¿è¡Œçœ‹æ•ˆæœï¼Œæ‰€ä»¥å¯ä»¥éšä¾¿è¯•è¯•ã€‚æœ¬åšå®¢é‡‡ç”¨çš„ä¸»é¢˜é™¤äº†è¿™ä¸€ä¸ªyamlæ–‡ä»¶å¤–ï¼Œè¿˜æœ‰=_config.post.tmlå’Œ_config.icarus.ymlæ–‡ä»¶ï¼Œè¿™äº›ä¸»è¦çœ‹æ–‡æ¡£æ€ä¹ˆå†™å’Œè‡ªå·±å¤šè¯•è¯•ã€‚ æ’æ›²2åœ¨æœ¬åœ°è¿è¡Œè°ƒè¯•ä¹‹åï¼Œæˆ‘å‘ç°ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œæœ¬åœ°è®¿é—®éœ€è¦20sã€‚è¿™ä¸ªé—®é¢˜æŒºå¥½æ’æŸ¥çš„ï¼Œå› ä¸ºæœ¬åœ°ä¸å¯èƒ½è¿™ä¹ˆæ…¢ã€‚ç‚¹å¼€F12çœ‹è°ƒè¯•æ¡†ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸ªå«fontawsomeçš„cssæ–‡ä»¶éœ€è¦è”ç½‘è·å¾—ï¼Œå¹¶ä¸”failedã€‚è¿™æ ·å°±å­˜åœ¨äº†è®¿é—®æ…¢çš„é—®é¢˜ã€‚ è§£å†³æ–¹æ³•æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­æ”¹CDNï¼Œå…·ä½“å‚è€ƒyamlæ–‡æ¡£çš„è§£é‡Šã€‚ éƒ¨ç½²åœ¨yamlä¸­è®¾ç½®type: gitï¼Œrepo: è¿œç¨‹gitä»“åº“ï¼Œbranch: åˆ†æ”¯å°±è¡Œï¼Œè®°å¾—è®¾ç½®åˆ°masteråˆ†æ”¯æ‰æœ‰æ•ˆã€‚ ç”±äºæˆ‘ä»¬å®‰è£…äº†åˆ«äººçš„ä¾èµ–ï¼Œæ‰€ä»¥ä¸éœ€è¦å†å®‰è£…deployã€‚åœ¨è®¾ç½®å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹ï¼š 1hexo deploy ç­‰å¾…å³å¯ã€‚ä¸å‡ºä»¥å¤–çš„è¯åº”è¯¥ä¼šæˆåŠŸã€‚å‡ºæ„å¤–çš„è¯githubä¼šç»™ä½ å‘é‚®ä»¶ã€‚ é…ç½®è¿™é‡Œç®€å•ä»‹ç»ä¸€äº›é…ç½®ã€‚ tocå¯ä»¥å¼€å¯ç›®å½•ã€‚éœ€è¦æå‰é…ç½®ã€‚ categoriesè®¾ç½®åˆ†ç±»ã€‚tagsè®¾ç½®æ–‡ç« tagã€‚ mathjaxæˆ‘è‡ªå·±çš„ä½¿ç”¨æ–¹æ³•æ˜¯åœ¨æ–‡ç« å‰é¢headé‡Œé¢åŠ cdnæ¥è®¾ç½®çš„ã€‚ä¹Ÿæœ‰æ¨¡æ¿æä¾›çš„è§£å†³æ–¹æ³•ï¼Œå…·ä½“æŸ¥æ¨¡æ¿æ–‡æ¡£å°±è¡Œã€‚ é¢˜å¤–è¯ algoliaalgoliaæ˜¯ä¸ªå‰ç«¯æœç´¢æ’ä»¶ï¼Œå¥½ç”¨æ˜¯å¥½ç”¨ï¼Œä½†éƒ¨ç½²è¿‡ç¨‹æœ‰äº›å¤æ‚ï¼Œå¯¼è‡´æˆ‘æ”¶äº†ä¸çŸ¥é“å¤šå°‘ä¸ªgithubé‚®ä»¶è¯´å¤±è´¥ã€‚è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ã€‚ å®é™…è§£å†³æ–¹æ¡ˆï¼š å…ˆè¯´å®é™…è§£å†³æ–¹æ¡ˆâ€”â€”ç”¨åˆ«äººçš„api keyã€‚è‡ªå·±ç”³è¯·çš„keyç”±äºç¡¬ç¼–ç åˆ°â€”â€”config.ymlä¸­ï¼Œå› æ­¤ä¼šè¢«çˆ¬è™«çˆ¬åˆ°ï¼ˆä¸‰åˆ†é’Ÿå°±è¢«è­¦å‘Šäº†ï¼‰ï¼Œå¹¶ä¸”ä¼šè¢«å‘é‚®ä»¶è­¦å‘Šã€‚æ‰€ä»¥ç”¨åˆ«äººçš„keyæ˜¯æœ€å¥½çš„ã€‚ å°±æˆ‘è‡ªå·±çš„è¯ï¼Œæ˜¯ç”¨çš„åˆ«äººçš„api keyï¼ŒæŠ„çš„åˆ«äººçš„github actionæ¥ç”¨çš„ï¼Œå¥½å¤„æ˜¯çœå¿ƒï¼Œåå¤„æ˜¯æœ‰äº›ç¼ºå¾·ã€‚ ç†è®ºè§£å†³æ–¹æ¡ˆï¼š é¦–å…ˆæ³¨å†Œalgoliaè´¦å·ã€‚å®ƒçš„å®˜ç½‘è®¿é—®é€Ÿåº¦å¾ˆè¿·ï¼Œæ‰€ä»¥æ…¢æ…¢ç­‰ã€‚æ³¨å†Œä¹‹åéœ€è¦å¡«å…¬å¸ï¼Œçå¡«å°±è¡Œã€‚ æ–°å»ºä¸€ä¸ªindexï¼Œè‡ªå·±å‘½åä¸€ä¸‹ï¼Œç„¶ååœ¨å·¦è¾¹æ‰¾åˆ°api keyæ ç›®ï¼Œæ–°å»ºä¸€ä¸ªå¸¦å„ç§æƒé™çš„api keyã€‚ åœ¨yamlä¸­è®¾ç½®å„ç§é€‰é¡¹ï¼Œå¦‚ä¸‹ï¼š 123456algolia: applicationID: 'your applicationID' apiKey: 'your apiKey' adminApiKey: 'your adminApiKey' indexName: 'your indexName' chunkSize: 5000 è¿™é‡Œapi keyå°±æ˜¯åˆšæ‰ç”³è¯·çš„ï¼Œå…¶ä»–çš„ç…§æŠ„å³å¯ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1export HEXO_ALGOLIA_INDEXING_KEY=apiKey ä¸æ˜¯å¾ˆæ‡‚å®ƒçš„ä¸¤æ¬¡apiKeyï¼Œç”±äºæˆ‘ä»¬ç¡¬ç¼–ç åˆ°yamlä¸­äº†ï¼Œæ‰€ä»¥å¿…å®šä¼šè¢«çˆ¬è™«çˆ¬åˆ°ã€‚æ‰€ä»¥è¿˜æ˜¯ç”¨åˆ«äººçš„ã€‚ åœ¨å®Œæˆç¯å¢ƒå˜é‡åï¼Œå®‰è£…hexo-algoliaæ’ä»¶ï¼Œå¦‚ä¸‹ï¼š 1npm install hexo-algolia --save ç„¶åè¿è¡Œå³å¯ã€‚ æ³¨æ„ï¼šæˆ‘æ²¡è¯•è¿‡ç†è®ºæ–¹æ³•ï¼Œæ¯•ç«Ÿè¢«githubå‘äº†ä¸€ä¸‡ä¸ªé‚®ä»¶ï¼Œæ‰€ä»¥ä¸ä¿è¯æ­£ç¡®æ€§ã€‚è§‰å¾—æ‡’çš„å¯ä»¥ç›´æ¥æŠ„github actionå°±è¡Œã€‚ æ€»ç»“å’Œå…¶ä»–æ•´ä¸ªè¿‡ç¨‹èŠ±äº†æˆ‘ä¸¤å¤©è¿˜æ˜¯ä¸€å¤©ï¼Œæ€»ä¹‹æ¯”é¢„æƒ³è¦å¿«ï¼Œå› ä¸ºblogçš„ä¸€äº›æ ‡ç­¾éƒ½æ˜¯å…¼å®¹çš„ï¼Œè¿™å°±å¾ˆå¥½åŠï¼Œæ²¡æœ‰è¿‡å¤šçš„è¿ç§»æˆæœ¬ã€‚ ä½†ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰çš„blogçš„æ ¼å¼å°±å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œæ˜¾ç¤ºä¸Šä¸å¥½çœ‹ï¼Œä½†æ— ä¼¤å¤§é›…ã€‚ä¸€äº›ç¡¬ç¼–ç çš„é“¾æ¥ä¹Ÿå‡ºç°äº†é—®é¢˜ï¼Œæ¯”å¦‚ç›®å½•é”™è¯¯ä¹‹ç±»çš„ï¼Œæœ‰æ—¶é—´æ…¢æ…¢è§£å†³å§ã€‚ï¼ˆä¹Ÿå°±æ˜¯ä¸è§£å†³äº†ï¼‰ åŒæ—¶è¿˜æœ‰ä¸ªä¸çŸ¥é“æ˜¯bugè¿˜æ˜¯featureçš„ä¸œè¥¿ï¼Œåœ¨æ¸²æŸ“markdown tableçš„æ—¶å€™æ¸²æŸ“å¤±è´¥ï¼Œä¸¤ä¸ªå‡å·ä¼šè¢«æ¸²æŸ“æˆunicode 2013å­—ç¬¦ã€‚æš‚æ—¶è§£å†³æ–¹æ³•æ˜¯é€šè¿‡typoraçš„å¼€å‘è€…ç•Œé¢å¤åˆ¶htmlä»£ç ï¼Œç„¶ååœ¨rawæ ‡ç­¾ä¸­ç›´æ¥ç²˜è´´è¿›å»ã€‚è™½ç„¶ä¸ä¼˜é›…ï¼Œä½†å¯è¡Œã€‚ æ¢äº†åšå®¢ä¸»é¢˜å†™ä½œå¿ƒæƒ…ä¹Ÿä¼šå˜å¥½ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E8%BF%81%E7%A7%BB%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%A2%8E%E7%A2%8E%E5%BF%B5/"},{"title":"Gamanæ¸¸æˆè¯„æµ‹ç³»åˆ—#0ï¼šç›®å½•ä¸æ‚è°ˆ","text":"æˆ‘å†³å®šå¼€å§‹å†™æ¸¸æˆè¯„æµ‹ï¼Œåˆ†äº«ä¸€äº›æˆ‘è‡ªå·±çš„æ¸¸æˆç†å¿µ ã€‚ æ²¡äººçœ‹ä¹Ÿå†™ã€‚ æ‚è°ˆå†™æ¸¸æˆè¯„æµ‹çš„æƒ³æ³•ä¸»è¦èµ·æºäºå†…å¿ƒçš„æ„§ç–šæ„Ÿã€‚å½“æˆ‘è€—è´¹æ—¶é—´å»ç©æ¸¸æˆï¼Œä½†å¾—åˆ°çš„å´åªæœ‰å³æ—¶çš„æ„‰æ‚¦æ„Ÿï¼Œä½†è€—è´¹äº†æ›´å¤šçš„æ—¶é—´ã€‚æˆ‘è®¤ä¸ºè®¤çœŸåšè¿‡çš„äº‹å°±éœ€è¦è®¤çœŸå¯¹å¾…ï¼Œè®¤çœŸèŠ±è´¹æ—¶é—´ç©è¿‡çš„æ¸¸æˆï¼Œå°±éœ€è¦è®¤çœŸåœ°å‰–æä¸€ç•ªï¼Œç•™ä¸‹ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œäºæ˜¯è¯ç”Ÿäº†å†™æ¸¸æˆè¯„æµ‹çš„æƒ³æ³•ã€‚ æˆ‘è‡ªå·±ç©è¿‡çš„æ¸¸æˆï¼Œä¸èƒ½ç®—å¤šï¼Œä½†ä¹Ÿä¸èƒ½ç®—å°‘ï¼Œè‡ªæˆ‘åˆä¸­å¼€å§‹æ¥è§¦å•æœºæ¸¸æˆå¼€å§‹ï¼Œä¹Ÿç®—æ˜¯ç©äº†å…«å¹´æ¸¸æˆã€‚è€Œä¸”è‡ªåˆä¸­æ—¶å€™æˆ‘å°±å¼€å§‹é•¿æœŸå…³æ³¨äº’è”ç½‘æ¸¸æˆåª’ä½“ï¼Œäº†è§£äº†ä¸å°‘æ¸¸æˆçŸ¥è¯†ï¼Œæ›¾ç»ä¸€åº¦æƒ³åšæ¸¸æˆä½†è¢«æ¸¸æˆä¸šç•Œçš„å¾…é‡åŠé€€äº†ã€‚å¯¹äºâ€œè¯„æµ‹â€è€Œè¨€ï¼Œæˆ‘è®¤ä¸ºç›¸å½“ä¸€éƒ¨åˆ†çš„ä»·å€¼å–å†³äºä½œè€…è‡ªèº«çš„ç»å†ï¼Œä½œè€…è‡ªèº«å¯¹è¡Œä¸šï¼Œå¯¹äº§å“çš„ç†è§£æœ‰å¤šå°‘ã€‚ä¸å»è°ƒæŸ¥ä¾¿æ²¡æœ‰å‘è¨€æƒï¼Œæ²¡æœ‰çœŸæ­£ä½“ä¼šè¿‡å°±ä¸èƒ½ç»™å‡ºè¯„ä»·ï¼Œå› æ­¤æˆ‘è‡ªå·±å†™è¯„æµ‹çš„æ¸¸æˆï¼Œéƒ½æ˜¯æˆ‘è‡ªå·±æœ¬äººç©è¿‡å‡ åå°æ—¶ä»¥ä¸Šçš„ã€‚â€œå‡ åå°æ—¶â€åœ¨æˆ‘çœ‹æ¥ï¼Œè™½ç„¶ä¸èƒ½è®©ä½ ç£¨ç»ƒæ¸¸æˆçš„æŠ€æœ¯ï¼Œä½†è‡³å°‘å¯¹æ¸¸æˆçš„ç³»ç»Ÿï¼Œæœºåˆ¶æœ‰äº†ä¸€ä¸ªå½»åº•çš„äº†è§£ï¼Œå¯¹äºæ¸¸æˆçš„å‰§æƒ…è€Œè¨€ä¹Ÿè‡³å°‘é€šå…³äº†ä¸€æ¬¡ï¼Œäº†è§£äº†æ¥é¾™å»è„‰ã€‚è¿™äº›ä¸œè¥¿åœ¨æˆ‘çœ‹æ¥ï¼Œäº†è§£äº†è¿™äº›ï¼Œå°±è¶³ä»¥èƒ½å¤Ÿç®—â€œäº†è§£â€äº†ä¸€æ¬¾æ¸¸æˆï¼Œè‡³å°‘å¯¹äºæ¸¸æˆèƒ½ç»™å‡ºä¸€ä¸ªå…¨é¢çš„åˆ¤æ–­ã€‚ â€œè¯„æµ‹â€é™¤å»çœŸæ­£åœ°æƒ³äº†è§£ä¸€æ¬¾äº§å“ä¹‹å¤–ï¼Œè¿˜æ˜¯å¯»æ±‚è‚¯å®šï¼Œå¯»æ‰¾å…±åŒæ„Ÿçš„å¥½å»å¤„ï¼Œè¿™äº›ä¹Ÿæ˜¯ä¸€äº›è¯„æµ‹æœ‰ç€ä¼ æ’­æ•ˆåº”ï¼Œæµè¡Œèµ·æ¥çš„åŸå› ã€‚å°±æˆ‘è‡ªå·±è€Œè¨€ï¼Œæˆ‘è‡ªå·±å†™è¯„æµ‹ä¸èƒ½è¯´å®Œå…¨ç‹¬ç«‹ï¼Œä¸è¢«ä»–äººçš„è§‚ç‚¹æ‰€å½±å“ï¼Œä½†æˆ‘ä¼šç»“åˆç¬¬ä¸€æ‰‹ä½“éªŒã€‚å¥½ç©æœ‰å¥½ç©çš„é“ç†ï¼Œåæœ‰åçš„é“ç†ï¼Œè¿™äº›ä¼šåœ¨ç†å¿µéƒ¨åˆ†è¯¦ç»†é˜è¿°ã€‚ ç³»åˆ—æ ‡é¢˜Gamanæ¥è‡ªå¤è‹±è¯­çš„gameï¼Œå–è¿™ä¸ªåå­—çº¯å±ä¸€æ—¶å…´èµ·ï¼Œéœ€è¦ä¸€ä¸ªæ ‡å¿—ã€‚ æ¸¸æˆé™¤äº†è¯„æµ‹æ–‡ç« å¤–æˆ‘è¿˜ä¼šç»™å‡ºä¸€ä¸ªè¯„åˆ†ï¼Œæ¯•ç«Ÿæ‰“åˆ†ä¹Ÿæ˜¯è¯„æµ‹çš„ä¸€éƒ¨åˆ†ï¼Œå…¨æ˜¯æ–‡å­—çš„æ–‡ç« ä¸å¥½çœ‹ã€‚ ç†å¿µä»¥ä¸‹æ˜¯æˆ‘è¯„æµ‹æ¸¸æˆçš„ä¸€äº›æ ¸å¿ƒç†å¿µï¼Œè¿™äº›æ„æˆäº†è¯„æµ‹æ¸¸æˆçš„åŸºæœ¬æ ‡å‡†ã€‚ æ¸¸æˆæ˜¯ç»™äººå¸¦æ¥å¿«ä¹çš„ è¿™ä¸€ç‚¹æ˜¯æœ€ä¸ºæ ¸å¿ƒçš„ï¼Œæœ€ä¸ºé‡è¦çš„ä¸€ç‚¹ã€‚æ¸¸æˆæœ€ä¸»è¦çš„åŠŸèƒ½ä¾¿æ˜¯ç»™äººå¸¦æ¥å¿«ä¹ï¼Œå³æ—¶æ€§çš„ä¹Ÿå¥½ï¼Œå›å‘³æ€§çš„ä¹Ÿç½¢ï¼Œä½†æœ€ä¸»è¦çš„ç›®çš„ä¸èƒ½è„±ç¦»äºæ­¤ã€‚â€œå¿«ä¹â€æ˜¯ä¸€ä¸ªç›¸å½“ä¸»è§‚çš„åˆ¤æ–­ï¼ŒåŸºäºæ­¤ä¼šå¼•å‘å„ç§è®¨è®ºï¼Œå„æœ‰å„çš„ä»·å€¼åˆ¤æ–­ï¼Œä½†å¯¹äºæ¸¸æˆè€Œè¨€ï¼Œå¸¦æ¥å¿«ä¹è¿™ä¸€åŸºæœ¬ç†å¿µä¸å˜ã€‚è¿™ä¸ªç†å¿µæ„å‘³ç€äººä»¬å…±è¯†çš„â€ç—›è‹¦â€œæ„å‘³ç€çƒ‚æ¸¸æˆï¼Œæ¯”å¦‚æ¸¸æˆç»å…¸ä¹‹ä½œï¼šæ²™æ¼ å·´å£«ï¼Œæ˜¯ç™¾åˆ†ç™¾çš„çƒ‚æ¸¸æˆã€‚æ— èŠçš„æ“ä½œåœ¨äººä»¬çš„å…±è¯†ä¸­ï¼Œæ˜¯ä¸€ç§ç—›è‹¦ã€‚ ç©æ¸¸æˆï¼Œè€Œä¸æ˜¯è¢«æ¸¸æˆç© è¿™ä¸€ç‚¹æ˜¯åŸºäºä¸Šä¸€ç‚¹è¡ç”Ÿå‡ºæ¥ï¼Œå¯¹äºâ€œå¿«ä¹â€çš„ç†è§£ã€‚è®¸å¤šäººä¸ºäº†æ¸¸æˆåºŸå¯å¿˜é£Ÿï¼Œå®šé—¹é’Ÿå‡†æ—¶å‚åŠ æ´»åŠ¨ï¼Œæˆ–è®¸ä»–ä»¬èƒ½å¤Ÿåœ¨è¿™è¿‡ç¨‹ä¸­å¾—åˆ°å¿«ä¹ï¼Œä½†åœ¨æˆ‘è¯„æµ‹çš„ç†å¿µä¸­ï¼Œè¿™ä¸€ç‚¹æ˜¯å¾ˆä¸¥é‡çš„å‡åˆ†é¡¹ã€‚æ¸¸æˆæ˜¯ç»™äººç©çš„ï¼Œè¿™æ„å‘³ç€è‡ªæˆ‘çš„ä¸»å¯¼æƒã€‚ä»¥â€œä¸Šç­â€çš„æ–¹å¼ç©æ¸¸æˆï¼Œè¿˜ä¸å¦‚å»ä¸Šä¸ªç­ï¼Œè‡³å°‘è¿˜èƒ½è·å¾—æ‹¿é’±çš„å¿«ä¹ã€‚ä¸è¢«è¿è¥ï¼Œç­–åˆ’å–‚å±ï¼Œæ‹¥æœ‰å¯¹äºæ¸¸æˆçš„ä¸»å¯¼æƒï¼Œè¿™æ˜¯æˆ‘å¯¹æ¸¸æˆæ˜¯å¦å¥½ç©çš„ä¸€ä¸ªç†è§£ã€‚åŒæ ·ï¼Œæ¸¸æˆéš¾åº¦çš„çªç„¶é™¡å¢ï¼Œè¿‡äºå›°éš¾å¯¼è‡´ä¸è‚ä¸æ°ªç©ä¸äº†ï¼Œè¿™ç§è¡Œä¸ºä¹Ÿå±äºè¢«æ¸¸æˆç©ï¼Œåœ¨æˆ‘å¯¹æ¸¸æˆçš„ç†è§£é‡Œé¢ä¹Ÿå±äºå‡åˆ†é¡¹ã€‚ å®£å‘æ— å…³ å®£å‘æ˜¯æ¸¸æˆå‘è¡Œçš„ä¸€ä¸ªç¯èŠ‚ï¼Œè€Œä¸æ˜¯æ¸¸æˆè‡ªèº«çš„ä¸€éƒ¨åˆ†ã€‚ç°åœ¨çš„æ¸¸æˆç•Œå„ç§å„æ ·çš„å®£å‘å±‚å‡ºä¸ç©·ï¼Œå®£å‘ç»è´¹è¶³èƒ½å¤Ÿç»™äºˆæ¸¸æˆè¶³å¤Ÿçš„å…³æ³¨åº¦ï¼Œå› æ­¤åªè¦æ¸¸æˆè´¨é‡ä¸ç®—å¤ªå·®ï¼Œæ”¶ç›Šç›¸å¯¹è€Œè¨€å°±ä¼šå¾ˆä¸é”™ã€‚ä½†æˆ‘ä¸ªäººè¯„æµ‹æ¸¸æˆåˆ™ä¼šå¿½ç•¥å®£å‘ï¼Œå› ä¸ºè¿™ä¸æ˜¯æ¸¸æˆæœ¬èº«çš„ä¸€éƒ¨åˆ†ã€‚è¿™æ„å‘³ç€æ¸¸æˆä¸å®£å‘ä¸åŒ¹é…çš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯ä¼šè®¤çœŸç ”ç©¶æ¸¸æˆæœ¬èº«ã€‚å®£å‘ä¸æ¸¸æˆè‡ªèº«ä¸é…ä½çš„ç°è±¡å‡ºç°ä¹Ÿå¾ˆå¤šï¼Œæ¯”å¦‚æœ€è¿‘æœ€ä¸ºå‡ºåçš„ã€Šèµ›åšæœ‹å…‹2077ã€‹ã€‚ ä¸åŒç±»çš„æ¸¸æˆä¸åŒåœ°çœ‹å¾…ï¼ŒåŒç±»åœ°æ¸¸æˆæ¯”è¾ƒåœ°çœ‹å¾… ä¸åŒçš„æ¸¸æˆä¾§é‡ç‚¹ä¸åŒï¼Œä½†åŒç±»æ¸¸æˆå¾€å¾€å­˜åœ¨è®¸å¤šç›¸ä¼¼ä¹‹å¤„ï¼Œå› è€Œä¼šç›¸äº’æ¯”è¾ƒã€‚ä¸åŒç±»çš„æ¸¸æˆä¼šæŒ‰ç…§ç±»åˆ«æ¥çœ‹å¾…ï¼Œæ¯”å¦‚æ‰‹æœºæ¸¸æˆä¼šæ›´åŠ åé‡äºä¾¿æºæ€§ï¼Œèƒ½å¦éšæ—¶éšåœ°åœ°ç©ã€‚å‰§æƒ…ä¸»æ‰“çš„æ¸¸æˆä¼šæ›´åŠ çœ‹é‡å‰§æƒ…ï¼Œç©æ³•æ¸¸æˆçš„æ¸¸æˆä¼šæ›´åŠ çœ‹é‡ç©æ³•ã€‚ç°åœ¨è®¸å¤šçš„æ¸¸æˆåœ¨ç©æ³•ä¸Šé¢‡ä¸ºç±»ä¼¼ï¼Œå› è€Œä¼šæ›´åŠ æ³¨é‡ç±»ä¼¼ç©æ³•çš„ä¸åŒç‚¹ï¼Œç›¸äº’æ¯”è¾ƒï¼Œè¿™æ˜¯è¯„ä»·çš„æ ¸å¿ƒå‡†åˆ™ã€‚ è¯„åˆ†æ„æˆä¸åŒçš„æ¸¸æˆå­˜åœ¨ä¸åŒçš„éƒ¨åˆ†ï¼Œä½†å¯¹äºèŒ«èŒ«ä¼—å¤šçš„æ¸¸æˆä¹Ÿå­˜åœ¨ç›¸é€šçš„éƒ¨åˆ†ï¼Œæ¸¸æˆçš„è¯„åˆ†ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ„æˆã€‚å½“ç„¶ï¼Œæœ‰äº›æ¸¸æˆæ¯”å¦‚gal gameåœ¨ç©æ³•ä¸Šæ— æ³•è¿‡å¤šå»¶å±•ï¼Œå› è€Œåœ¨ç©æ³•ä¸Šä¸ä¼šåšè¯„ä»·ã€‚å› æ­¤æ¸¸æˆçš„è¯„æµ‹æ˜¯åŸºäºä»¥ä¸‹æ–¹é¢çš„å­é›†æ„æˆã€‚ å‰§æƒ… å¯¹äºæœ‰å‰§æƒ…çš„æ¸¸æˆè€Œè¨€ï¼Œæ¸¸æˆçš„æ•…äº‹æ€§æ˜¯è¯„åˆ¤æ¸¸æˆçš„ä¸»è¦éƒ¨åˆ†ä¹‹ä¸€ï¼Œä½†ä¹Ÿä¸æ˜¯å…¨éƒ¨ï¼Œæ¯”å¦‚ã€Šç‹è€…è£è€€ã€‹ä¹Ÿæœ‰å‰§æƒ…ï¼Œä½†æ²¡äººåœ¨ä¹ã€‚å‰§æƒ…çš„è¯„åˆ†ä¸»è¦åŸºäºåˆç†æ€§å’Œæ•…äº‹æ€§ï¼Œåˆç†æ€§æ„å‘³ç€å‰§æƒ…ä¸èƒ½è¿‡äºè¶…å‡ºå¸¸è¯†ï¼Œä¸ä¼šè¢«å–‚å±ï¼Œè‡³å°‘è‡ªèº«æ˜¯åŸºæœ¬åˆç†è´¯é€šçš„ã€‚æ•…äº‹æ€§åˆ™æ˜¯å¯¹å‰§æƒ…æ›´é«˜å±‚é¢çš„è¿½æ±‚ï¼Œæ¯”å¦‚å‰§æƒ…è‡ªèº«å­˜åœ¨çš„çŸ›ç›¾å†²çªï¼ˆæ–‡å­¦æ„ä¹‰ä¸Šçš„ï¼‰ï¼Œæƒ…æ„Ÿæç»˜ï¼Œè½¬æŠ˜ï¼Œå†…æ¶µç­‰ã€‚å‰§æƒ…å¹³æ·¡çš„æ¸¸æˆå¯ä»¥æ¥å—ï¼Œä½†å†…æ¶µä¸°å¯Œçš„ä½œå“ï¼Œè¡¨ç°å½¢å¼åˆç†çš„ä½œå“ï¼Œä¸€å®šæ˜¯ä¼˜ç§€çš„ä½œå“ã€‚ äººç‰© äººç‰©åœ¨å¤§ä½“ä¸Šæ˜¯ä¾æ‰˜å‰§æƒ…è€Œå­˜åœ¨çš„ï¼Œå¹¶ä¸”ç”±å‰§æƒ…è€Œä½“ç°ã€‚æˆ‘ä¸€åº¦åœ¨æ€è€ƒè¦ä¸è¦æŠŠäººç‰©ä½†åˆ—å‡ºæ¥ï¼Œä½†ç°åœ¨çš„æ¸¸æˆï¼Œæˆ–è®¸æ˜¯å¿«é¤åŒ–çš„å½±å“ï¼Œäººç‰©å¾€å¾€è¢«æŠ½è±¡å‡ºäº†å‰§æƒ…ã€‚ç®€å•æ¥è¯´ï¼Œå­˜åœ¨çš„ä¸æ˜¯â€œäººç‰©â€ï¼Œè€Œæ˜¯â€œäººè®¾â€ã€‚ä½†æ˜¯å¥½çš„äººè®¾åœ¨è¥é”€ä¸Šä¾ç„¶æ˜¯è®¨å–œçš„ï¼Œæœ‰ç€å•†ä¸šçš„ä»·å€¼ã€‚æ¸¸æˆçš„äººç‰©ä¸åƒå°è¯´ä¸€èˆ¬ï¼Œç°ä»£ä¸°å¯Œçš„å¤šåª’ä½“æŠ€æœ¯ç»™äºˆäº†æ¸¸æˆäººç‰©æ–°çš„å­˜æ´»æ–¹å¼ã€‚æ¯”å¦‚ç«‹ç»˜ï¼Œæ¯”å¦‚æ¨¡å‹ï¼Œè¿™äº›éƒ½æ˜¯äººç‰©çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¯„ä»·çš„è¿‡ç¨‹ä¸­ä¸èƒ½å¿½è§†è¿™ä¸€éƒ¨åˆ†ï¼Œå› æ­¤äººç‰©è¢«å•ç‹¬åˆ—äº†å‡ºæ¥ã€‚ ç©æ³• æ¸¸æˆæœ€ä¸ºæ ¸å¿ƒçš„ç³»ç»Ÿä¸æœºåˆ¶ï¼Œä¹Ÿæ˜¯æ„æˆæ¸¸æˆæ˜¯å¦â€œå¥½ç©â€çš„ä¸»è¦å› ç´ ã€‚è™½ç„¶å¤§éƒ¨åˆ†æ¸¸æˆæœºåˆ¶æœ‰ç€è¶‹åŒå‘å±•çš„æ€åŠ¿ï¼Œä½†æœ‰è¶£çš„æœºåˆ¶å¾€å¾€æ˜¯ç»´æŒæ¸¸æˆç”Ÿå‘½çš„é‡å¤§å› ç´ ã€‚æ— è¶£çš„æœºåˆ¶ï¼Œå³ä½¿å‡ºå†å¤šçš„æ´»åŠ¨ï¼Œæ”¶é›†è¦ç´ ä¹‹ç±»çš„ä¸œè¥¿ï¼Œä¹Ÿä¸ä¼šå¥½ç©ã€‚å¯¹äºæˆ‘è€Œè¨€ï¼Œå‰§æƒ…ä¼˜ç§€çš„æ¸¸æˆå¾€å¾€å“å‘³ä¸€æ¬¡å°±è¶³å¤Ÿï¼Œä½†â€œå¥½ç©â€çš„æ¸¸æˆåˆ™å¯ä»¥ä¸€ç›´ç©ä¸‹å»ã€‚å½“ç„¶ï¼Œä¸åŒçš„æ¸¸æˆæœ‰ç€ä¸åŒçš„ç‰¹è‰²ï¼Œåœ¨å…·ä½“è¯„åˆ¤çš„æ—¶å€™ä¹Ÿä¼šè¿›è¡Œæƒé‡çš„æ¯”å¯¹ã€‚ ç”»é¢ å¥½çš„ç”»é¢ä½¿å¾—ç©æ¸¸æˆç§°ä¸ºä¸€ç§äº«å—ï¼Œä½†å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œç³Ÿç³•çš„ï¼Œè¿‡æ—¶çš„ç”»é¢ï¼Œåªè¦æ¸¸æˆç©æ³•æœ‰è¶£ï¼Œä»ç„¶å¯ä»¥ç©å¾ˆé•¿æ—¶é—´ã€‚åªè¦ç”»é¢ä¸æ˜¯è¿‡äºè¾£çœ¼ç›ï¼Œæˆ‘è®¤ä¸ºéƒ½æ˜¯å¯ä»¥æ¥æ”¶çš„èŒƒå›´ã€‚ç”»é¢åœ¨è¯„æµ‹ä¸­å¾€å¾€å±äºåŠ åˆ†é¡¹ã€‚ éŸ³ä¹ éŸ³ä¹ä¸ç”»é¢ç±»ä¼¼ï¼Œå¥½çš„éŸ³ä¹æ˜¯æ„æˆæ¸¸æˆæ°›å›´çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ææ€–æ¸¸æˆä¸­çš„é…ä¹æ’å…¥ã€‚é™¤å»éŸ³ä¹ï¼ŒéŸ³æ•ˆä¹Ÿæ˜¯æ¸¸æˆçš„å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸€ç‚¹ä½“ç°åœ¨æ¯”å¦‚PTçš„å¹¿æ’­ï¼Œå©´å„¿å“­å£°ç­‰ã€‚ç›®å‰æˆ‘è‡ªå·±è¿˜æ²¡æœ‰é‡åˆ°è¿‡é…ä¹æå…¶ç³Ÿå¿ƒçš„æ¸¸æˆï¼Œå› æ­¤éŸ³ä¹ä¹Ÿæ˜¯åŠ åˆ†é¡¹ã€‚ ä½“éªŒ ä½“éªŒæ˜¯ä¸ªæ‚é¡¹ï¼ŒåŒºåˆ«äºç”»é¢ä¸éŸ³ä¹ï¼Œä½“éªŒæ˜¯é™¤å»è¿™äº›å› ç´ ä¹‹å¤–ï¼Œæ¸¸æˆæœ¬èº«çš„ä½“éªŒï¼Œæ¯”å¦‚æ¸¸æˆçš„ä¼˜åŒ–ï¼Œå„ç§bugï¼Œæˆ–è€…æ˜¯æ¸¸æˆçš„æµç¨‹æ„Ÿå—ï¼Œä»»åŠ¡è®¾ç½®ï¼Œéš¾åº¦æ¢¯åº¦ï¼Œæˆ–è€…æ˜¯æ¸¸æˆçš„è‚åº¦ï¼Œæ°ªåº¦ï¼Œè¿™äº›å±äºå•ç‹¬æ‹¿å‡ºæ¥è®²ä¼šæ¯”è¾ƒå°‘ï¼Œä½†æ•´åˆèµ·æ¥åˆæœ‰äº›å¤šçš„ä¸œè¥¿ï¼Œæˆ‘å†³å®šæ•´åˆåˆ°ä½“éªŒä¹‹ä¸­ã€‚ç³Ÿå¿ƒçš„ä½“éªŒï¼Œæ¯”å¦‚æ¶æ€§bugæ— æ³•é€šè¿‡å‰§æƒ…ï¼Œç»å¯¹æ˜¯å‡åˆ†é¡¹ï¼Œè€Œè‰¯å¥½çš„ä½“éªŒå¾€å¾€ä¸èƒ½ç§°ä¸ºåŠ åˆ†é¡¹ã€‚ä½“éªŒç®—æ˜¯ä¸€ä¸ªæ¸¸æˆçš„åŸºæœ¬ç´ å…»ï¼Œè‡³å°‘ï¼Œä¸€ä¸ªæ¸¸æˆä¸èƒ½è®©ä½ è§‰å¾—æ¶å¿ƒã€‚ ç›®å½•æ±‡æ€»çš„ç›®å½•ï¼Œä¾¿äºæŸ¥æ‰¾ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Gaman/gaman%E6%B8%B8%E6%88%8F%E8%AF%84%E6%B5%8B%E7%B3%BB%E5%88%97-0%EF%BC%9A%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%9D%82%E8%B0%88/"},{"title":"C++ Primerå­¦ä¹ ç¬”è®°","text":"æœ¬æ–‡ä¸»è¦æ˜¯è¯»C++ Primerï¼Œè®°å½•ä¸€äº›æ²¡å…³æ³¨åˆ°çš„ç»†èŠ‚ï¼Œæˆ–è€…æ²¡å­¦åˆ°çš„ä¸œè¥¿ã€‚ ç¬¬ä¸€ç«  å¼€å§‹é™¤äº†cin coutï¼Œè¿˜æœ‰cerrè¾“å‡ºè­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ï¼Œclogè¾“å‡ºè¿è¡Œæ—¶ä¸€èˆ¬æ€§ä¿¡æ¯ã€‚ endlç»“æŸå½“å‰è¡Œï¼Œå°†ä¸è®¾å¤‡å…³è”çš„ç¼“å†²åŒºåˆ·åˆ°è®¾å¤‡ä¸­ã€‚ä¿è¯åˆ°ç›®å‰ä¸ºæ­¢æ‰€äº§ç”Ÿçš„æ‰€æœ‰è¾“å‡ºéƒ½å†™å…¥åˆ°è¾“å‡ºæµä¸­ï¼Œè€Œä¸æ˜¯åœç•™åœ¨å†…å­˜ä¸­ç­‰å¾…å†™å…¥æµã€‚ æ‹“å±•ï¼šç¼“å†²åŒºåˆç§°ä¸ºç¼“å­˜ï¼Œå†…å­˜ç©ºé—´çš„ä¸€éƒ¨åˆ†ã€‚åœ¨å†…å­˜ç©ºé—´ä¸­é¢„ç•™äº†ä¸€å®šçš„å­˜å‚¨ç©ºé—´ç¼“å†²è¾“å…¥æˆ–è¾“å‡ºã€‚CPUå¯ä»¥ç›´æ¥è¯»å–å†…å­˜è€Œä¸æ˜¯ä»ç£ç›˜ ä¸­è¯»ï¼Œå‡å°‘ç£ç›˜è¯»å†™æ¬¡æ•°ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚ å…¨ç¼“å†²ï¼šæ ‡å‡†IOç¼“å­˜æ»¡ä¹‹åæ‰å®é™…è¿›è¡ŒIOæ“ä½œï¼› è¡Œç¼“å†²ï¼šé‡åˆ°æ¢è¡Œç¬¦æ‰ä¹‹é™…IOæ“ä½œï¼› ä¸ç¼“å†²ï¼šå¦‚stderrã€‚ å¯ä»¥ä½¿ç”¨flush endl endsæ¥åˆ·æ–°ç¼“å†²åŒºã€‚ ç¬¬äºŒç«  å˜é‡ä¸åŸºæœ¬ç±»å‹charæ˜¯å¦å¸¦ç¬¦å·ç”±ç¼–è¯‘å™¨å†³å®šã€‚å…¶ä»–å­—ç¬¦ç±»å‹å¯ä»¥ç”¨æ‰©å±•å­—ç¬¦é›†ï¼Œå¦‚wchar_t,char16_t,char32_tã€‚å…¶ä¸­wchar_tå¯ä»¥ç¡®ä¿å­˜æ”¾æœ€å¤§æ‰©å±•å­—ç¬¦é›†çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œ16å’Œ32åˆ™ä¸ºunicodeæœåŠ¡ã€‚ åˆå§‹åŒ–å’Œèµ‹å€¼æ˜¯å®Œå…¨ä¸åŒçš„æ“ä½œã€‚åˆå§‹åŒ–æ˜¯èµ‹äºˆåˆå§‹å€¼ï¼Œèµ‹å€¼åˆ™æ˜¯å…ˆæ“¦é™¤åœ¨ç”¨æ–°å€¼æ›¿ä»£ã€‚ åˆ—è¡¨åˆå§‹åŒ–ï¼šç”¨èŠ±æ‹¬å·åˆå§‹åŒ–ï¼Œå¦‚ä¸‹ï¼š 1234int a = 0;int a = {0};int a{0};int a(0); å¦‚æœåˆå§‹å€¼å¯èƒ½ä¸¢å¤±ä¿¡æ¯ï¼Œåˆ™ç”¨åˆ—è¡¨åˆå§‹åŒ–æ—¶å€™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ é»˜è®¤åˆå§‹åŒ–ï¼šå¯¹äºå‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®ç±»å‹å˜é‡ä¸è¢«åˆå§‹åŒ–ï¼Œå‡½æ•°å¤–çš„å˜é‡åˆå§‹åŒ–ä¸º0ã€‚æ¯ä¸ªç±»å„è‡ªå†³å®šåˆå§‹åŒ–çš„æ–¹å¼ã€‚ c++æ”¯æŒåˆ†ç¦»å¼ç¼–è¯‘ï¼Œå› æ­¤å®šä¹‰å’Œå£°æ˜éœ€è¦åŒºåˆ«å¼€æ¥ã€‚å£°æ˜ä½¿å¾—åå­—ä¸ºç¨‹åºæ‰€çŸ¥é“ï¼Œå®šä¹‰åˆ›å»ºä¸åå­—å…³è”çš„å®ä½“ã€‚ å¦‚æœæƒ³å£°æ˜è€Œéå®šä¹‰ï¼Œåˆ™ç”¨externå¹¶ä¸”ä¸æ˜¾å¼åˆå§‹åŒ–ã€‚å˜é‡åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ï¼Œä½†å¯ä»¥è¢«å¤šæ¬¡å£°æ˜ã€‚ å»ºè®®ï¼šåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å˜é‡å‰å®šä¹‰å®ƒã€‚è¿™æ ·æ–¹ä¾¿å¥½æ‰¾ã€‚ å¼•ç”¨åˆ›å»ºäº†å¯¹è±¡çš„åˆ«åï¼Œå®šä¹‰æ—¶å€™ä¼šå’Œåˆå§‹å€¼ç»‘å®šåœ¨ä¸€èµ·ï¼Œæ— æ³•é‡æ–°ç»‘å®šåˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚ æ‰€æœ‰æŒ‡é’ˆéƒ½åº”è¯¥åˆå§‹åŒ–ï¼Œè€Œä¸”åº”å½“åœ¨å®šä¹‰äº†å¯¹è±¡ä¹‹åå†å®šä¹‰æŒ‡å‘å®ƒçš„æŒ‡é’ˆã€‚ void*æŒ‡é’ˆå¯ä»¥å­˜æ”¾ä»»æ„å¯¹è±¡çš„åœ°å€ï¼Œä½†ä¸èƒ½æ“ä½œã€‚å¯ä»¥è¿›è¡Œå‡½æ•°çš„æ¯”è¾ƒï¼Œæˆ–è€…èµ‹å€¼ç»™å¦ä¸€ä¸ªvoid*ã€‚ä¹Ÿå¯ä»¥å¼ºè½¬ç±»å‹åæ“ä½œã€‚ 12int *p1, p2;//åªæœ‰p1æ˜¯int*ç±»å‹ p2æ˜¯intint *p1, *p2ï¼›//æ­£ç¡® é»˜è®¤çŠ¶æ€ä¸‹ï¼Œconstå¯¹è±¡åªåœ¨æ–‡ä»¶å†…ç”Ÿæ•ˆã€‚å¦‚æœéœ€è¦å…±äº«ï¼Œåˆ™extern constæ¥ä½¿ç”¨ã€‚ æ— æ³•é€šè¿‡constå¼•ç”¨æ¥æ”¹å˜å€¼ï¼Œä½†å¯ä»¥é€šè¿‡å…¶ä»–å¼•ç”¨æ”¹å˜å€¼ã€‚ å¼•ç”¨ç±»å‹å¿…é¡»ä¸æ‰€å¼•ç”¨å¯¹è±¡ç±»å‹ä¸€è‡´ï¼Œé™¤éæ˜¯å­—é¢å€¼ã€‚ conståœ¨å‰ï¼Œæ˜¯æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆã€‚conståœ¨åï¼Œæ˜¯å¸¸é‡æŒ‡é’ˆã€‚å‰è€…æ— æ³•é€šè¿‡è¯¥æŒ‡é’ˆæ”¹å˜å˜é‡å€¼ï¼Œåè€…æ— æ³•æ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯åœ°å€ä¸å˜ã€‚ constexprå¸¸é‡è¡¨è¾¾å¼æŒ‡å¯ä»¥åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¾—åˆ°è®¡ç®—ç»“æœçš„è¡¨è¾¾å¼ã€‚å‡½æ•°ä½“å¤–å®šä¹‰çš„å˜é‡åœ°å€ä¸å˜ï¼Œèƒ½ç”¨æ¥åˆå§‹åŒ–constexpræŒ‡é’ˆã€‚è¿™æ—¶å€™ç›¸å½“äºåœ°å€ä¸å˜çš„å¸¸é‡æŒ‡é’ˆã€‚ å¯ä»¥ç”¨typedefå’Œusingæ¥å£°æ˜ç±»å‹åˆ«åã€‚ autoé€šå¸¸ä¼šå¿½ç•¥é¡¶å±‚constï¼ˆé€šé“ï¼‰ä¿ç•™åº•å±‚constã€‚éœ€è¦é¡¶å±‚çš„è¯åˆ™è¦æ˜¾å¼å£°æ˜ã€‚ å¼•ç”¨ç”¨autoä¹Ÿéœ€è¦æ˜¾å¼å£°æ˜ã€‚ decltypeå¯ä»¥ç”¨æ¥æ¨æ–­ç±»å‹ï¼Œè€Œä¸è®¡ç®—å€¼ã€‚ 123456int *p = 5;int a = 6;decltype(*p) //int&amp;decltype((5))//intdecltype(a)//intdecltype((a))//int&amp; åŒå±‚æ‹¬å·é‡Œé¢æ”¾å˜é‡ åªèƒ½æ˜¯å¼•ç”¨ decltypeåœ¨åŠ æ‹¬å·å’Œä¸åŠ æ‹¬å·æ—¶å€™ç±»å‹ä¸åŒã€‚ ç¬¬ä¸‰ç«  å­—ç¬¦ä¸² å‘é‡å’Œæ•°ç»„æ¯ä¸ªå‡½æ•°ï¼Œå˜é‡åå­—éƒ½éœ€è¦ç‹¬ç«‹çš„usingå£°æ˜ã€‚å¤´æ–‡ä»¶ä¸åº”è¯¥åŒ…å«usingå£°æ˜ï¼Œé¿å…å†²çªã€‚ ç”¨ç­‰å·æ‰§è¡Œçš„æ‹·è´åˆå§‹åŒ–ï¼Œä¸ç”¨ç­‰å·æ‰§è¡Œçš„ç›´æ¥åˆå§‹åŒ–ã€‚ è§¦å‘getlineå‡½æ•°çš„æ¢è¡Œç¬¦è¢«ä¸¢å¼ƒæ‰äº†ï¼Œå¾—åˆ°çš„stringä¸å«æ¢è¡Œç¬¦ã€‚ åœ¨cctypeé‡Œé¢æœ‰å„ç§å¤„ç†å­—ç¬¦çš„å‡½æ•°ï¼Œæ¯”å¦‚ispunct(c)æ£€æµ‹æ ‡ç‚¹ç¬¦å·ã€‚ åˆ—è¡¨åˆå§‹åŒ–åªèƒ½èŠ±æ‹¬å·ï¼Œä¸èƒ½åœ†æ‹¬å·ã€‚ vectorè¿è¡Œæ—¶åº”å½“èƒ½é«˜æ•ˆå¿«é€Ÿæ·»åŠ å…ƒç´ ï¼Œå› æ­¤è®¾å®šå¤§å°æ²¡ä»€ä¹ˆå¿…è¦ã€‚ åªèƒ½å¯¹å·²ç»å­˜åœ¨çš„å…ƒç´ æ‰§è¡Œä¸‹æ ‡æ“ä½œã€‚ åªéœ€è¦è¯»çš„è¯ï¼Œå¯ä»¥ç”¨cbegin()å¸¸é‡è¿­ä»£å™¨ã€‚ å¯ä»¥ç”¨ç®­å¤´è¿ç®—ç¬¦å’Œempty()æ¥æ£€æµ‹æ˜¯å¦ä¸ºç©ºã€‚ 12(*it).empty();it-&gt;empty(); å¯¹å®¹é‡çš„æ“ä½œä¼šå¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆã€‚ é™¤äº†æ–¹æ³•ï¼Œè¿˜å¯ä»¥ç”¨begin(),end()å‡½æ•°ã€‚å¾—åˆ°å°¾åæŒ‡é’ˆï¼ˆæŒ‡å‘å¹¶ä¸å­˜åœ¨çš„å…ƒç´ ï¼Œä½äºå®¹å™¨å°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®ï¼‰ï¼Œå¯ä»¥ä»¥æ•°ç»„ä¸ºå‚æ•°ã€‚ ä¸¤ä¸ªæŒ‡é’ˆç›¸å‡å¾—åˆ°ptrdiff_tç±»å‹ï¼Œå’Œsize_tç±»ä¼¼ï¼Œä½†å¯èƒ½æœ‰è´Ÿæ•°ã€‚ ç¬¬å››ç«  è¡¨è¾¾å¼é™¤éæ¯”è¾ƒå¯¹è±¡æ˜¯å¸ƒå°”ç±»å‹ï¼Œå¦åˆ™ä¸è¦ç”¨trueï¼Œfalseæ¥è¿›è¡Œæ¯”è¾ƒã€‚ å­—é¢å€¼æ˜¯å³å€¼ï¼Œç®—æ•°è¡¨è¾¾å¼æ˜¯å³å€¼ã€‚ é™¤éå¿…é¡»ï¼Œå¦åˆ™ä¸è¦ç”¨é€’å¢é€’å‡è¿ç®—ç¬¦çš„åç½®ç‰ˆæœ¬ï¼Œç”±äºéœ€è¦ä¿å­˜åŸå§‹å€¼ï¼Œå› æ­¤äº§ç”Ÿä¸å¿…è¦æµªè´¹ã€‚ sizeofå­˜åœ¨ä¸¤ç§å½¢å¼ï¼Œæ±‚ç±»å‹çš„å¤§å°å’Œæ±‚è¡¨è¾¾å¼ç»“æœçš„ç±»å‹å¤§å°ã€‚ 12sizeof expr;sizeof (type); å¯¹æ•°ç»„æ±‚sizeofä¼šå¾—åˆ°æ•´ä¸ªæ•°ç»„æ‰€å ç©ºé—´çš„å¤§å°ï¼Œå¯¹stringæˆ–è€…vectoråˆ™åªè¿”å›å›ºå®šéƒ¨åˆ†å¤§å°ã€‚ éšå¼è½¬æ¢ï¼šæ¯”intå°çš„æ•´å‹å€¼æå‡åˆ°è¾ƒå¤§çš„æ•´æ•°ç±»å‹ï¼Œåœ¨æ¡ä»¶ä¸­éå¸ƒå°”å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹ï¼Œåˆå§‹åŒ–æ—¶å€™è½¬æ¢æˆå˜é‡ç±»å‹ï¼Œå³ä¾§è¿ç®—å¯¹è±¡è½¬æ¢æˆå·¦ä¾§è¿ç®—å¯¹è±¡çš„ç±»å‹ã€‚ç®—æ•°è¿ç®—å¤šç§ç±»å‹ä¼šè½¬æ¢æˆåŒç§ç±»å‹ï¼Œå‡½æ•°è°ƒç”¨ä¼šå‘ç”Ÿç±»å‹è½¬æ¢ã€‚ å‘½åçš„å¼ºåˆ¶è½¬æ¢ï¼š 123456789int j;void* p;static_cast&lt;double&gt;(j);//æœ‰æ˜ç¡®å®šä¹‰çš„ç±»å‹è½¬æ¢ï¼Œä¸»è¦ä¸åŒ…å«åº•å±‚constï¼Œéƒ½èƒ½ç”¨static_castã€‚static_cast&lt;double*&gt;(p);const char *pc;char *p = const_cast&lt;char*&gt;(pc);//const_caståªèƒ½æ”¹å˜è¿ç®—å¯¹è±¡çš„åº•å±‚constï¼Œä¸èƒ½æ”¹å˜è¡¨è¾¾å¼ç±»å‹int *ip;reinterpret_cast&lt;char*&gt;(ip);//ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡ä¸Šçš„é‡æ–°è§£é‡Šï¼Œä¾èµ–äºæœºå™¨dynamic_cast;//å°†åŸºç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨å®‰å…¨åœ°è½¬æ¢åˆ°æ´¾ç”Ÿç±» ç¬¬äº”ç«  è¯­å¥throwè¡¨è¾¾å¼ï¼šç”¨throwæ ‡è¯†é‡åˆ°äº†æ— æ³•å¤„ç†çš„é—®é¢˜ï¼Œraiseäº†å¼‚å¸¸ã€‚ tryè¯­å¥å—ï¼šç”¨tryå¤„ç†å¼‚å¸¸ï¼Œä»¥tryå¼€å§‹ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªcatchå­å¥ç»“æŸã€‚æŠ›å‡ºçš„å¼‚å¸¸ä¼šè¢«catchå¤„ç†ã€‚ å¼‚å¸¸ç±»ï¼šç”¨äºåœ¨throwè¡¨è¾¾å¼å’Œcatchå­å¥ä¹‹é—´ä¼ é€’å¼‚å¸¸çš„å…·ä½“ä¿¡æ¯ã€‚ 1234567try{ statements;}catch(runtime_error err){ handle;}catch(exception-declaration){ handle;} å¼‚å¸¸ç±»ï¼š 12345678910exception;//å¸¸è§é—®é¢˜runtime_error;//åªæœ‰è¿è¡Œæ—¶æ‰èƒ½æ£€æµ‹å‡ºæ¥çš„é—®é¢˜range_error;//è¿è¡Œæ—¶é”™è¯¯ï¼šç»“æœè¶…å‡ºäº†æœ‰æ„ä¹‰çš„å€¼åŸŸèŒƒå›´overflow_error;//è®¡ç®—ä¸Šæº¢å‡ºunderflow_error;//è®¡ç®—ä¸‹æº¢å‡ºlogic_error;//é€»è¾‘é”™è¯¯domain_error;//å‚æ•°å¯¹åº”ç»“æœå€¼ä¸å­˜åœ¨invalid_argument;//æ— æ•ˆå‚æ•°length_error;//è¶…å‡ºé•¿åº¦out_of_range;//é€»è¾‘é”™è¯¯ è¶…å‡ºæœ‰æ•ˆèŒƒå›´ å¼‚å¸¸ç±»å‹æœ‰what()æˆå‘˜å‡½æ•°ï¼Œè¿”å›cé£æ ¼å­—ç¬¦ä¸²ï¼Œæä¾›æ–‡æœ¬ä¿¡æ¯ã€‚ ç¬¬å…­ç«  å‡½æ•°åˆ†ç¦»å¼ç¼–è¯‘ï¼šå°†.cppæ–‡ä»¶ç¼–è¯‘æˆ.oæ–‡ä»¶ï¼Œç„¶åå°†.oæ–‡ä»¶é“¾æ¥å‡ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚æœéœ€è¦æ›´æ”¹ï¼Œåˆ™é’ˆå¯¹æ›´æ”¹äº†çš„æ–‡ä»¶ç¼–è¯‘ä¸€ä»½.oæ–‡ä»¶å†é“¾æ¥å³å¯ã€‚ å¯ä»¥ç”¨å¼•ç”¨ä½œä¸ºå‚æ•°æ¥è¿”å›æ‰€éœ€è¦ä¿¡æ¯ã€‚ å°½é‡ä½¿ç”¨å¸¸å¼•ç”¨ã€‚ ä¸å…è®¸æ‹·è´æ•°ç»„ï¼Œæ•°ç»„ä½œä¸ºå½¢å‚ä¼šè½¬æ¢ä¸ºæŒ‡é’ˆã€‚ä½†å¯ä»¥ä»¥æ•°ç»„çš„å½¢å¼æ ‡è¯†å‚æ•°ã€‚ argcæ ‡è¯†æ•°ç»„ä¸­å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œargvè¡¨ç¤ºcé£æ ¼å­—ç¬¦ä¸²æ•°ç»„ã€‚ å¦‚æœå®å‚æ•°é‡ä½ç½®ä½†æ˜¯å…¨éƒ¨å®å‚ç±»å‹ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨initializerç±»å‹å½¢å‚ï¼Œå¦‚ä¸‹æ‰€ç¤º: 1234567891011void teststring(initializer_list&lt;string&gt; li){ for(const auto &amp;i:li){ cout&lt;&lt;i&lt;&lt;\" \"; } cout&lt;&lt;endl;}int main(){ string s1 = \"az\"; teststring({s1,s1,s1});//æ³¨æ„å¤§æ‹¬å·} çœç•¥ç¬¦å½¢å‚ä»¥åŠä½¿ç”¨: 123456789101112131415161718#include&lt;iostream&gt;#include&lt;string&gt;#include&lt;cstdarg&gt;using namespace std;void testNum(int count,int beforeNumber,...){ va_list arg; va_start(arg,beforeNumber);//å¯¹é½åˆ°çœç•¥å·å‰çš„å‚æ•° for(int i=0;i&lt;count;i++){ cout&lt;&lt;va_arg(arg,int)&lt;&lt;endl;//å‚æ•°ä¸ºva_listï¼Œå‚æ•°ç±»å‹ } va_end(arg);//é‡Šæ”¾va_list}int main(){ testNum(5,0,0,2,4,4,5);} ä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨æˆ–è€…æŒ‡é’ˆã€‚ è¿”å›å€¼ä¸ºå·¦å€¼çš„å‡½æ•°ï¼š 12345678910char &amp;getString(string&amp; s, int index){ return s[index];}int main(){ string s = \"123456\"; cout&lt;&lt;s&lt;&lt;endl; getString(s,3) = '5'; cout&lt;&lt;s&lt;&lt;endl;} æ³¨æ„å‚æ•°ä¸èƒ½ä¸ºå¸¸é‡å¼•ç”¨ï¼Œè¿”å›å€¼ä¹Ÿä¸èƒ½ä¸ºå¸¸é‡å¼•ç”¨ã€‚ returnå¯ä»¥ä¸ºå¤§æ‹¬å·æ‹¬èµ·æ¥çš„åˆ—è¡¨ï¼Œæ³¨æ„è¿”å›å€¼ç±»å‹è¦èƒ½åˆ—è¡¨åˆå§‹åŒ–ã€‚ mainå‡½æ•°ä¹Ÿæœ‰è¿”å›å€¼ï¼Œåœ¨&lt;cstdlib&gt;ä¸­æœ‰å®šä¹‰äº†ä¸¤ä¸ªå˜é‡ï¼šEXIT_FAILUREå’ŒEXIT_SUCCESSã€‚ å£°æ˜è¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š 1int (*func(parameter_list))[array_len]; c11å¯ä»¥ä½¿ç”¨å°¾ç½®è¿”å›ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1auto func(int i) -&gt; int(*)[10]; è¿˜å¯ä»¥ç”¨decltypeæ¥å£°æ˜è¿”å›ç±»å‹ï¼š 123456789int odd[] = {1,3,5,7,9};int even[] = {2,4,6,8,10};decltype(odd) *arrPtr(int i){ return (i%2)?&amp;odd:&amp;even;}int main(){ auto i = arrPtr(3); cout&lt;&lt;i[0][3]&lt;&lt;endl;// 7} å¼•ç”¨å’Œå¸¸å¼•ç”¨æ˜¯ä¸åŒçš„å‚æ•°ï¼Œå¯ä»¥é‡è½½å‡½æ•°ã€‚ æœ‰ä¸€äº›ç¼–è¯‘å™¨å®šä¹‰çš„å¸¸é‡å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨ï¼š 12345cout&lt;&lt;__func__&lt;&lt;endl;cout&lt;&lt;__FILE__&lt;&lt;endl;cout&lt;&lt;__LINE__&lt;&lt;endl;cout&lt;&lt;__TIME__&lt;&lt;endl;cout&lt;&lt;__DATE__&lt;&lt;endl; å¯¹äºå‡½æ•°æŒ‡é’ˆè€Œè¨€ï¼Œä»¥ä¸‹ä¸¤ç§ç­‰ä»·ï¼š 12p = func;p = &amp;func; è¿”å›å€¼å¯ä»¥ä¸ºå‡½æ•°æŒ‡é’ˆï¼Œå¯ä»¥é€šè¿‡usingæ¥å¸®åŠ©å®šä¹‰ã€‚ ç¬¬ä¸ƒç«  ç±»å¯ä»¥åœ¨å˜é‡å‰åŠ mutableï¼Œè¿™æ ·å³ä½¿æ˜¯constæˆå‘˜å‡½æ•°ä¹Ÿèƒ½ä¿®æ”¹å®ƒã€‚ è¿”å›*thisæ—¶å€™å¦‚æœä¸è¿”å›å¼•ç”¨ï¼Œåˆ™ä¼šæ‹·è´ã€‚ ç”¨èµ‹å€¼ç¬¦å·å½“æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œä¸èƒ½èµ‹å€¼ç»™å¸¸é‡å’Œå¼•ç”¨ã€‚ åˆå§‹åŒ–åˆ—è¡¨é¡ºåºä¸ç¡®å®šã€‚ c11æœ‰å§”æ‰˜æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨è‡ªå·±çš„å…¶ä»–æ„é€ å‡½æ•°æ¥æ„é€ ã€‚ å¯ä»¥åŠ explicitæ¥é˜²æ­¢éšå¼è½¬æ¢ã€‚explicitåªåº”è¯¥å‡ºç°åœ¨å£°æ˜ï¼Œå‡ºç°ä¸€æ¬¡å°±è¡Œã€‚ èšåˆç±»ï¼šéƒ½æ˜¯publicï¼Œæ²¡æœ‰æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰ç±»å†…åˆå§‹å€¼ï¼Œå¹¶ä¸”æ²¡æœ‰virtualå‡½æ•°ï¼Œå¯ä»¥ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–ã€‚ å½“ç±»æ‰€æœ‰æ•°æ®æˆå‘˜éƒ½æ˜¯å­—é¢å€¼ï¼Œä¸”åŒ…å«constexpræ„é€ å‡½æ•°ï¼Œç±»å†…åˆå§‹å€¼æ²¡æœ‰æˆ–è€…æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œè‡ªå¸¦ææ„å‡½æ•°çš„å¯ä»¥æˆä¸ºå­—é¢å€¼å¸¸é‡ç±»ã€‚ ç¬¬å…«ç«  IOåº“IOåº“æœ‰ä¸‰ç§ï¼š 123456#include &lt;iostream&gt;//istream wistreamè¯» ostream wostreamå†™ iostream wiostreamè¯»å†™#include &lt;fstream&gt;//æ–‡ä»¶#include &lt;sstream&gt;//å­—ç¬¦ä¸² IOå¯¹è±¡æ²¡æœ‰æ‹·è´å’Œèµ‹å€¼ã€‚ ioåº“æœ‰æ¡ä»¶çŠ¶æ€ï¼Œå¦‚å´©æºƒï¼Œæ“ä½œå¤±è´¥ï¼Œeofç­‰ã€‚ ç¨‹åºå´©æºƒåˆ™ç¼“å†²åŒºä¸ä¼šåˆ·æ–°ã€‚ æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªistreamå…³è”åˆ°ostreamä¸Šï¼Œå¦‚é»˜è®¤cinæ€»å…³è”åˆ°coutä¸Šã€‚è¿™æ ·cinæ—¶å€™ä¼šåˆ·æ–°coutç¼“å†²åŒºã€‚ æ–‡ä»¶æµå¯¹è±¡æ—¶å€™å…è®¸æ¥æ”¶æ–‡ä»¶åå­—ç¬¦ä¸²ä¸ºæ„é€ å‚æ•°ï¼Œåˆ›å»ºifstreamå¹¶æ‰“å¼€è¯¥æ–‡ä»¶ã€‚ å¦‚æœå®šä¹‰äº†ç©ºæ–‡ä»¶æµå¯¹è±¡ï¼Œå¯ä»¥éšåç”¨openå…³è”åˆ°æ–‡ä»¶æµã€‚ æµå­˜åœ¨æ–‡ä»¶æ¨¡å¼ï¼Œå¦‚appæ¯æ¬¡å†™ä¹‹å‰å‡å®šä½åˆ°æ–‡ä»¶æœ«å°¾ç­‰ã€‚ ç¬¬ä¹ç«  é¡ºåºå®¹å™¨è¿­ä»£å™¨èŒƒå›´æ˜¯å·¦é—­åˆå³å¼€ã€‚ æ ‡å‡†åº“arrayå…·æœ‰å›ºå®šå¤§å°ã€‚ å¦‚æœå®¹å™¨æ˜¯vectoræˆ–stringï¼Œåˆ™å­˜å‚¨ç©ºé—´é‡æ–°åˆ†é…åæ‰€æœ‰è¿­ä»£å™¨ï¼ŒæŒ‡é’ˆï¼Œå¼•ç”¨éƒ½å¤±æ•ˆã€‚æ²¡é‡æ–°åˆ†é…åˆ™æŒ‡å‘ä¹‹åçš„è¿­ä»£å™¨ï¼ŒæŒ‡é’ˆå¼•ç”¨ä¼šå¤±æ•ˆã€‚ dequeæ’å…¥é¦–å°¾ä¹‹å¤–çš„ä½ç½®éƒ½ä¼šå¤±æ•ˆã€‚å¦‚æœé¦–å°¾ï¼Œåˆ™åªæœ‰è¿­ä»£å™¨ä¼šå¤±æ•ˆã€‚ å¯¹äºlistå’Œforward_listï¼Œæ·»åŠ å…ƒç´ éƒ½æœ‰æ•ˆã€‚ åˆ é™¤å…ƒç´ åï¼Œlistå’Œforward_listå…¶ä»–ä½ç½®è¿­ä»£å™¨æœ‰æ•ˆ,dequeåˆ™é¦–å°¾ä¹‹å¤–å…¨å¤±æ•ˆï¼Œåˆ å°¾å·´ä¼šå°¾åè¿­ä»£å™¨å¤±æ•ˆï¼Œå…¶ä»–ä¸å½±å“ã€‚åˆ é™¤é¦–åˆ™éƒ½ä¸å½±å“ã€‚å¯¹äºvectoræˆ–stringåˆ™ä¹‹å‰çš„æœ‰æ•ˆã€‚ æ¯æ¬¡æ’å…¥åé‡æ–°è°ƒç”¨end()æ¥ä¾¿äºä¸å¤±æ•ˆã€‚ stringæœ‰find rfind find_first_of find_last_of find_first_not_of find_last_not_ofæœç´¢æ“ä½œã€‚ stack queue priority_queueå±äºé€‚é…å™¨ï¼Œå¯ä»¥æ¥æ”¶å·²æœ‰çš„å®¹å™¨ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ›´æ”¹å®¹å™¨ç±»å‹ã€‚ ç¬¬åç«  æ³›å‹ç®—æ³•è¿­ä»£å™¨ä½¿å¾—ç®—æ³•ä¸ä¾èµ–äºå®¹å™¨ï¼Œä½†ç®—æ³•ä¾èµ–äºå…ƒç´ ç±»å‹æ“ä½œã€‚æ³›å‹ç®—æ³•åªè¿è¡Œäºè¿­ä»£å™¨ä¹‹ä¸Šï¼Œä¸ä¼šæ”¹å˜åº•å±‚å®¹å™¨å¤§å°ã€‚ ç®—æ³•åªè¯»ä¸æ”¹å˜å…ƒç´ ï¼Œå¦‚find,count,accumulateç­‰ã€‚ equalæ¥æ”¶ä¸‰ä¸ªè¿­ä»£å™¨ï¼Œç¬¬ä¸€ä¸ªåºåˆ—çš„å¤´ï¼Œç¬¬ä¸€ä¸ªåºåˆ—çš„å°¾ï¼Œç¬¬äºŒä¸ªåºåˆ—çš„å¤´ï¼ˆå› ä¸ºå…ƒç´ æ•°é‡è‡³å°‘è¦ä¸€æ ·å¤šï¼‰ã€‚ fillå¯ä»¥å†™å…¥å…ƒç´  ï¼Œä½†é¦–å…ˆè¦åˆ›å»ºå…ƒç´ ã€‚ uniqueè¿”å›è¿­ä»£å™¨ï¼Œä¸é‡å¤çš„åœ¨å‰é¢ï¼Œé‡å¤çš„åœ¨åé¢ã€‚ç®—æ³•ä¸å¢åŠ åˆ é™¤ï¼Œå› æ­¤è¦åœ¨ä¹‹åeraseã€‚ æ’å…¥è¿­ä»£å™¨ï¼šå¯ä»¥ç”¨æ¥æ’å…¥å…ƒç´ ã€‚ æµè¿­ä»£å™¨ï¼šç»‘å®šå­å•Šè¾“å…¥è¾“å‡ºæµä¸Šï¼Œå¯ä»¥éå†å…³è”çš„IOæµã€‚ ç§»åŠ¨è¿­ä»£å™¨ï¼šä¸æ˜¯æ‹·è´è€Œæ˜¯ç§»åŠ¨å…ƒç´ ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/c-primer%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"title":"å›¾è§£HTTPè¯»ä¹¦ç¬”è®°","text":"æœ¬æ–‡ä¸»è¦æ˜¯çœ‹å›¾è§£HTTPä¹¦çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚ ç¬¬ä¸€ç«  Webä¸ç½‘è·¯åŸºç¡€URIï¼šç”±æŸä¸ªåè®®æ–¹æ¡ˆè¡¨ç¤ºçš„èµ„æºçš„å®šä½æ ‡è¯†ç¬¦ï¼Œåè®®æ–¹æ¡ˆå³http ftpç­‰ã€‚ URLè¡¨ç¤ºèµ„æºçš„åœ°ç‚¹ï¼ŒURIè¡¨ç¤ºæŸä¸€äº’è”ç½‘èµ„æºï¼ŒURLæ˜¯URIçš„å­é›†ã€‚ URIæ ¼å¼ï¼š http://user:pass@www.example.jp:80/dir/index.htm?uid=1#ch1 http://ä¸ºåè®®æ–¹æ¡ˆåï¼Œå¦‚telnetï¼Œuser:passä¸ºç™»å½•ä¿¡æ¯ï¼Œå¯é€‰é¡¹ï¼Œå¦‚ç”¨æˆ·åå¯†ç ï¼Œwww.example.jpä¸ºæœåŠ¡å™¨åœ°å€ï¼Œ/dir/index.htmä¸ºå¸¦å±‚æ¬¡çš„æ–‡ä»¶è·¯å¾„ï¼Œä¸UNIXæ–‡ä»¶ç³»ç»Ÿç±»ä¼¼ï¼Œuid=1ä¸ºæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œch1ä¸ºç‰‡æ®µè¡¨ç¤ºç¬¦ï¼Œè¡¨ç¤ºå·²è·å–çš„èµ„æºä¸­çš„å­èµ„æºã€‚ ç¬¬äºŒç«  ç®€å•HTTPåè®®HTTPè¯·æ±‚æŠ¥æ–‡ç¬¬ä¸€è¡Œï¼šæ–¹æ³• URI ç‰ˆæœ¬å· å“åº”æŠ¥æ–‡ç¬¬ä¸€è¡Œï¼šç‰ˆæœ¬å· çŠ¶æ€ç  åŸå› çŸ­è¯­ å¦‚200 OK HTTPä¸ä¿å­˜çŠ¶æ€ï¼Œä½¿ç”¨URIå®šä½èµ„æºã€‚ GETç”¨äºè¯·æ±‚è®¿é—®å·²ç»è¢«URIè¯†åˆ«çš„èµ„æºã€‚ POSTä¼ è¾“å®ä½“ä¸»ä½“ã€‚ PUTä¼ è¾“æ–‡ä»¶ï¼Œä¿å­˜åˆ°URIæŒ‡å®šçš„ä½ç½®ï¼Œä¸€èˆ¬ç½‘ç«™ä¸é€‚ç”¨è¯¥æ–¹æ³•ã€‚ HEADä¸GETä¸€æ ·ï¼Œä½†ä¸åæ‚”æŠ¥æ–‡ä¸»ä½“ã€‚ DELETEåˆ é™¤ï¼ŒPUTç›¸åã€‚ OPTIONæŸ¥çœ‹æ”¯æŒçš„æ–¹æ³•ã€‚ TRACEè®©WebæœåŠ¡å™¨ä¹‹å‰çš„è¯·æ±‚é€šä¿¡ç¯å›ç»™å®¢æˆ·ç«¯ã€‚ CONNECTè¦å¯ç”¨ä½¿ç”¨éš§é“å®ç°TCPé€šä¿¡ï¼Œä¸»è¦ä½¿ç”¨SSLå’ŒTLSåŠ å¯†åä¼ è¾“ã€‚ HTTP1.1ç”±æŒä¹…è¿æ¥ï¼Œåªè¦ä»»æ„ä¸€ç«¯æ²¡æœ‰æ˜ç¡®æ–­å¼€ï¼Œåˆ™ä¿æŒè¿æ¥ã€‚å‡å°‘é‡å¤è¿æ¥çš„å¼€é”€ã€‚ ç®¡çº¿åŒ–ï¼šå¹¶è¡Œå‘é€å¤šä¸ªè¯·æ±‚ï¼Œæ¥æ”¶å¤šä¸ªå“åº”ã€‚ HTTPæ˜¯æ— çŠ¶æ€åè®®ï¼Œä¿å­˜çŠ¶æ€å¯ä»¥ä½¿ç”¨CookieæŠ€æœ¯ï¼ŒæœåŠ¡ç«¯å‘é€Set-Cookieå­—æ®µæ¥é€šçŸ¥å®¢æˆ·ç«¯ä¿å­˜Cookieã€‚ ç¬¬ä¸‰ç«  HTTPæŠ¥æ–‡é‡Œé¢çš„HTTPä¿¡æ¯ç©ºè¡ŒCR+LFï¼Œç”¨äºåŒºåˆ†é¦–éƒ¨å’Œä¸»ä½“ã€‚ å®ä½“å¯ä»¥ç»è¿‡gzipç­‰ç¼–ç å‹ç¼©å†ä¼ é€ã€‚ 1.1æœ‰ä¼ è¾“ç¼–ç çš„æœºåˆ¶ï¼Œåªå®šä¹‰ä½œç”¨äºåˆ†å—ä¼ è¾“ã€‚ multipart/form-data åœ¨Webè¡¨å•æ–‡ä»¶ä¸Šä¼ æ—¶å€™ä½¿ç”¨ã€‚ multipart/byteranges çŠ¶æ€ç 206 å“åº”æŠ¥æ–‡åŒ…å«å¤šä¸ªèŒƒå›´çš„å†…å®¹çš„æ—¶å€™ä½¿ç”¨ã€‚ å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆæ—¶å€™ï¼Œéœ€è¦åœ¨é¦–éƒ¨å­—æ®µåŠ ä¸Šcontent-type è·å–å†…å®¹å¯ä»¥åªè¯·æ±‚ä¸€éƒ¨åˆ†ã€‚ Accept Accept-Charsetç­‰ç”¨äºåå•†è¿”å›æœ€åˆé€‚çš„å†…å®¹ï¼Œå¦‚è‹±æ–‡ä¸­æ–‡é¡µé¢ã€‚ å†…å®¹åå•†æœ‰æœåŠ¡å™¨é©±åŠ¨åå•†ï¼ˆæœåŠ¡å™¨æ ¹æ®å‘é€çš„ä¿¡æ¯åˆ¤å®šåå•†ï¼‰ï¼Œå®¢æˆ·ç«¯é©±åŠ¨åå•†ï¼ˆJSè‡ªåŠ¨é€‰æ‹©ï¼‰ï¼Œé€æ˜åå•†ï¼ˆå„è‡ªè¿›è¡Œåå•†ï¼‰ã€‚ ç¬¬å››ç«  çŠ¶æ€ç 1XXï¼šä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæ­£åœ¨å¤„ç†ã€‚ 2XXï¼šæˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºæ­£å¸¸å¤„ç†å®Œæ¯•ã€‚ 3XXï¼šé‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºéœ€è¦è¿›è¡Œè…¹ç”²è‰é”™æ¥å®Œæˆè¯·æ±‚ã€‚ 4XXï¼šå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚ 5XXï¼šæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ã€‚ åªè¦éµå¾ªå®šå®šä¹‰ï¼Œè‡ªè¡Œåˆ›å»ºä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚ 200 OKï¼Œè¡¨ç¤ºæ­£å¸¸å¤„ç†ã€‚ 204 No Contentï¼Œè¡¨ç¤ºå¤„ç†æˆåŠŸï¼Œä½†æ²¡æœ‰èµ„æºå¯è¿”å›ã€‚ 206 Partial Contentï¼Œè¡¨ç¤ºå¯¹èµ„æºæŸä¸€éƒ¨åˆ†çš„è¯·æ±‚å¤„ç†æˆåŠŸã€‚ 301 Moved Permentlyï¼Œæ°¸ä¹…é‡å®šå‘ï¼ŒURIå·²ç»æ›´æ–°ã€‚ 302 Foundï¼Œä¸´æ—¶é‡å®šå‘ï¼Œèµ„æºå¯¹åº”çš„URIå°†æ¥å¯èƒ½è¯¥ç™¾å¹´ï¼Œä¹¦ç­¾ä¸ä¼šå˜ã€‚ 303 See Otherï¼Œæ˜ç¡®åº”å½“é‡‡ç”¨GETï¼Œ301ï¼Œ302ç¦æ­¢å°†POSTå˜æˆGETã€‚ 304 Not Modifiedï¼Œèµ„æºæ‰¾åˆ°ï¼Œä½†æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è¯·æ±‚ã€‚ 307 Temporary Redirectï¼Œå’Œ302ç›¸åŒã€‚ 400 Bad Requestï¼Œè¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡æœ‰è¯­æ³•é”™è¯¯ã€‚ 401 Unauthorizedï¼Œè¡¨ç¤ºéœ€è¦æœ‰è®¤è¯ä¿¡æ¯ã€‚ 403 Forbiddenï¼Œæ˜ç¡®æ‹’ç»è®¿é—®ã€‚ 404 Not Foundï¼Œè¡¨ç¤ºæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼Œä¹Ÿå¯ä»¥æ‹’ç»è¯·æ±‚ã€‚ 500 Internal Server Errorï¼Œæ‰§è¡Œè¯·æ±‚æ—¶å€™å‘ç”Ÿäº†é”™è¯¯ã€‚ 503 Service Unavailableï¼Œè¶…è´Ÿè½½æˆ–åœæœºç»´æŠ¤ã€‚ ç¬¬äº”ç«  ä¸HTTPåä½œçš„WebæœåŠ¡å™¨å•æœåŠ¡å™¨å¯ä»¥ç”¨è™šæ‹Ÿä¸»æœºå‡æƒ³æœ‰å¤šå°æœåŠ¡å™¨ï¼Œå‘é€HTTPè¯·æ±‚æ—¶å€™å¿…é¡»åœ¨é¦–éƒ¨å®Œæ•´æŒ‡å®šä¸»æœºåæˆ–åŸŸåçš„URIã€‚ ä»£ç†ï¼šæœ‰è½¬å‘åŠŸèƒ½çš„åº”ç”¨ç¨‹åºã€‚ ç½‘å…³ï¼šè½¬å‘å…¶ä»–æœåŠ¡å™¨é€šä¿¡æ•°æ®çš„æœåŠ¡å™¨ï¼Œå°±åƒè‡ªå·±æ‹¥æœ‰èµ„æºçš„æœåŠ¡å™¨ä¸€æ ·å¤„ç†ã€‚ éš§é“ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¸­è½¬ã€‚ ä»£ç†æœåŠ¡å™¨ä¸æ”¹å˜è¯·æ±‚URï¼Œä¼šå†™å…¥Viaä¿¡æ¯ã€‚ ä»£ç†æœåŠ¡å™¨åˆ†æ˜¯å¦ä½¿ç”¨ç¼“å­˜å’Œæ˜¯å¦ä¿®æ”¹æŠ¥æ–‡ï¼Œç¼“å­˜ä»£ç†ä¿å­˜ç¼“å­˜ï¼Œé€æ˜ä»£ç†ä¸åšåŠ å·¥ã€‚ ç½‘å…³å¯ä»¥å°†HTTPè¯·æ±‚è½¬åŒ–ä¸ºå…¶ä»–é€šä¿¡åè®®ï¼Œæé«˜å®‰å…¨ã€‚ éš§é“ä¸ä¼šè§£æHTTPè¯·æ±‚ï¼Œä¿æŒåŸæ ·ã€‚ ç¼“å­˜æœåŠ¡å™¨æœ‰ç¼“å­˜æœ‰æ•ˆæœŸï¼Œåˆ°æœŸä¼šè¯·æ±‚æ–°èµ„æºã€‚ ç¼“å­˜å¯ä»¥å­˜åœ¨æµè§ˆå™¨ï¼Œç§°ä¸ºä¸´æ—¶ç½‘ç»œæ–‡ä»¶ã€‚ ç¬¬å…­ç«  HTTPé¦–éƒ¨Content-Typeè¡¨ç¤ºå¯¹è±¡ç±»å‹ï¼Œæ¯”å¦‚text/html é¦–éƒ¨å­—æ®µåˆ†ä¸ºé€šç”¨ï¼Œè¯·æ±‚ï¼Œå“åº”ï¼Œå®ä½“é¦–éƒ¨å­—æ®µã€‚æœ€åé’ˆå¯¹æŠ¥æ–‡å®ä½“éƒ¨åˆ†ä½¿ç”¨çš„é¦–éƒ¨ã€‚ Cache-Controlï¼Œæ§åˆ¶ç¼“å­˜è¡Œä¸ºï¼Œæœ‰publicæ‰€æœ‰äººéƒ½èƒ½cacheï¼Œprivateåªç»™é‚£ä¸ªäººcacheã€‚ no-cacheé˜²æ­¢ä»ç¼“å­˜ä¸­è¿”å›è¿‡æœŸèµ„æºã€‚å¯ä»¥æŒ‡å®šä½ç½®ï¼Œé‚£ä¸ªä½ç½®ä¸è¦cacheã€‚ no-storeè¡¨ç¤ºè¯·æ±‚å“åº”åŒ…å«æœºå¯†ä¿¡æ¯ï¼Œä¸è¿›è¡Œç¼“å­˜ã€‚ ç¬¬ä¸ƒç«  HTTPShttp+åŠ å¯†+è®¤è¯+å®Œæ•´æ€§ä¿æŠ¤=https SSLå±‚ä½äºhttpå±‚ä¸tcpå±‚ä¸­é—´ï¼Œç‹¬ç«‹äºHTTPï¼ŒSMTPï¼ŒTelnetéƒ½èƒ½ç”¨ã€‚ é€šä¿¡è¿‡ç¨‹ï¼š å®¢æˆ·ç«¯å‘é€client helloå¼€å§‹sslï¼ŒåŒ…å«sslç‰ˆæœ¬ï¼ŒåŠ å¯†ç»„ä»¶ï¼ˆåŠ å¯†ç®—æ³•å¯†é’¥é•¿åº¦ï¼‰åˆ—è¡¨ã€‚ æœåŠ¡ç«¯å‘é€server helloï¼ŒåŒ…å«sslç‰ˆæœ¬ä¸åŠ å¯†ç»„ä»¶åˆ—è¡¨ã€‚ æœåŠ¡ç«¯å‘é€certificateæŠ¥æ–‡ï¼Œæœ‰å…¬é’¥æ•´æ•°ã€‚ æœåŠ¡ç«¯å‘é€server hello doneï¼Œæ¡æ‰‹åå•†ç»“æŸã€‚ å®¢æˆ·ç«¯ç”¨client key exchangeå›åº”ï¼ŒåŒ…å«éšæœºå¯†ç ä¸²ï¼Œç”¨å…¬å¼€å¯†é’¥åŠ å¯†ã€‚ å®¢æˆ·ç«¯å‘é€change cipher specæŠ¥æ–‡ï¼Œæç¤ºæœåŠ¡å™¨ï¼Œä¹‹åé€šä¿¡ä¼šç”¨ä¹‹å‰çš„éšæœºä¸²åŠ å¯† å®¢æˆ·ç«¯å‘é€finishedï¼ŒåŒ…å«å…¨éƒ¨æŠ¥æ–‡æ•´ä½“æ ¡éªŒå€¼ï¼Œæ­£ç¡®è§£å¯†å³æˆåŠŸã€‚ æœåŠ¡ç«¯å‘é€change cipher specã€‚ æœåŠ¡ç«¯å‘é€finishedã€‚ äº¤æ¢å®Œæ¯•åï¼Œå¼€å§‹httpã€‚ åº”ç”¨å±‚å‘é€æ•°æ®ä¼šå¸¦ä¸ŠæŠ¥æ–‡æ‘˜è¦ï¼Œä¿è¯å®Œæ•´æ€§ã€‚ æ•æ„Ÿæ•°æ®æ‰ä½¿ç”¨httpsé€šä¿¡ï¼Œéœ€è¦èŠ‚çœå¼€é”€ï¼Œè¯ä¹¦è´¹ç”¨ã€‚ ç¬¬å…«ç«  ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯sessionç®¡ç†ä¸cookieåº”ç”¨ å°†ç”¨æˆ·idï¼Œå¯†ç å‘ç»™æœåŠ¡å™¨ã€‚ æœåŠ¡å™¨å‘æ”¾sessionIDï¼Œè®°å½•çŠ¶æ€ã€‚ å®¢æˆ·å‘é€å¸¦sessionIDçš„cookieè¯·æ±‚ã€‚ éªŒè¯SessionIDåˆ¤å®šå¯¹æ–¹æ˜¯å¦ä¸ºçœŸå®ç”¨æˆ·ã€‚ ç¬¬ä¹ç«  åŸºäºHTTPçš„åŠŸèƒ½è¿½åŠ åè®®Ajaxä½¿ç”¨è„šæœ¬è¿›è¡Œé€šä¿¡ï¼Œåªæ›´æ–°å±€éƒ¨é¡µé¢ã€‚ Cometä¼šæŒ‚èµ·å“åº”ï¼Œç›´åˆ°æœåŠ¡å™¨æ›´æ–°ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E5%9B%BE%E8%A7%A3http%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"æªç‚® ç—…èŒä¸é’¢é“è¯»ä¹¦ç¬”è®°","text":"è®°å½•ä¸€äº›æªç—…é’¢é‡Œé¢çš„äº‹ä¸è§‚ç‚¹ã€‚ å‰è¨€å·´å¸ƒäºšæ–°å‡ å†…äºšï¼šæ¾³å¤§åˆ©äºšåŒ—éƒ¨ï¼Œå°åº¦å°¼è¥¿äºšä¸œéƒ¨ï¼Œä¸å°å°¼æ¥å£¤ï¼Œæ›¾ç»æ˜¯è”åˆå›½æ‰˜ç®¡åœ°ã€‚ è§‚ç‚¹ï¼š ä¸åŒæ°‘æ—é€šè¿‡å¾æœï¼Œæµè¡Œç—…å’Œç­ç»ç§æ—çš„å¤§å± æ€æ¥å½¢æˆä¸–ç•Œã€‚ ç†è§£å¤§å± æ€ä¸æ˜¯ä¸ºäº†è¾©æŠ¤ï¼Œè€Œæ˜¯ä¸ºäº†äº†è§£å› æœé“¾ï¼Œä»è€Œæ‰“ç ´ã€‚ è®¤çŸ¥æµ‹è¯•å¾€å¾€æµ‹é‡æ–‡åŒ–å­¦ä¹ ï¼Œè€Œä¸æ˜¯æ™ºåŠ›ã€‚ å¯¹äºæ–°å‡ å†…äºšäººï¼Œé•¿æœŸç”Ÿæ´»åœ¨äººå£ç¨€å°‘ï¼Œè°‹æ€ï¼Œéƒ¨æ—æˆ˜äº‰ï¼Œæ™ºåŠ›çš„ä¼˜åŠ¿æ›´æœ‰å¯èƒ½é—ä¼ ä¸‹æ¥ï¼Œåè€Œæ˜¯æ¬§æ´²çš„æ³•åˆ¶ï¼Œè­¦å¯Ÿï¼Œäººå£ç¨ å¯†çš„ç¤¾ä¼šï¼Œä½¿å¾—ä¼ æŸ“ç—…æˆä¸ºäº†ä¸»è¦æ­»å› ã€‚ æ¬§ç¾å„¿ç«¥æ¥æ”¶å¤§é‡ç”µè§†ï¼Œå¹¿æ’­ï¼Œç”µå½±çš„å¨±ä¹ï¼Œè€Œæ–°å‡ å†…äºšäººå¾€å¾€æ¥å—ç§¯æçš„æ´»åŠ¨ï¼Œä¾‹å¦‚è°ˆè¯å’Œæ¸¸æˆã€‚ åŒ—æ¬§æ°‘æ—å¯¹æ¬§äºšå¤§é™†æ–‡æ˜æ²¡æœ‰é‡è¦çš„è´¡çŒ®ï¼Œè€Œæ˜¯æ¥æ”¶æ¬§äºšå¤§é™†å‘å±•çš„å…ˆè¿›ä¸œè¥¿ã€‚ å¤æ‚çš„çŒæº‰ç³»ç»Ÿå¾€å¾€è‡ªä¸­å¤®é›†æƒä¹‹åæ‰åˆ°æ¥ã€‚ ç¬¬ä¸€éƒ¨åˆ† ä»ä¼Šç”¸å›­åˆ°å¡å“ˆé©¬å¡ç¬¬ä¸€ç«  èµ°ä¸Šèµ·è·‘çº¿è§‚ç‚¹ï¼š å¯¹æ¾³å¤§åˆ©äºšæ–°å‡ å†…äºšçš„å æ—æ˜¯é‡è¦äº‹ä»¶ï¼Œä»äºšæ´²å¤§é™†åˆ°æ¾³å¤§åˆ©äºšè‡³å°‘è¦æ¸¡è¿‡8ä¸ªæµ·å³¡ï¼Œæœ€å®½çš„ä¸€ä¸ªè‡³å°‘50è‹±é‡Œå®½ï¼Œéš”æµ·æ— æ³•ç›¸æœ›ï¼Œéœ€è¦æ°´è¿å·¥å…·æ‰èƒ½å®ç°ã€‚ å¯¹æ¾³å¤§åˆ©äºšç§»æ°‘ä¹Ÿæ„å‘³ç€äººç±»ç¬¬ä¸€æ¬¡å¤§è§„æ¨¡ç­ç»å¤§å‹å“ºä¹³åŠ¨ç‰©ï¼Œåœ¨äººç±»åˆ°è¾¾åå…¨éƒ¨æ¶ˆå¤±äº†ã€‚ åŒ—ç¾ä¹Ÿæ›¾ç»æœ‰å¤§å‹å“ºä¹³åŠ¨ç‰©ï¼Œä½†ç°åœ¨å¤šæ•°å¤§å‹å“ºä¹³åŠ¨ç‰©ä¹Ÿç­ç»äº†ã€‚ æ¸¡è¿‡ç™½ä»¤æµ·å³¡ä¹Ÿæ˜¯é‡è¦äº‹ä»¶ï¼Œè¥¿ä¼¯åˆ©äºšç»ˆæ—¥ä¸¥å¯’ï¼Œç™½ä»¤æµ·å³¡æ›¾ç»æœ‰é™†æ¡¥ï¼Œä½†ä¹Ÿéœ€è¦å¾¡å¯’æŠ€æœ¯ã€‚ å·´è¥¿ä½©å¾·ç½—å¼—è¾¾æ‹‰æ´ç©´å£ç”»ä¸‹é¢æœ‰ç²—ç³™çŸ³å™¨ï¼Œç±»ä¼¼ç‚‰ç¶é‡Œçš„æœ¨ç‚­ç”¨ç¢³14æµ‹å®šä¸º35000å¹´å‰ï¼Œä½†å¯èƒ½çŸ³å™¨æ˜¯ç”±æ‚¬å´–æ’å‡»ï¼Œæœ¨ç‚­æ˜¯ç”±æ£®æ—ç«ç¾ã€‚ æ¯›åˆ©äººç¥–å…ˆåˆ°è¾¾æ–°è¥¿å…°ä¹‹åï¼ŒèŠ±äº†å‡ ç™¾å¹´å‘ç°äº†çŸ³æï¼Œç­ç»äº†æé¸Ÿï¼Œå½¢æˆäº†ç¤¾ä¼šã€‚ ç¬¬äºŒç«  å†å²çš„è‡ªç„¶å®éªŒã€‚æŸ¥å¡”å§†ç¾¤å²›ï¼šæ–°è¥¿å…°ä»¥ä¸œ500è‹±é‡Œã€‚ è«é‡Œå¥¥é‡Œäººï¼šåŸä½æ°‘ã€‚ äº‹ä»¶ï¼š 1835å¹´ï¼Œè¿‘900æ¯›åˆ©äººå…¥ä¾µäº†æŸ¥å¡”å§†ç¾¤å²›ï¼Œè«é‡Œå¥¥é‡Œäººå‡†å¤‡æè®®å’Œå¹³å…±äº«èµ„æºï¼Œä½†æ¯›åˆ©äººå·²ç»å…¨é¢è¿›æ”»ï¼Œå°†äººå˜æˆå¥´éš¶ï¼Œæ€æ­»å¹¶ä¸”ç…®äººã€‚ è«é‡Œå¥¥é‡Œäººä¸ä¸–éš”ç»ï¼Œç‹©çŒä¸ºç”Ÿï¼ŒåªæŒæ¡ç®€å•çš„æŠ€æœ¯å’Œæ­¦å™¨ï¼Œç»´æŒç€å°‘çš„äººå£æ•°é‡ï¼Œå½¼æ­¤å’Œç¦ç›¸å¤„ï¼Œæ”¾å¼ƒæˆ˜äº‰ï¼Œç”šè‡³é˜‰å‰²ç”·å©´å‡å°‘äººå£è¿‡å‰©çš„æ½œåœ¨å†²çªã€‚ æ¯›åˆ©äººåˆ™æ˜¯äººå£ç¨ å¯†çš„å†œæ°‘æ—ç¾¤ï¼Œä»äº‹æ®‹é…·çš„æˆ˜äº‰ï¼Œæœ‰ç€æ­¦å™¨ä¸è£…å¤‡ï¼Œå†œä¸šå…»æ´»äº†æ‰‹è‰ºäººï¼Œé¦–é¢†ï¼Œå£«å…µï¼Œä½¿å¾—åˆ¶ä½œå·¥å…·æ¥æ‰“ä»—ï¼Œè‰ºæœ¯åˆ›ä½œï¼Œå†œä¸šã€‚ä»–ä»¬èƒ½ç»„ç»‡åŠ³åŠ¨åŠ›å»ºè®¾å¤§å‹çŒæº‰ç³»ç»Ÿï¼Œå½¢æˆäº†é˜¶çº§ï¼Œé˜¶çº§å†…éƒ¨é€šå©šï¼Œåˆ’åˆ†ä¸ºéƒ¨è½å•ä½å’Œåœ°åŒºï¼Œæœ€åå½¢æˆåŸå‹å¸å›½ï¼Œå¸¸å¤‡å†›äº‹è®¾æ–½ã€‚ å…­ç§ç¯å¢ƒå¯å˜å› ç´ å½±å“äº†å·®å¼‚ï¼šå²›å±¿æ°”å€™ï¼Œåœ°å€ç±»å‹ï¼Œæµ·æ´‹èµ„æºï¼Œé¢ç§¯ï¼Œåœ°å½¢çš„ç ´ç¢å’Œéš”ç¦»ç¨‹åº¦ã€‚ å²›å±¿æ°”å€™ï¼šæ³¢åˆ©å°¼è¥¿äºšä»çƒ­å¸¦åˆ†å¸ƒåˆ°äºšçƒ­å¸¦ï¼Œåˆ°æ–°è¥¿å…°çš„ä¸å†·ä¸çƒ­ã€‚å¤å¨å¤·ç¾¤å²›æœ‰ç€é«˜å±±ï¼Œé›¨é‡å› åœ°è€Œå¼‚ï¼Œæœ‰äº›åœ°æ–¹åªèƒ½å‹‰å¼ºå‘å±•å†œä¸šã€‚ åœ°å€ç±»å‹ï¼šç¯çŠ¶çŠç‘šå²›ï¼Œéš†èµ·çš„çŸ³ç°å²©ï¼Œç«å±±å²›ï¼Œé™†åœ°ç¢å—ï¼Œä»¥åŠç±»å‹çš„æ··åˆã€‚æœ‰äº›å²›å±¿å®Œå…¨æ²¡æœ‰çŸ³å¤´ï¼Œä¹Ÿæ²¡æœ‰æ·¡æ°´ï¼Œä½†æ–°è¥¿å…°æœ‰ç€ä¸€ç³»åˆ—çŸ¿ç‰©ï¼Œç«å±±çŸ³ä¹Ÿå¯ä»¥æä¾›æ‰“åˆ¶çŸ³å™¨çš„åŸæ–™ã€‚è¾ƒé«˜æµ·æ‹”çš„ç«å±±å²›å¸¦æ¥äº†é›¨æ°´ï¼Œè¾ƒä½å²›å±¿ä¼šå› ä¸ºç«å±±ç°è€ŒåœŸå£¤è‚¥æ²ƒï¼Œç«å±±å²›ä¹Ÿæœ‰æ‰€ä¸åŒã€‚ æµ·æ´‹èµ„æºï¼šå¤šæ•°å²›å±¿ç”±æµ…æ°´å’Œç¤çŸ³åŒ…å›´ï¼Œæœ‰ç€é±¼å’Œæœ‰å£³æ°´ç”ŸåŠ¨ç‰©ï¼Œä½†ä¹Ÿæœ‰å²›å±¿ç”±äºå²©çŸ³å¤šæµ·å²¸é™¡å³­ï¼Œæµ·äº§å¾ˆå°‘ã€‚ é¢ç§¯å˜åŒ–å¾ˆå¤§ï¼Œä»å²›å±¿åˆ°æ–°è¥¿å…°å¾®å‹å¤§é™†ï¼Œæœ‰çš„æœ‰ç€é™¡å³­å±±å£ï¼Œæœ‰çš„åˆ™å¹³ç¼“åœ°å½¢ã€‚ éš”ç¦»ç¨‹åº¦ä¹Ÿæœ‰å˜åŒ–ï¼Œæœ‰äº›å²›å±¿å¯ä»¥å®šæœŸèˆªè¡Œï¼Œæœ‰äº›ç›¸è·ç”šè¿œã€‚ æ³¢åˆ©å°¼è¥¿äºšèƒ½å¤Ÿæä¾›ä¸–ç•Œäººç±»ç¤¾ä¼šå·®å¼‚æ€§çš„ä¸€ä¸ªå‰–é¢ï¼Œå†œä¸šï¼ŒçŸ¿ç‰©ï¼Œèƒ½åˆ©ç”¨çš„èµ„æºæ˜¯å…¶ç¤¾ä¼šå·®å¼‚æ€§çš„å†³å®šå› ç´ ä¹‹ä¸€ã€‚ ç¬¬ä¸‰ç«  å¡å“ˆé©¬å¡çš„å†²çªè¥¿ç­ç‰™å¾æœè€…çš®è¨ç½—ä¸å°åŠ å¸å›½çš‡å¸é˜¿å¡”ç“¦å°”å¸•çš„å†²çªã€‚ äºŒè€…ä¼šé¢ä¹‹åï¼Œä¿®å£«å°†åœ£ç»é€’ç»™é˜¿å¡”ç“¦å°”å¸•ï¼Œé˜¿å¡”ç“¦å°”å¸•ä¸çŸ¥é“ä¹¦å¦‚ä½•ç¿»å¼€ï¼Œä¿®å£«ä¼¸æ‰‹å¸®å¿™ï¼Œé˜¿å¡”ç“¦å°”å¸•å‹ƒç„¶å¤§æ€’ï¼Œä¸æ„¿æ„å¸®å¿™ï¼Œå‘ä¿®å£«æ‰“äº†ä¸€æ‹³ï¼Œç¿»å¼€åå‘ç°æ— æƒŠå¼‚ä¹‹å¤„ï¼Œäºæ˜¯æŠŠä¹¦æ‰”å‡ºå»ï¼Œæ€»ç£å‘å‡ºä¿¡å·ï¼Œè¥¿ç­ç‰™éƒ¨é˜Ÿå¼€å§‹å± æ€å°ç¬¬å®‰äººã€‚ åœ¨è¥¿ç­ç‰™å¯¹å°åŠ çš„å¾æœä¸­ï¼Œæªç‚®åªæœ‰æ¬¡è¦ä½œç”¨ï¼Œé’¢åˆ€ï¼Œé•¿çŸ›åŒ•é¦–æ˜¯å± æ€çš„é‡ç‚¹ã€‚æ­¤å¤–è¿˜æœ‰æˆ˜é©¬ï¼Œé“ç”²é”å­ç”²ï¼Œé’¢ç›”ï¼Œèƒ½å¤ŸæŠµå¾¡å°ç¬¬å®‰äººæ£æ£’çš„æ‰“å‡»ã€‚ é©¬åŒ¹æ”¹å˜æˆ˜äº‰æºè‡ªäºå…¬å…ƒå‰å››åƒå¹´åœ¨é»‘æµ·èƒŒé¢çš„å¤§è‰åŸå¯¹é©¬çš„é©¯åŒ–ï¼ŒçŸ¥é“ç¬¬ä¸€æ¬¡ä¸–ç•Œå¤§æˆ˜éª‘å…µçš„åœ°ä½æ‰ç»“æŸã€‚ è¥¿ç­ç‰™äººå¸¦æ¥çš„å¤©èŠ±æ€æ­»äº†å°åŠ çš‡å¸å’Œå¤§å¤šæ•°æœè‡£ï¼Œåˆæ€æ­»äº†å°åŠ çš‡å¸çš„æŒ‡å®šç»§æ‰¿è€…ï¼Œä½¿å¾—éœ€è¦çš‡ä½ä¹‹äº‰ï¼Œçš®è¨ç½—å¯Ÿè§‰åˆ°äº†å°åŠ å¸å›½çš„åˆ†è£‚æ€åŠ¿ï¼Œå¹¶åˆ©ç”¨èµ·æ¥ã€‚ æœ‰å…ç–«åŠ›çš„æ°‘æ—å°†ç–¾ç—…ä¼ æŸ“ç»™æ²¡æœ‰å…ç–«åŠ›çš„æ°‘æ—èƒ½å¤Ÿèµ·åˆ°å†³å®šæ€§çš„ä½œç”¨ã€‚å¤©èŠ±çš„æµè¡Œåœ¨è¥¿ç­ç‰™ç¬¬ä¸€æ¬¡è¿›æ”»å¤±è´¥åè¹‚èºäº†é˜¿å…¹ç‰¹å…‹äººã€‚ç¾æ´²åœŸè‘—äººå¤§å¤šæ­»äºæ­¤åŸå› ã€‚è‹±å›½äººç§»æ°‘æ‚‰å°¼åä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç–Ÿç–¾ç­‰ç–¾ç—…ä¹Ÿé˜»ç¢äº†æ¬§æ´²äººæ®–æ°‘ã€‚ çš®è¨ç½—çš„åˆ°æ¥ä¾èµ–èˆªæµ·æŠ€æœ¯çš„å‘å±•ï¼Œå›½å®¶çš„è¡Œæ”¿ç»„ç»‡èƒ½å¤Ÿæä¾›èµ„é‡‘ï¼ŒæŠ€æœ¯ï¼Œè£…å¤‡ã€‚è¥¿ç­ç‰™çš„æ–‡å­—ä½¿å¾—è¥¿ç­ç‰™æ¶Œå…¥äº†æ–°å¤§é™†ã€‚ é˜¿å¡”ç“¦å°”å¸•äººç”±äºæ²¡æœ‰æ–‡å­—ï¼Œæƒ…æŠ¥åªèƒ½é€šè¿‡å£å¤´å¾—æ¥ï¼Œè§‚å¯Ÿçš„æƒ…æŠ¥éš¾ä»¥ç¡®è®¤ã€‚æ–°å¤§é™†å¯¹äºæ—§å¤§é™†çš„æƒ…æŠ¥éš¾ä»¥å¾—çŸ¥ï¼Œå¹¶ä¸”å¤©çœŸåœ°ç›¸ä¿¡äº¤ä»˜èµé‡‘åå°±ä¼šæ”¾æ‰è‡ªå·±ã€‚ æ–‡åŒ–ä¿®å…»ä½¿å¾—è¥¿ç­ç‰™äººç»§æ‰¿äº†äººç±»è¡Œä¸ºå’Œå†å²çš„å¤§é‡çŸ¥è¯†ï¼Œé˜¿å¡”ç“¦å°”å¸•åˆ™æ²¡æœ‰äº†è§£è¿‡è¿™äº›ã€‚ ç¬¬äºŒéƒ¨åˆ† ç²®é£Ÿç”Ÿäº§çš„å‡ºç°å’Œä¼ æ’­ç¬¬å››ç«  å†œæ°‘çš„åŠ›é‡å†œæ°‘èƒ½å¤Ÿæˆ˜èƒœç‹©çŒéƒ¨è½ã€‚ç‹©çŒå·²ç»é€æ¸æ¶ˆå¤±äº†ã€‚ç²®é£Ÿç”Ÿäº§æ˜¯æªç‚®ï¼Œç—…èŒï¼Œé’¢é“å‘å±•çš„å…ˆå†³æ¡ä»¶ä¹‹ä¸€ã€‚ èƒ½å¤Ÿè·å¾—æ›´å¤šå¯æ¶ˆåŒ–çš„å¡è·¯é‡Œæ„å‘³ç€æœ‰ç€æ›´å¤šçš„äººï¼Œé‡ç”Ÿçš„åŠ¨æ¤ç‰©å¤§å¤šæ•°æ— æ³•æ¶ˆåŒ–ï¼Œå› æ­¤å‘å±•å†œä¸šè¦æ¯”ç‹©çŒé‡‡é›†ï¼Œæ¯è‹±äº©åœ°èƒ½å¤Ÿå…»æ´»æ›´å¤šçš„äººã€‚ é©¯åŒ–çš„åŠ¨ç‰©èƒ½å¤Ÿæä¾›è‚‰ï¼Œå¥¶ï¼Œè‚¥æ–™ï¼Œæ‹‰çŠã€‚é‡ç”Ÿç‰©ç§è¶Šå¤šï¼Œå¯é©¯åŒ–çš„è¶Šå¤šã€‚é©¯åŒ–çš„åŠ¨æ¤ç‰©å˜æˆç²®é£Ÿï¼Œä»è€Œäº§ç”Ÿäº†äººå£ç¨ å¯†çš„ç¤¾ä¼šï¼Œè¿™æ„å‘³ç€æŠ€æœ¯ï¼Œæ–‡å­—ï¼Œé˜¶çº§ä»¥åŠæµè¡Œç—…ã€‚ç—…èŒä¹Ÿå› ä¸ºä»é©¯åŒ–çš„åŠ¨ç‰©èº«ä¸Šçš„ç—…èŒæ¼”åŒ–è€Œæ¥ï¼Œæµè¡Œç—…ä¾¿è¯ç”Ÿã€‚ ç²®é£Ÿç”Ÿäº§å¸¦æ¥å®šå±…ï¼Œç¼©çŸ­ç”Ÿè‚²é—´éš”ï¼Œä½¿å¾—äººå£ç¨ å¯†ã€‚å®šå±…ç¤¾ä¼šä¹Ÿä¼šè¯ç”Ÿè´®è—ç²®é£Ÿçš„äººæï¼Œè¯ç”Ÿä¸ç”Ÿäº§ç²®é£Ÿçš„äººï¼Œä¾‹å¦‚å›½ç‹ï¼Œå®˜å‘˜ï¼Œä¸“èŒå†›äººã€‚ é©¯åŒ–å“ç§ä¹Ÿæœ‰åˆ«çš„ä½œç”¨ï¼Œæ¯”å¦‚çº¤ç»´èƒ½åˆ¶ä½œè¡£æœï¼Œç½‘ï¼Œç»³å­ï¼Œè‘«èŠ¦å®¹å™¨ç­‰ã€‚ é©¯åŒ–å“ºä¹³åŠ¨ç‰©æˆä¸ºäº†é™†è·¯äº¤é€šçš„ä¸»è¦è¿è¾“æ‰‹æ®µã€‚é©¬ï¼Œå¥½ç‰›ï¼Œé©¯é¹¿ï¼Œç‹—æ‹‰é›ªæ©‡ç­‰ã€‚ é©¬æ˜¯æˆ˜ç•¥èµ„æºï¼Œä¾‹å¦‚åŒˆå¥´äººçš„è¿›æ”»ã€‚ äººç±»ä¸“åŒ–ç—…èŒå¦‚å¤©èŠ±éº»ç–¹ç”±åŠ¨ç‰©ç—…èŒçªå˜è€Œæ¥ï¼Œåœ¨å¾æœæˆ˜äº‰ä¸­èµ·åˆ°äº†å†³å®šæ€§çš„ä½œç”¨ã€‚ ç¬¬äº”ç«  å†å²ä¸Šçš„ç©·ä¸å¯Œç²®é£Ÿå¯èƒ½åœ¨æœ‰äº›å¹²æ—±é€€åŒ–çš„åœŸåœ°ä¸Šå½¢æˆï¼Œåæ¥æ‰åˆ°è‚¥æ²ƒçš„å†œç”°ä¸Šå‘å±•èµ·æ¥ã€‚ å¹´ä»£æ˜¯å¦æ ¡æ­£é€šå¸¸ç”±å¤§å°å†™åŒºåˆ†çš„ï¼ŒBCä¸ºæ ¡æ­£åï¼Œbcä¸ºæ ¡æ­£å‰ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Romance/%E6%9E%AA%E7%82%AE-%E7%97%85%E8%8F%8C%E4%B8%8E%E9%92%A2%E9%93%81%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"è½¯ä»¶å¼€å‘ç»éªŒä¸æ•™è®­  â€”â€”ã€Šæ²¡æœ‰é“¶å¼¹ã€‹å’Œã€Šè½¯ä»¶é•¿æœŸå±æœºã€‹è¯»ä¹¦ç¬”è®°","text":"è½¯ä»¶å¼€å‘ä¸ä»…åœç•™äºç†è®ºï¼Œè¿˜éœ€è¦å®è·µæ¥æ„è¯†åˆ°ç†è®ºçš„å®ç”¨æ€§ã€‚æœ¬æ–‡æ˜¯ä¸€ç¯‡éšç¬”ï¼Œè®²äº†è¯»åæ„Ÿä»¥åŠè‡ªå·±åœ¨å®é™…ç®¡ç†é¡¹ç›®çš„ä¸€äº›ç»éªŒä¸æ•™è®­ã€‚ åˆ›ä½œèƒŒæ™¯ã€Šæ²¡æœ‰é“¶å¼¹ã€‹åˆ›ä½œäº1986å¹´ï¼Œæ˜¯éƒ½æŸæ—IFIPç ”è®¨ä¼šçš„å—é‚€è®ºæ–‡ã€‚é‚£ä¸ªå¹´ä»£å‡ºç°äº†å¤šç§é«˜çº§è¯­è¨€ï¼Œå‡ºç°äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå‡ºç°äº†è¯¸å¤šå·¥å…·ï¼Œä½†éƒ½å¾ˆéš¾è§£å†³è½¯ä»¶çš„æœ¬è´¨é—®é¢˜ã€‚æ²¡æœ‰é“¶å¼¹ä»è½¯ä»¶æœ¬è´¨å·¥ä½œäºé™„å±æ€§å·¥ä½œå‡ºå‘ï¼Œå°è¯•å¯»æ‰¾æé«˜è½¯ä»¶å¼€å‘æ•ˆç‡ï¼Œè§£å†³è½¯ä»¶å±æœºçš„æ–¹æ³•ã€‚ ã€Šè½¯ä»¶é•¿æœŸå±æœºã€‹æ¥è‡ªäº1994å¹´ç§‘å­¦ç¾å›½äººæ‚å¿—ä¸Šçš„ä¸€ç¯‡æ–‡ç« ï¼Œä»å¤šä¸ªæ¡ˆä¾‹å‡ºå‘ï¼Œæ¯”å¦‚å†›æ–¹çš„å«æ˜Ÿï¼Œæ¯”å¦‚ä¸¹ä½›æœºåœºï¼Œé˜è¿°äº†è½¯ä»¶å±æœºçš„ä¸€äº›å®é™…ä½“ç°ã€‚æ­¤æ—¶è½¯ä»¶å¤æ‚åº¦é«˜é€Ÿå¢é•¿ï¼Œå¸¦æ¥äº†æ–°çš„è½¯ä»¶å¼€å‘é—®é¢˜ã€‚ ä¸¤ç¯‡æ–‡ç« éƒ½è¯ç”Ÿäºä¸Šä¸–çºªå…«ä¹åå¹´ä»£ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ç¡¬ä»¶é«˜é€Ÿå‘å±•çš„å¹´ä»£ï¼ŒIntelåœ¨1985å¹´æ¨å‡ºäº†é©å‘½æ€§çš„80386èŠ¯ç‰‡ï¼ŒIBMå¼•é¢†çš„ä¸ªäººPCæµªæ½®ä¹Ÿåœ¨è¿™ä¸ªæ—¶ä»£åˆ°æ¥ï¼Œç¨‹åºçš„è§„æ¨¡è¾¾åˆ°äº†å‰æ‰€æœªæœ‰çš„é«˜åº¦ï¼Œè¿™å¯¼è‡´è½¯ä»¶å¤æ‚åº¦å‰§å¢ï¼Œä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æ¨¡å¼éš¾ä»¥åº”å¯¹ï¼Œå…«ä¹åå¹´ä»£çˆ†å‘çš„è¿™ç§ç°è±¡ä¹Ÿè¢«ç§°ä¸ºâ€œç¬¬äºŒæ¬¡è½¯ä»¶å±æœºâ€ã€‚ è½¯ä»¶å±æœº å†å²ä¸ç°çŠ¶è½¯ä»¶å±æœºæ˜¯æŒ‡è½åçš„è½¯ä»¶ç”Ÿäº§æ–¹å¼æ— æ³•æ»¡è¶³è¿…é€Ÿå¢é•¿çš„è®¡ç®—æœºè½¯ä»¶éœ€æ±‚ï¼Œä»è€Œå¯¼è‡´è½¯ä»¶å¼€å‘ä¸ç»´æŠ¤è¿‡ç¨‹ä¸­å‡ºç°ä¸€ç³»åˆ—ä¸¥é‡é—®é¢˜çš„ç°è±¡ã€‚1968å¹´ï¼ŒåŒ—çº¦åˆ›é€ äº†è½¯ä»¶å±æœºä¸€è¯ï¼Œå¹¶æå‡ºè½¯ä»¶å·¥ç¨‹çš„æ¦‚å¿µï¼Œæ¸´æœ›ä»¥æ­¤æ¥è§£å†³è½¯ä»¶å±æœºã€‚ è½¯ä»¶å±æœºæœ‰ç€è¯¸å¤šå…·ä½“è¡¨ç°ï¼Œæ¯”å¦‚ï¼š è½¯ä»¶å¼€å‘è´¹ç”¨å’Œè¿›åº¦å¤±æ§ï¼Œè¿›åº¦æ‹–å»¶ï¼ŒæŸå®³è½¯ä»¶è´¨é‡ã€‚ è½¯ä»¶å¯é æ€§å·®ï¼Œè€—è´¹äº†å¤§é‡äººåŠ›ç‰©åŠ›ï¼Œæ­£ç¡®æ€§éš¾ä»¥ä¿è¯ï¼Œé”™è¯¯æ‰€é€ æˆçš„æŸå¤±æƒŠäººã€‚ ç”Ÿäº§å‡ºæ¥çš„è½¯ä»¶éš¾ä»¥ç»´æŠ¤ï¼Œç¼ºå°‘æ–‡æ¡£ï¼Œéš¾ä»¥å®šä½é”™è¯¯ã€‚ è¿™æ˜¯è½¯ä»¶å±æœºæœ€å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å…­ä¸ƒåå¹´ä»£æ—¶å€™çš„è¡¨ç°ï¼Œé‚£æ—¶å€™åˆšåˆšä»å°ä½œåŠç”Ÿäº§å˜æˆé›†çº¦åŒ–ç”Ÿäº§ï¼Œä½†æ•ˆæœå´ä¸ä½³ï¼Œè¿™äº›å®è·µä½¿å¾—è½¯ä»¶å·¥ç¨‹å­¦çš„éœ€æ±‚æä¸Šæ—¥ç¨‹ã€‚ ä½†è½¯ä»¶å±æœºå¹¶éä¸€æˆä¸å˜ï¼Œåˆ°äº†å…«ä¹åå¹´ä»£ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒæ¬¡è½¯ä»¶å±æœºï¼Œå‡ºç°äº†æ–°çš„é—®é¢˜ï¼š ç¡¬ä»¶æˆæœ¬é€å¹´ä¸‹é™ï¼Œè€Œè½¯ä»¶æˆæœ¬å æ¯”å´å±…é«˜ä¸ä¸‹ã€‚è½¯ä»¶è§„æ¨¡å¢é•¿å¾ˆå¿«ã€‚ è½¯ä»¶å¼€å‘çš„ç”Ÿäº§ç‡æå‡éš¾ä»¥åŒ¹é…ç¡¬ä»¶çš„ç”Ÿäº§ç‡æé«˜ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œé«˜çº§è¯­è¨€è¯ç”Ÿäº†ï¼Œé¢å‘å¯¹è±¡è¯ç”Ÿäº†ï¼Œè®¾è®¡æ¨¡å¼è¯ç”Ÿäº†ï¼Œè½¯ä»¶å·¥ç¨‹çš„å„ç§æ–¹æ³•ä¹Ÿè¯ç”Ÿäº†ï¼Œç¨‹åºå‘˜ä»¬ç»ˆäºä¸å†ç”¨æ™¦æ¶©çš„åº•å±‚è¯­è¨€æ¥ç¼–å†™ï¼Œä½†å®é™…ä¸Šï¼Œç”Ÿäº§ç‡å¹¶æ²¡æœ‰æ˜¾è‘—æé«˜ã€‚ ä½†ç¡¬ä»¶å¹¶æ²¡æœ‰åœæ­¢å‘å±•ï¼Œä¸²è¡ŒåŒ–æ—¶ä»£è¦ç»“æŸäº†ï¼Œå¤šæ ¸ï¼Œå¹¶è¡ŒåŒ–å‘å±•æˆä¸ºäº†æ–°çš„è¶‹åŠ¿ã€‚ä¸åŒçš„ç¡¬ä»¶éœ€è¦ä¸åŒçš„è½¯ä»¶ï¼Œä¸ä¹‹å¯¹åº”çš„ä¹Ÿè¦æœ‰ä¸åŒçš„è½¯ä»¶æ ‡å‡†ï¼Œè¿™ä¾¿æ„å‘³ç€æ··ä¹±ã€‚ç°ä»£çš„è½¯ä»¶å¼€å‘ä¾ç„¶æœ‰ç€ä¸Šè¿°é—®é¢˜ã€‚ æ–‡ç« è§‚ç‚¹æ²¡æœ‰é“¶å¼¹æå‡ºçš„ï¼Œåœ¨çŸ­æœŸå†…ä¸å­˜åœ¨å¿«é€Ÿæé«˜ç”Ÿäº§æ•ˆç‡çš„æ–¹æ³•ã€‚ä»–å°†è½¯ä»¶å¼€å‘ä¸­æ‰€éœ€è¦çš„å·¥ä½œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¿…è¦çš„æœ¬è´¨çš„å·¥ä½œï¼Œä»¥åŠé™„å±æ€§å·¥ä½œã€‚å‰è€…å…³å¿ƒçš„æ˜¯å¦‚ä½•ä»æŠ½è±¡æ€§é—®é¢˜å‘å±•å‡ºè§£å†³æ–¹æ¡ˆï¼Œåè€…åˆ™æ˜¯å°†æ„æ€å®ç°åœ¨ç”µè„‘ä¸Šæ‰€é‡åˆ°çš„å›°éš¾ã€‚æœ¬è´¨æ€§çš„é—®é¢˜æœ‰ç€ä»¥ä¸‹çš„å‡ ä¸ªç‰¹æ€§ï¼š å¤æ‚æ€§ï¼šè½¯ä»¶éœ€è¦è§£å†³çš„é—®é¢˜éœ€è¦ç‰µæ‰¯åˆ°è®¡ç®—æ­¥éª¤ï¼Œè¿™æ˜¯äººä¸ºçš„ï¼ŒæŠ½è±¡çš„æ™ºèƒ½æ´»åŠ¨ï¼Œå¤šåŠæ˜¯å¤æ‚çš„ã€‚ éšåŒ¿æ€§ï¼šå°šæœªå®Œæˆçš„è½¯ä»¶æ˜¯çœ‹ä¸è§çš„ã€‚ é…åˆæ€§ï¼šå¤§å‹è½¯ä»¶ç¯å¢ƒä¸­æ¥å£éœ€è¦ä¸€è‡´ï¼Œä½†éšç€å¼€å‘è¿›è¡Œï¼Œè¿™ä¼šå˜å¾—ååˆ†å›°éš¾ã€‚ æ˜“å˜æ€§ï¼šè½¯ä»¶çš„ç¯å¢ƒä¼šæ”¹å˜ï¼Œç¡¬ä»¶ä¼šæ”¹å˜ï¼Œä½¿ç”¨è®¤æƒä¼šæ”¹å˜ï¼Œè¿™äº›é˜»ç¢äº†è½¯ä»¶å¼€å‘ã€‚ åœ¨æ–‡ç« çœ‹æ¥ï¼Œå·¥å…·çš„ç ”å‘ï¼Œæ¯”å¦‚é«˜çº§è¯­è¨€ï¼Œæ¯”å¦‚é¢å‘å¯¹è±¡ï¼Œæ¯”å¦‚ä¸“å®¶ç³»ç»Ÿï¼Œæ¯”å¦‚ç¨‹åºéªŒè¯ï¼Œè¿™äº›ä¸œè¥¿éƒ½éš¾ä»¥è§¦åŠåˆ°è½¯ä»¶å¼€å‘çš„æœ¬è´¨ä¸Šçš„é—®é¢˜ã€‚ å°±è½¯ä»¶çš„å¼€å‘æ¥çœ‹ï¼Œç¬¬ä¸€æ­¥æ˜¯éœ€è¦ç†è§£éœ€æ±‚ï¼Œè¿™æ„å‘³ç€ä¸äººæ²Ÿé€šï¼Œè€Œéœ€æ±‚æœ¬èº«ï¼Œä¾èµ–äºç¯å¢ƒï¼Œäººç¾¤ï¼Œå­˜åœ¨ç€å˜æ•°ã€‚é¦–å…ˆè¦è§£å†³çš„ä¾¿æ˜¯è®©å®¢æˆ·ä¸ç¨‹åºè®¾è®¡å¤šæ‰“äº¤é“ï¼Œä½¿å¾—éœ€æ±‚èƒ½è¢«åˆç†åœ°è®¾è®¡å‡ºæ¥ã€‚ ä¹°è½¯ä»¶ï¼Œè€Œéå¼€å‘è½¯ä»¶å±äºå¾ˆå¥½çš„æ–¹æ³•ï¼Œè´­ä¹°çš„è½¯ä»¶é€šå¸¸å…·æœ‰è‰¯å¥½çš„æ–‡æ¡£ï¼Œä¸å»å¼€å‘å¾€å¾€æ›´å¥½ã€‚ å¿«é€ŸåŸå‹å·¥å…·ä¹Ÿæ˜¯æå‡æ•ˆç‡çš„æ–¹æ³•ä¹‹ä¸€ã€‚ å¢é‡åŒ–å¼€å‘ï¼Œè€Œéä¸€æ¬¡å®Œæˆå…¨éƒ¨ï¼Œèƒ½å¤Ÿæå‡å£«æ°”ã€‚å¼€å‘æ¨¡å¼å¯¹äºè½¯ä»¶å¼€å‘ä¹Ÿæœ‰ç€æ˜¾è‘—çš„æå‡ã€‚ ä¸ªäººç»éªŒä¸è§‚ç‚¹â€œæ²¡æœ‰é“¶å¼¹â€æå‡ºçš„è§‚ç‚¹æ˜¯å…·æœ‰å…ˆè§æ€§çš„ï¼Œä½†åœ¨æˆ‘ä¸ªäººçœ‹æ¥ï¼Œè§‚ç‚¹è¿‡äºæ‚²è§‚ã€‚ä»–çš„ä¸»è¦è§‚ç‚¹åœ¨äºâ€œ10å¹´å†…éš¾ä»¥å°†è½¯ä»¶å¼€å‘æ•ˆç‡æå‡ä¸€ä¸ªæ•°é‡çº§â€ï¼Œä»–æ‰€åˆ—ä¸¾çš„æ ·ä¾‹å¾ˆæ­£ç¡®ï¼Œâ€œå¦‚æœé™„å±æ€§å·¥ä½œå 90ï¼Œæœ¬è´¨æ€§å·¥ä½œå 10%ï¼Œé‚£ä¹ˆéœ€è¦å°†é™„å±æ€§å·¥ä½œå…¨éƒ¨å‡ä¸º0æ‰èƒ½è¾¾åˆ°ä¸€ä¸ªæ•°é‡çº§çš„æé«˜â€ã€‚ æœ¬è´¨æ€§çš„å·¥ä½œç¡®å®éš¾ä»¥è§¦ç¢°ï¼Œä½†æ˜¯åå¹´è¿‡äºçŸ­æš‚ï¼Œè€Œæ•°é‡çº§çš„æé«˜è¿‡äºæƒŠäººã€‚è§‚ç‚¹æ­£ç¡®ï¼Œä½†ä¸å¤Ÿç°å®ã€‚è½¯ä»¶å¼€å‘åœ¨å‘å±•ï¼Œè½¯ä»¶å·¥ç¨‹åŒ–çš„ç†å¿µåŒæ ·åœ¨å‘å±•ï¼Œå°±é™„å±æ€§å·¥ä½œè€Œè¨€ï¼Œç¼–å†™é«˜çº§è¯­è¨€æ¯”èµ·ç¼–å†™åº•å±‚è¯­è¨€æ‰€éœ€è¦çš„å­¦ä¹ æˆæœ¬è¦é™ä½äº†è®¸å¤šï¼Œé«˜çº§è¯­è¨€çš„å‘å±•æä¾›äº†æŠ½è±¡ã€‚ç°åœ¨æ— è®ºæ˜¯ä»€ä¹ˆå·¥å…·éƒ½ç›¸å½“ä¸°å¯Œï¼Œé™ä½äº†äº¤æµçš„æˆæœ¬ï¼Œèƒ½å¤Ÿæå‡åŒ…æ‹¬éœ€æ±‚åˆ†æï¼Œæ¦‚å¿µå›¾æ„å»ºç­‰è¯¸å¤šæ›¾ç»è¢«è®¤ä¸ºæ˜¯â€œæœ¬è´¨æ€§å·¥ä½œâ€çš„æ•ˆç‡ã€‚ æˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ‰€æœ‰ä¸¥è‹›çš„å·¥ç¨‹åŒ–æ–¹æ³•å»å¼€å‘ï¼Œä½†æœ€åæˆ‘ä»¬ä¼šå‘ç°äººæ˜¯æœ€å¤§çš„é™åˆ¶ã€‚å®è´¨ä¸Šï¼Œå·¥ç¨‹åŒ–æœ¬èº«å°±æ˜¯ä¸ºäº†çº¦æŸäººã€‚æ‰€æœ‰â€å·¥ç¨‹â€œï¼Œä½†å‡¡æ˜¯æœ‰å¤šäººå‚ä¸ï¼Œéƒ½éœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•æŠŠè¿™äº›ä¼šçŠ¯é”™çš„äººçš„å·¥ä½œæœ‰æ•ˆæ•´åˆåœ¨ä¸€èµ·ï¼Œè®©æœ€åå¾—åˆ°çš„ç»“æœå¯è¡Œã€‚æˆ‘è‡ªå·±è®¤ä¸ºï¼Œè¿™æ˜¯å·¥ç¨‹åŒ–çš„åŸºæœ¬æ€æƒ³ã€‚ æˆ‘è‡ªå·±ç›®å‰å¸¦äº†ä¸€ä¸ªé¡¹ç›®ï¼Œå¼€å‘å­¦æ ¡çš„OnlineJudgeç³»ç»Ÿã€‚æœ€åˆçš„ç‰ˆæœ¬é‡‡ç”¨PHPå¼€å‘ï¼Œä½†éšç€å®é™…è¿è¡Œï¼Œæˆ‘ä»¬å‘ç°PHPå­˜åœ¨ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œä»¥åŠéš¾ä»¥ç»´æŠ¤ã€‚æˆ‘ä»¬å°†æ•ˆç‡å½±å“æœ€ä¸ºä¸¥é‡çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯äº¤é¢˜çš„éƒ¨åˆ†ï¼Œè¿ç§»åˆ°äº†åŸæ¥ç”¨goè¯­è¨€å†™çš„ä¸€ä¸ªæ»šæ¦œçš„æ¨¡å—ä¸­ã€‚ä¹‹å‰é‡‡ç”¨äº†mqè®¾è®¡ï¼Œåæ¥é‡‡ç”¨äº†gRPCè®¾è®¡ï¼Œæ€§èƒ½å¤Ÿäº†å°±æŠ›å¼ƒäº†mqã€‚éšç€å¼€å‘ï¼Œè¿™äº›æ¨¡å—è€¦åˆè¶Šæ¥è¶Šä¸¥é‡ï¼Œé—®é¢˜ä¹Ÿè¶Šç§¯è¶Šå¤šã€‚è™½ç„¶è¿™ä¸ªç³»ç»Ÿæœ€åå¯ä»¥è¿è¡Œï¼Œä½†å†™PHPçš„äººè¶Šæ¥è¶Šå°‘ï¼Œä¸ºäº†ç»´æŠ¤æ€§æˆ‘ä»¬å†³å®šé‡æ„ï¼Œè¿™ä»½æ¥åŠ›æ£’ä¹Ÿäº¤åˆ°äº†æˆ‘çš„æ‰‹ä¸Šã€‚ æœ€å¼€å§‹æˆ‘å¯¹é‡æ„æ‹¥æœ‰å……è¶³çš„ä¿¡å¿ƒï¼Œå› ä¸ºé‡æ„æ²¡æœ‰å¾ˆå¤šéœ€è¦æ„é€ çš„å¤æ‚æ¦‚å¿µï¼Œåªéœ€è¦æ”¹åŠ¨éƒ¨åˆ†åŸå…ˆä¸åˆç†çš„åœ°æ–¹ã€‚é€»è¾‘é—®é¢˜ä¸å¤§ã€‚ä½†äº‹å®ä¸Šåˆ™è¶…ä¹æˆ‘çš„é¢„æ–™ã€‚ é¡¹ç›®å¼€å‘æ€»å…±ä¸‰å››äººï¼Œæœ€å¼€å§‹ç¡®å®šçš„æ˜¯å¯’å‡ç»“æŸèƒ½å¤ŸåŸºæœ¬ä¸Šçº¿ï¼Œä½†è¿™é¢å¯¹ç€ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šäººã€‚ å¯’å‡å¯¹äºå­¦ç”Ÿè€Œè¨€å„å›å„å®¶ï¼Œä¹Ÿå°±æ˜¯éœ€è¦æ‰¾äººçš„æ—¶å€™æ ¹æœ¬æ‰¾ä¸åˆ°äººï¼Œäº¤æµæˆæœ¬æ— é™å¤§ï¼Œå¤–åŠ ä¸Šè¿‡å¹´ï¼Œä»¥åŠæ”¾å‡çš„æ•ˆç‡é—®é¢˜ï¼Œå¯’å‡çš„å¼€å‘è¿›åº¦åŸºæœ¬æ²¡æœ‰åŠ¨ã€‚è¿™ä¹Ÿæ˜¯ç»™æˆ‘çš„ç¬¬ä¸€ä¸ªæ•™è®­ï¼šå¼€å‘éœ€è¦ä¿æŒæ—¶åˆ»çš„æ²Ÿé€šï¼Œè‡³å°‘éœ€è¦æ‰¾åˆ°äººã€‚ å¯’å‡ç»“æŸåæƒ…å†µå¹¶æ²¡æœ‰æ”¹å–„ã€‚è¿™æ—¶å€™å¼€å‘äººå‘˜çš„æ€§æ ¼é—®é¢˜å¾—åˆ°äº†ä½“ç°ã€‚æœ‰çš„äººå±äºå®šå¥½äº†ddlè‡ªå·±ä¼šæ‰¾æœºä¼šå®Œæˆï¼Œæœ‰çš„äººå±äºä¸å‚¬å°±å†™ä¸åŠ¨çš„äººã€‚äººçš„é—®é¢˜éœ€è¦ç”¨äººçš„æ–¹æ³•æ¥è§£å†³ï¼Œå¯¹ç—‡ä¸‹è¯ã€‚æˆ‘çš„åç«¯å±äºåè€…ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘çš„ç¬¬äºŒä¸ªæ•™è®­ï¼šå½“å‚¬ä¿ƒä¸ç®¡ç”¨çš„æ—¶å€™ï¼Œéœ€è¦ç”¨æ›´ä¸ºæ˜¾è‘—ï¼Œæ›´ä¸ºå®é™…çš„æ–¹æ³•ï¼Œæˆ–è€…è¯´é€šè¿‡å¨èƒæ¥è¿›è¡Œè¿›åº¦è·Ÿè¿›ã€‚è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯å®šå¥½ddlï¼Œè¿›è¡ŒéªŒæ”¶ï¼ŒéªŒæ”¶ä¸è¿‡å°±è¦è¯·å®¢ï¼Œé€ æˆå®é™…çš„ç»æµæŸå¤±çš„æ–¹å¼ä¼šæ›´åŠ è®°å¿†æ·±åˆ»ã€‚ ä½†è¿˜é—®é¢˜æ²¡æœ‰ç»“æŸï¼Œè¿™æ—¶å€™æœ‰äº†æ–°çš„é—®é¢˜ï¼šæŠ€æœ¯æ€§é—®é¢˜ã€‚æˆ‘çš„åç«¯åœ¨æŠ€æœ¯ä¸Šä¸å¤Ÿè¿‡å…³ï¼Œè‡ªå·±ä¹Ÿä¸æ„¿æ„äº¤æµï¼Œå¯¼è‡´åœ¨å®ç°ä¸Šå‡ºç°äº†ç›¸å½“å¤šçš„é”™è¯¯ã€‚æ¯”å¦‚æ¥å£å†™é”™äº†ï¼Œè¯¥ç”¨postæ—¶å€™ç”¨getå¯¼è‡´getè¯·æ±‚è¢«ç¼“å­˜ï¼Œä»è€Œæ— æ³•æ­£å¸¸ç™»å½•ã€‚è¿™ä¸ªé—®é¢˜ç›¸å½“éš¾ä»¥å®šä½ã€‚ç¬¬ä¸‰ä¸ªæ•™è®­ï¼šéœ€è¦æ­£ç¡®è¯„ä¼°å¼€å‘äººå‘˜çš„æŠ€æœ¯æ°´å¹³ï¼Œé¿å…å‡ºç°è¶…å‡ºå¼€å‘äººå‘˜çš„æŠ€æœ¯æ°´å¹³çš„é—®é¢˜çš„å‡ºç°ã€‚ åœ¨æ€»ä½“å¤§è‡´æµ‹è¯•æ— è¯¯çš„æ—¶å€™ï¼Œå¼€å§‹è¿›è¡Œå¯¹æ¥ï¼Œç¯å¢ƒé—®é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªæŠ˜ç£¨ã€‚å‰ç«¯çš„ä¾èµ–é—®é¢˜å¯¼è‡´åœ¨å®é™…æœºå™¨ä¸Šéš¾ä»¥éƒ¨ç½²ï¼Œä½†è¿˜å¥½çš„æ˜¯æ²¡æœ‰æ¨ç¿»é‡æ¥ï¼Œè€Œæ˜¯åœ¨åŸºç¡€ä¸Šè·¯ç”±äº†ä¸€ä¸‹ä»è€Œè§£å†³äº†ã€‚åœ¨å¯¹æ¥å‰å‰åç«¯éƒ½è¯´è¿›åº¦ç¨³æ­¥æ¨è¿›ï¼Œä½†å®é™…ä¸Šå¹¶éå¦‚æ­¤ã€‚è¿™ä¹Ÿæ˜¯ç¬¬å››ä¸ªæ•™è®­ï¼šâ€œæ°¸è¿œä¸è¦ç›¸ä¿¡å¼€å‘äººå‘˜å…³äºè¿›åº¦çš„é¬¼è¯â€ã€‚çœ‹èµ·æ¥å¾ˆæ»‘ç¨½ï¼Œä½†çœŸæ­£å¼€å‘çš„æ—¶å€™ï¼Œå°±ä¼šçŸ¥é“è¿™æ˜¯çœŸæ­£çš„æ•™è®­äº†ã€‚ åœ¨å¯¹æ¥å®Œæˆåä¹Ÿå‡ºç°äº†æˆ–å¤§æˆ–å°çš„é—®é¢˜ï¼Œä½†ä¸é¡¹ç›®ç®¡ç†å…³ç³»ä¸æ˜¯å¾ˆå¤§ï¼Œçº¯ç²¹æ˜¯æŠ€æœ¯é—®é¢˜ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œojè¿˜æ²¡å¼€å‘å®Œã€‚å¯¹äºojï¼Œæˆ‘ä»¬çš„åˆè¡·æ˜¯ä¸ºäº†ä½¿OJç³»ç»Ÿâ€œæ˜“äºç»´æŠ¤â€ä»è€Œè¿›è¡Œçš„é‡æ„ï¼Œä½†å®é™…è€Œè¨€ç°åœ¨åªå®ç°äº†åŸæ¥çš„æœ‰é™çš„åŠŸèƒ½ï¼Œè¿˜æ²¡æœ‰é‡æ„å®Œå…¨ã€‚è€Œä¸”ï¼Œæ²¡æœ‰æ–‡æ¡£ã€‚è¿™æ˜¯æˆ‘ç¬¬äº”ä¸ªæ•™è®­ï¼šå¯ç»´æŠ¤æ€§é«˜é¦–å…ˆè¦æ–‡æ¡£é½å…¨ã€‚å¯ç»´æŠ¤æ€§çš„åŸºç¡€åŸºäºæ–‡æ¡£ï¼Œå³ä½¿æ˜¯è‰¯å¥½çš„ä»£ç ï¼Œå­¦ä¹ æˆæœ¬ä¾ç„¶å¾ˆé«˜ã€‚å¥½çš„æ–‡æ¡£æ‰æ˜¯å¯ç»´æŠ¤æ€§çš„åŸºç¡€ã€‚ å®é™…çš„ç»éªŒåˆ°æ­¤ä¸ºæ­¢ï¼Œè™½ç„¶æ¯”ä¸ä¸Šä»€ä¹ˆå¤§çš„é¡¹ç›®ï¼Œä½†ç¡®å®æ˜¯äº²èº«ç»å†ã€‚é¡¹ç›®ç®¡ç†éœ€è¦ä¸çœŸå®çš„â€œäººâ€æ‰€æ‰“äº¤é“ï¼Œéœ€è¦ä¿æŒæ²Ÿé€šï¼Œéœ€è¦æ¸…æ¥šå®åŠ›ï¼Œéœ€è¦è°¨æ…åˆ‡åˆ†ä»»åŠ¡ï¼Œéœ€è¦åˆ¶å®šåˆç†çš„ddlï¼Œéœ€è¦æ­£ç¡®è¯„ä¼°è¿›åº¦ï¼Œä»¥åŠåº”å¯¹å„ç§å„æ ·çš„å¼‚å¸¸çŠ¶å†µï¼Œå¯é¢„è§çš„æ¯”å¦‚èŠ‚å‡æ—¥ï¼Œä¸å¯é¢„è§çš„æ¯”å¦‚è”ç³»ä¸åˆ°äººã€‚ä¸äººæ‰“äº¤é“è¿˜å¾—è¿ç”¨ä¼ ç»Ÿçš„ç¤¾äº¤æ„ä¹‰ä¸Šçš„å„ç§æ–¹æ³•ã€‚è¿™äº›æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ï¼Œä½†ä¹Ÿæ˜¯æä¸ºé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ è½¯ä»¶å·¥ç¨‹å­¦æˆ‘ä¸€ç›´è®¤ä¸ºæ˜¯ä¸€é—¨éœ€è¦å®è·µçš„ç§‘å­¦ï¼Œæœ‰äº›ç†è®ºä¸Šçœ‹èµ·æ¥å¾ˆç¾å¥½çš„ä¸œè¥¿ï¼Œæ¯”å¦‚è®¾è®¡æ¨¡å¼ï¼Œå®è·µèµ·æ¥éå¸¸éš¾å—ï¼Œæœ‰äº›ä¸ä¸¥æ ¼æŒ‰ç…§ç†è®ºè€Œå‘å±•çš„æ¯”å¦‚è¯´ä¸€äº›å¼€å‘æ¨¡å‹ï¼Œåè€Œèƒ½å¤Ÿå¾ˆå¥½åœ°å¾—åˆ°ä½¿ç”¨ã€‚è¿™äº›åœ¨ä¹¦æœ¬ä¸­å­˜åœ¨çš„ç†è®ºéƒ½éœ€è¦å®è·µã€‚â€œè½¯ä»¶å·¥ç¨‹â€åœ¨æœ¬ç§‘é˜¶æ®µæœ€å¤§çš„é—®é¢˜ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå°±æ˜¯æ²¡æœ‰èƒ½å¾ˆå¥½åœ°å®è·µã€‚æœ¬ç§‘æœŸé—´ç¼ºå°‘çš„ä¸æ˜¯çŸ¥è¯†ï¼Œè€Œæ˜¯èƒ½å¤Ÿåº”ç”¨è¿™äº›çŸ¥è¯†çš„ï¼Œè¶³å¤Ÿå¤šçš„ä¸”æŠ€æœ¯è¾¾æ ‡çš„å›¢é˜Ÿã€‚è¿™äº›åœ¨æˆ‘çœ‹æ¥æ˜¯æœ¬ç§‘æ•™å­¦è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹æ—¶å€™çš„å¾ˆå¤§çš„é˜»ç¢ï¼Œä½†è¿™äº›æ˜¯å°¤ä¸ºé‡è¦çš„ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%95%99%E8%AE%AD-%E2%80%94%E2%80%94%E3%80%8A%E6%B2%A1%E6%9C%89%E9%93%B6%E5%BC%B9%E3%80%8B%E5%92%8C%E3%80%8A%E8%BD%AF%E4%BB%B6%E9%95%BF%E6%9C%9F%E5%8D%B1%E6%9C%BA%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"ç¼–è¯‘åŸç†åšé¢˜ç‰ˆ","text":"æœ¬æ–‡ä¸»è¦ä¸ºç¼–è¯‘åŸç†çš„é¢˜ç›®åšæ³•è§£ç­”ï¼ŒåŸºäºmoocé¢˜ç›®ã€‚äººäººéƒ½æ˜¯åšé¢˜å®¶ï¼ ç¼–è¯‘åŸç†åšé¢˜ç‰ˆç¬¬äºŒç«  æ–‡æ³•ä¸è¯­è¨€å†™å‡ºè¯­è¨€æ–‡æ³•å¯¹åº”çš„æ‰€æœ‰å¥å­çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯æ–‡æ³•æ‰€èƒ½æ¨å¯¼å‡ºæ¥çš„æ‰€æœ‰å¥å­çš„é›†åˆã€‚å†™å‡ºå³å¯ã€‚ æ„é€ è¯­æ³•æ ‘æ ¹ä¸ºäº§ç”Ÿå¼å·¦éƒ¨ï¼Œä¸‹é¢ä»å·¦åˆ°å³ç»„åˆæˆä¸ºäº§ç”Ÿå¼å³éƒ¨ï¼Œæ„å»ºå³å¯ã€‚ å¦‚ä½•ç”Ÿæˆç›®æ ‡ä¸²äº§ç”Ÿå¼æ¨å¯¼ï¼Œä½¿ç”¨=&gt;è¿æ¥å³å¯ã€‚ äºŒä¹‰æ€§å¯¹äºåŒä¸€å¥å­ï¼Œæ˜¯å¦å­˜åœ¨ä¸¤æ£µä¸åŒçš„è¯­æ³•æ ‘ï¼Œå¯åˆ¤æ–­äºŒä¹‰æ€§ã€‚ ç»™å‡ºè¯­è¨€çš„ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼š å·¦ä¾§å¿…é¡»ä¸ºéç»ˆç»“ç¬¦ ä¸”æ»¡è¶³1å‹æ–‡æ³•|Î²|&gt;=|Î±|æ— ç‰¹å®šæŠ€å·§ï¼Œæ³¨æ„é€’å½’æ€æƒ³ï¼Œæ³¨æ„æ•°æ®èŒƒå›´ï¼Œä½¿ç”¨ç‹¬ç‰¹æ–¹æ³•è§„èŒƒæ•°æ®èŒƒå›´å³å¯ã€‚ ç»™å‡ºè¯­è¨€çš„ä¸‰å‹æ–‡æ³•ä¸‰å‹æ–‡æ³•ï¼š å³ä¾§ä¸ºå·¦çº¿æ€§æˆ–è€…å³çº¿æ€§ï¼Œå³åªèƒ½aAä¸aï¼Œæˆ–åªèƒ½Aaä¸aã€‚ä¹Ÿæ— ç‰¹å®šæŠ€å·§ï¼Œæ³¨æ„ä¸‰å‹æ–‡æ³•è§„èŒƒã€‚ ç¬¬ä¸‰ç«  è¯æ³•åˆ†æç”»DFADFAçŠ¶æ€æ˜¯ç¡®å®šçš„ï¼Œæ¯ä¸€ä¸ªè¾“å…¥å¯¹åº”ç¡®å®šçš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œæ²¡æœ‰Îµè¾¹ã€‚æ³¨æ„è¯¥ç‚¹ã€‚è¿›è¡Œç»˜ç”»å³å¯ã€‚ æ„é€ DFAé¦–å…ˆéœ€è¦NFAï¼Œè¿™æ—¶å€™éœ€è¦è§‚å¯Ÿé¢˜å¹²ï¼Œå¾—åˆ°NFAçš„æ‰€æœ‰å­—æ¯ï¼Œæ‰€æœ‰çŠ¶æ€ï¼Œè½¬æ¢å…³ç³»ï¼Œå¼€å§‹çŠ¶æ€ï¼Œç»“æŸçŠ¶æ€ã€‚ ç„¶åå°†è½¬æ¢å…³ç³»ï¼Œç»˜åˆ¶æˆNFAè¡¨æ ¼ã€‚ å¾—åˆ°NFAè¡¨æ ¼åï¼Œæ‰©å……çŠ¶æ€ï¼Œå¦‚xçŠ¶æ€åœ¨è¾“å…¥1åèƒ½è¿›å…¥xæˆ–yçŠ¶æ€ï¼Œåˆ™å°†xyçŠ¶æ€åŠ å…¥è¡¨æ ¼ï¼Œç»§ç»­æ‰§è¡Œè¯¥è¿‡ç¨‹ï¼Œç›´è‡³ç»“æŸã€‚ å¾—åˆ°è¯¥è¡¨æ ¼åï¼Œå°†ç»ˆæ­¢ç»“ç‚¹ä¸éç»ˆæ­¢ç»“ç‚¹åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œåœ¨æ ¹æ®è¾“å…¥çš„ä¸åŒï¼Œç»§ç»­åˆ’åˆ†é›†åˆï¼Œç›´åˆ°æ— æ³•å†åˆ†ã€‚å¾—åˆ°æœ€ç®€DFAã€‚ ç”»å‡ºå›¾ï¼Œå³å¯ã€‚ å†™æ­£è§„å¼æ³¨æ„æ˜Ÿå·ï¼Œæˆ–å·ç”¨æ³•ã€‚ ç¬¬å››ç«  è‡ªé¡¶å‘ä¸‹è¯­æ³•åˆ†æfirsté›†æ±‚æ³•firsté›†åˆå«ä¹‰ä¾¿æ˜¯è¯¥éç»ˆç»“ç¬¦æ‰€èƒ½äº§ç”Ÿçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ŒæŒ‰ç…§æ­¤è§„åˆ™å»æ‰¾ã€‚A-&gt;aåˆ™åªæœ‰aï¼ŒA-&gt;Baåˆ™è§‚å¯ŸBæ˜¯å¦æˆäº§ç”ŸÎµï¼Œå¦‚æœèƒ½åˆ™å°†First(B)ä¸aåŠ å…¥é›†åˆï¼Œä¸èƒ½åˆ™åªåŠ å…¥First(B)ï¼Œæ²¡æœ‰aã€‚å¤šä¸ªéç»ˆç»“ç¬¦æ¨å‡ºÎµåˆ™ä»¥æ­¤ç±»æ¨ã€‚æ³¨æ„ï¼Œepsilonæœ¬èº«ä¹Ÿå¯ä»¥è¿›å…¥firsté›†åˆã€‚ followé›†æ±‚æ³•followé›†åˆæ„ä¹‰æ˜¯è¯¥éç»ˆç»“ç¬¦åé¢æ‰€æœ‰èƒ½æ¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚é‚£ä¹ˆè§‚å¯Ÿäº§ç”Ÿå¼å³è¾¹ã€‚æ¯”å¦‚Aï¼Œå¦‚æœåªæœ‰S-&gt;Aaåˆ™followåªæœ‰aï¼Œå¦‚æœåªæœ‰S-&gt;Aå¹¶ä¸”æœ€ååˆ°äº†ç»“æŸåˆ™åŠ å…¥#ï¼Œå¦‚æœS-&gt;ABï¼Œåˆ™å°†first(B)æ”¾å…¥follow(A)ï¼Œå¦‚æœBèƒ½æ¨å‡ºÎµæˆ–è€…Aä¸ºå³éƒ¨ï¼Œåˆ™å°†follow(S)æ”¾å…¥follow(A)ã€‚ selecté›†åˆæ„å»ºselecté›†åˆæ˜¯é’ˆå¯¹äº§ç”Ÿå¼çš„ï¼Œæ³¨æ„ã€‚S-&gt;ABå¦‚æœäº§ç”Ÿå¼å³éƒ¨ä¸æ˜¯ç©ºä¸²ï¼Œåˆ™ä¸ºfirst(S)ï¼ŒABå¯ä»¥æ¨å‡ºç©ºä¸²ï¼Œåˆ™first(S)âˆªfollow(S)-Îµ LL(1)æ–‡æ³•åˆ¤æ–­å¯¹äºç›¸åŒå·¦éƒ¨çš„äº§ç”Ÿå¼è€Œè¨€ï¼Œäº§ç”Ÿå¼çš„selecté›†åˆä¸ç›¸äº¤ã€‚ é¢„æµ‹åˆ†æè¡¨çºµè½´ä¸ºäº§ç”Ÿå¼å·¦éƒ¨ï¼Œæ¨ªè½´ä¸ºè¾“å…¥ç¬¦å·ï¼Œä¸­é—´ä¸ºå¯¹åº”äº§ç”Ÿå¼ã€‚ æ¶ˆé™¤å·¦é€’å½’å¯¹äºA-&gt;AÎ±|Î²è€Œè¨€ï¼Œä¸ºç›´æ¥å·¦é€’å½’ï¼Œå¯ä»¥æ”¹å†™ä¸ºA-&gt;Î²Aâ€™ Aâ€™-&gt;Î±Aâ€™çš„ç­‰ä»·å½¢å¼ã€‚å­˜åœ¨é—´æ¥å·¦é€’å½’ï¼Œå¯ä»¥å…ˆå¸¦å…¥åŒ–æˆç›´æ¥å·¦é€’å½’åå¤„ç†ã€‚ æå–å·¦å…¬å› å­å¯¹äºA-&gt;aB1|aB2|â€¦â€¦|aBn|y å¯ä»¥æå–å·¦å…¬å› å­åï¼Œå¾—åˆ°A-&gt;aB|y B-&gt;B1|B2|â€¦â€¦|Bn æ³¨æ„ï¼Œæ¶ˆé™¤å·¦é€’å½’å¹¶ä¸”æå–å·¦å…¬å› å­åä¸ä¸€å®šä¸ºLL(1)æ–‡æ³•ã€‚ ç¬¬äº”ç«  è‡ªåº•å‘ä¸Šè¯­æ³•åˆ†æfirstvtæ±‚æ³•æ³¨æ„åŒºåˆ«äºfirsté›†åˆï¼Œfirstvtæ±‚æ³•ï¼šT-&gt;aâ€¦åˆ™åŠ å…¥aï¼ŒT-&gt;Râ€¦åˆ™åŠ å…¥firstvt(R),T-&gt;Raâ€¦åˆ™åŠ å…¥firstvt(R)ä¸aã€‚å¦‚æ­¤é€’å½’ã€‚ lastvtæ±‚æ³•ä¸firstvtç±»ä¼¼ï¼ŒT-&gt;â€¦aåˆ™åŠ å…¥aï¼ŒT-&gt;â€¦Råˆ™åŠ å…¥lastvt(R)ï¼ŒT-&gt;â€¦aRåˆ™åŠ å…¥aå’Œlastvt(R)ï¼Œå¦‚æ­¤é€’å½’ã€‚ ç®—ç¬¦ä¼˜å…ˆçº§åˆ¤æ–­å¯¹äºabè€Œè¨€ï¼Œa=bã€‚å¯¹äºaAbè€Œè¨€ï¼Œa=bï¼Œaå°äºfirstvt(A)ï¼Œlastvt(A)å¤§äºbï¼Œå¦‚æ­¤æ‰«æã€‚å¯¹äºç”»è¡¨è€Œè¨€ï¼Œæ¨ªçºµéƒ½æ˜¯ç»ˆç»“ç¬¦ï¼Œå¤§å°æ¯”è¾ƒæ³¨æ„æ¨ªçºµå…³ç³»ã€‚æ²¡æœ‰å†²çªåˆ™ä¸ºç®—ç¬¦ä¼˜å…ˆçº§æ–‡æ³•ã€‚ çŸ­è¯­ï¼Œå¥æŸ„ï¼Œç´ çŸ­è¯­ï¼Œæœ€å·¦ç´ çŸ­è¯­çŸ­è¯­ï¼šå­æ ‘çš„å¶å­ä»å·¦åˆ°å³å¥æŸ„ï¼šæœ€å·¦çš„åªæœ‰ä¸¤å±‚çš„å­æ ‘çš„å¶å­ä»å·¦åˆ°å³ç´ çŸ­è¯­ï¼šè‡³å°‘åŒ…å«ä¸€ä¸ªéç»ˆç»“ç¬¦çš„ï¼Œä¸å…¶ä»–ç´ çŸ­è¯­ä¸ç›¸äº¤çš„çŸ­è¯­æœ€å·¦ç´ çŸ­è¯­ï¼šè¯­æ³•æ ‘å†…æœ€å·¦çš„ä¸€ä¸ªã€‚ åˆ†æè¿‡ç¨‹ç”»è¡¨ï¼Œè§‚å¯Ÿæ ˆé¡¶å’Œè¾“å…¥å­—ç¬¦ï¼Œæ¯”è¾ƒå…³ç³»ï¼Œå½“é‡åˆ°å¤§äºå·å’Œå°äºå·é…å¯¹æ—¶å€™åˆ™è§„çº¦ï¼Œä¸ç„¶ç§»è¿›ã€‚ ç¬¬å…­ç«  LRåˆ†ææ³•FSMæ„å»ºé¦–å…ˆå¢åŠ æ‹“å¹¿æ–‡æ³•ï¼šå¢åŠ ä¸ªå¼€å¤´ã€‚å°†ç‚¹æ”¾åœ¨æ‹“å¹¿æ–‡æ³•å³éƒ¨å¼€å¤´ï¼Œå¦‚æœæ˜¯éç»ˆç»“ç¬¦ï¼Œåˆ™åœ¨æ–¹æ¡†å†…å¢åŠ è¯¥éç»ˆç»“ç¬¦çš„äº§ç”Ÿå¼ï¼Œå¹¶å°†ç‚¹æ”¾åœ¨å³éƒ¨å¼€å¤´ã€‚å°†ç‚¹åç»­ç›¸åŒç¬¦å·çš„ï¼Œå¼•å‡ºä¸€æ¡çº¿æŒ‡å‘æ–°æ–¹æ¡†ï¼Œæ–¹æ¡†å†…ç§»åŠ¨ç‚¹åˆ°è¯¥ç¬¦å·åé¢ï¼Œå¹¶å’Œä¸Šé¢å¤„ç†ç‚¹åéç»ˆç»“ç¬¦ä¸€æ ·ã€‚è¿­ä»£æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰çŠ¶æ€ç»“æŸã€‚ åˆ†æè¡¨æ„å»ºæ³¨æ„ACTIONè¡¨å’ŒGOTOè¡¨ï¼Œå¦‚æœç‚¹åä¸ºç»ˆç»“ç¬¦åˆ™action(k,a) = Sjï¼Œkä¸ºå½“å‰è¡¨çš„æ ‡å·ï¼Œaä¸ºè¯¥ä¸­ä»‹ç¬¦å·jä¸ºåç»­è¡¨çš„æ ‡å·ã€‚å¦‚æœç‚¹åä¸ºéç»ˆç»“ç¬¦Aï¼Œåˆ™goto(k,A) = jå¦‚æœé¡¹ç›®ä¸ºè§„çº¦é¡¹ç›®ï¼Œåˆ™å¯¹äºä»»ä½•ç»ˆç»“ç¬¦a,Action(k,a)=rjï¼Œrjä¸ºç›®æ ‡äº§ç”Ÿå¼ã€‚æ³¨æ„è¿™ä¸ªaæ˜¯ä»»æ„aã€‚å¦‚æœç»“æŸäº†ï¼Œåˆ™æ”¾å…¥accå…¶ä»–ä¸ºerror åˆ†æè¡¨ä½¿ç”¨å¦‚æœå³è¾¹ä¸ºsiï¼Œåˆ™å•çº¯åœ°æ”¹å˜çŠ¶æ€ã€‚å¦‚æœå³è¾¹ä¸ºriï¼Œåˆ™å…ˆå°†æ ˆå†…ç¬¦å·å¯è§„çº¦çš„ç¬¦å·å¼¹å‡ºï¼ŒçŠ¶æ€ç½®ä¸ºå‰©ä½™çš„æ ˆé¡¶éƒ¨ç¬¦å·æ‰€å­˜åœ¨çš„çŠ¶æ€ï¼Œæ ¹æ®æ­¤çŠ¶æ€å’Œè§„çº¦å‡ºæ¥çš„éç»ˆç»“ç¬¦è¿›è¡Œè·³è½¬ã€‚å¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°ç»“æŸã€‚ LR(0)åˆ¤æ–­ç‚¹åä¸ºç»ˆç»“ç¬¦ï¼Œåˆ™ä¸ºç§»è¿›é¡¹ç›®ã€‚ç‚¹åä¸ºéç»ˆç»“ç¬¦ï¼Œåˆ™ä¸ºå¾…çº¦é¡¹ç›®ã€‚ç‚¹åä¸ºç»“æŸï¼Œåˆ™ä¸ºè§„çº¦é¡¹ç›®ã€‚ç§»è¿›ï¼Œè§„çº¦åŒæ—¶å­˜åœ¨ä¼šå†²çªã€‚è§„çº¦ï¼Œè§„çº¦å­˜åœ¨ä¹Ÿä¼šå†²çªã€‚ SLR(1)åˆ¤æ–­å¯¹äºç§»è¿›é¡¹ç›®çš„éç»ˆç»“ç¬¦bï¼Œè§„çº¦é¡¹ç›®çš„ä¸åŒäº§ç”Ÿå¼å·¦éƒ¨Bï¼ŒCï¼Œå¦‚æœbå’ŒFollow(B) Follow(C) äº’ä¸ç›¸äº¤ï¼Œåˆ™ä¸ºSLR(1)æ–‡æ³•ï¼Œåˆ¤æ–­æ—¶å€™æ ¹æ®è¾“å…¥å­—ç¬¦åœ¨è¿™ä¸‰è€…å“ªä¸ªé‡Œé¢å†³å®šç§»è¿›è¿˜æ˜¯è§„çº¦ã€‚ ç¬¬ä¸ƒç«  è¯­æ³•åˆ¶å¯¼çš„ç¿»è¯‘æ ‡å‡ºå±æ€§å€¼æ ¹æ®è¯­ä¹‰ï¼Œå¸¦å…¥è¯­æ³•æ ‘å³å¯ã€‚ ç¿»è¯‘æˆä¸‰åœ°å€ç TACä¸‰åœ°å€ç  OP A1 A2 A3 ç±»ä¼¼æ±‡ç¼– æ³¨æ„æ“ä½œå˜é‡ä¸ªæ•° ç¬¬å…«ç«  ä»£ç ä¼˜åŒ–åˆ†åŸºæœ¬å—ç¨‹åºçš„ç¬¬ä¸€ä¸ªè¯­å¥ï¼›gotoçš„ç›®æ ‡è¯­å¥ï¼›è·Ÿåœ¨æ¡ä»¶è½¬ç§»è¯­å¥åé¢çš„è¯­å¥ æŒ‰ç…§æ­¤åˆ‡åˆ† æµå›¾æœ‰å‘è¾¹ï¼šèƒ½åˆ°è¾¾åˆ™ç”»æœ‰å‘è¾¹ æ ¹æ®go è¯­å¥æ‰§è¡Œé¡ºåºæ¥ç¡®å®š æ‰¾å¾ªç¯D(N) å¿…ç»ç»“ç‚¹é›†åˆï¼ŒæŒ‡ä»å¼€å§‹åˆ°è¿™ä¸ªç‚¹ï¼Œç»•ä¸å¼€çš„ç»“ç‚¹çš„é›†åˆ å½“å­˜åœ¨a-&gt;bçš„è¾¹ï¼Œè€Œä¸”açš„å¿…ç»ç»“ç‚¹æœ‰bï¼Œåˆ™ä¸ºå›è¾¹å›è¾¹a-&gt;b å¾ªç¯å…¥å£ä¸ºa å‡ºå£ä¸ºb å…ˆæ”¾å…¥å…¥å£ å†æ”¾å…¥å‡ºå£ï¼Œç›´åˆ°æ ˆé¡¶çš„å‰é©±éƒ½æ˜¯aä¸ºæ­¢ï¼Œæ‰¾åˆ°å¾ªç¯ï¼ˆç±»ä¼¼BFSï¼‰ DAGä¼˜åŒ–å°†æ‰€æœ‰å³è¾¹çš„ï¼Œæ„ä¹‰ç›¸åŒçš„å˜é‡æ”¾åœ¨DAGä¸€ä¸ªç»“ç‚¹ä¸­ï¼Œä»¥æ“ä½œç¬¦çš„æ–¹æ³•å¢åŠ è¾¹æˆ–ç»“ç‚¹ï¼Œæ„é€ DAGï¼Œç„¶åæ ¹æ®å›¾ï¼Œé‡æ–°å‘½åå˜é‡ï¼Œé‡æ–°æ„é€ å¼å­ï¼Œæœ€åæ ¹æ®éœ€è¦å¼•ç”¨ä»€ä¹ˆæ¥èµ‹å€¼ ç¬¬ä¹ç«  ç›®æ ‡ä»£ç ç”Ÿæˆæ ¹æ®TACåºåˆ—ç”Ÿæˆç›®æ ‡ä»£ç å…ˆç¿»è¯‘ä»£ç ï¼Œç„¶åå°½é‡ä½¿ç”¨å¯„å­˜å™¨ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%81%9A%E9%A2%98%E7%89%88/"},{"title":"Bomb Labè§£æ","text":"å‰ç½®çŸ¥è¯†ï¼š æ±‡ç¼– GDB Bomb Labè§£æå‰è¨€ Bomb labæ˜¯ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹é…å¥—å®éªŒä¹‹ä¸€ã€‚å¯æ‰§è¡Œç¨‹åºåŒ…å«ç€â€œç‚¸å¼¹â€ï¼Œå¿…é¡»è¾“å…¥å…­ä¸ªæ­£ç¡®çš„å­—ç¬¦ä¸²æ¥è¿›è¡Œæ‹†å¼¹ã€‚å­—ç¬¦ä¸²å¿…é¡»é€šè¿‡å¯¹ç¨‹åºçš„æ±‡ç¼–ç è¿›è¡Œåˆ†ææ¥å¾—åˆ°ã€‚æœ¬æ–‡é€šè¿‡åˆ†ææ‹†å¼¹æµç¨‹ï¼Œå¯¹åæ±‡ç¼–æŠ€æœ¯æŠ€å·§è¿›è¡Œæ€»ç»“ã€‚ å‡†å¤‡ è¿›å…¥CSAPP LAB å®˜ç½‘è¿›è¡Œæ–‡ä»¶çš„ä¸‹è½½ã€‚è‡ªå­¦è€…ç‚¹å‡»self-study handoutä¸‹è½½tarå‹ç¼©åŒ…ã€‚è§£å‹åå¾—åˆ°3ä¸ªæ–‡ä»¶ï¼ŒBombå¯æ‰§è¡Œæ–‡ä»¶ï¼ŒBomb.cä¸»å‡½æ•°æ–‡ä»¶ï¼Œä¸READMEã€‚ å®‰è£…gdbè¿›è¡Œåæ±‡ç¼–å‡†å¤‡ã€‚ è§‚å¯Ÿä¸»å‡½æ•°æ–‡ä»¶ï¼Œæ ¹æ®å‡½æ•°æ¥æ‰“æ–­ç‚¹ã€‚ä¾‹å¦‚åœ¨ç¬¬ä¸€é˜¶æ®µä¸»å‡½æ•°æœ‰ï¼š 1234input = read_line(); phase_1(input); /* Run the phase */phase_defused(); /* Drat! They figured it out! * Let me know how they did it. */ read_line()è¯¥è¡Œåœ¨æ–‡ä»¶ç¬¬73è¡Œï¼Œå°±å¯ä»¥å…ˆå‘½ä»¤è¡Œæ‰§è¡Œgdb bombï¼Œå†break 73æ¥æ‰“æ–­ç‚¹ï¼Œåœ¨æ‰§è¡Œrunä¹‹åï¼Œå°±ä¼šåœ¨è¯¥åœ°æ–¹åœé¡¿ä¸‹æ¥ï¼Œä¾¿äºè°ƒè¯•ã€‚å¸¸ç”¨gdbæŒ‡ä»¤ï¼ši r xxx æŸ¥çœ‹xxxå¯„å­˜å™¨å­˜å‚¨çš„ä¿¡æ¯ã€‚x xxxæŸ¥çœ‹xxxå†…å­˜ä½ç½®çš„å€¼ã€‚è¯¥æŒ‡ä»¤å¯ä»¥å¸¦å‚æ•°æ¥æ”¹å˜å€¼çš„è¾“å‡ºæ ¼å¼ã€‚disas xxxå°†xxxå‡½æ•°æˆ–è€…xxxå†…å­˜ä½ç½®çš„å‡½æ•°åæ±‡ç¼–ã€‚å¯ä»¥æŸ¥çœ‹å¯¹åº”å‡½æ•°çš„æ±‡ç¼–ç ã€‚ phase_1 ç¬¬ä¸€é˜¶æ®µçš„ç‚¸å¼¹ï¼Œä¸»å‡½æ•°ä»£ç å¦‚ä¸Šæ‰€ç¤ºã€‚å¯¹phase_1å‡½æ•°è¿›è¡Œåæ±‡ç¼–ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ï¼š 123456780x0000000000400ee0 &lt;+0&gt;: sub $0x8,%rsp0x0000000000400ee4 &lt;+4&gt;: mov $0x402400,%esi0x0000000000400ee9 &lt;+9&gt;: callq 0x401338 &lt;strings_not_equal&gt;0x0000000000400eee &lt;+14&gt;: test %eax,%eax0x0000000000400ef0 &lt;+16&gt;: je 0x400ef7 &lt;phase_1+23&gt;0x0000000000400ef2 &lt;+18&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000400ef7 &lt;+23&gt;: add $0x8,%rsp0x0000000000400efb &lt;+27&gt;: retq rspä¸ºæ ˆé¡¶æŒ‡é’ˆï¼Œç¬¬ä¸€è¡Œå‡å»æ ˆé¡¶æŒ‡é’ˆæ˜¯ä¸ºå‡½æ•°ç•™å‡ºæ ˆç©ºé—´ï¼Œå¯ä»¥å¿½ç•¥ã€‚ ç¬¬äºŒè¡Œmoväº†ä¸€è¡Œæ•°æ®ï¼Œå¹¶ä¸”åé¢è°ƒç”¨äº†strings_not_equalå‡½æ•°ã€‚eaxä¸ºå‡½æ•°è¿”å›å€¼ï¼Œtestå‡½æ•°ç”¨äºæ£€æµ‹è¿”å›å€¼æ˜¯å¦ä¸º0ã€‚åé¢jeæŒ‡ä»¤ä¸º0åˆ™è·³è½¬åˆ°+23å³addè¡Œï¼Œä¸ä¸º0åˆ™çˆ†ç‚¸ã€‚ é‚£ä¹ˆæˆ‘ä»¬çŒœæµ‹0x402400ä½ç½®å­˜æ”¾äº†å­—ç¬¦ä¸²ã€‚å½“è¾“å…¥å­—ç¬¦ä¸²å’Œè¯¥å­—ç¬¦ä¸²ç›¸åŒåˆ™ä¸çˆ†ç‚¸ã€‚é€šè¿‡xæŒ‡ä»¤å¯ä»¥çœ‹å‡ºè¯¥å†…å­˜ä½ç½®ä¸ºï¼š 12(gdb) x /s 0x4024000x402400: \"Border relations with Canada have never been better.\" è¾“å…¥è¯¥å­—ç¬¦ä¸²ï¼Œå³å¯æ‹†å¼¹æˆåŠŸã€‚ phase_2 åŒä¸Šï¼Œå¯¹phase_2åæ±‡ç¼–å¯ä»¥å¾—åˆ°å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627Dump of assembler code for function phase_2: 0x0000000000400efc &lt;+0&gt;: push %rbp 0x0000000000400efd &lt;+1&gt;: push %rbx 0x0000000000400efe &lt;+2&gt;: sub $0x28,%rsp 0x0000000000400f02 &lt;+6&gt;: mov %rsp,%rsi 0x0000000000400f05 &lt;+9&gt;: callq 0x40145c &lt;read_six_numbers&gt; 0x0000000000400f0a &lt;+14&gt;: cmpl $0x1,(%rsp) 0x0000000000400f0e &lt;+18&gt;: je 0x400f30 &lt;phase_2+52&gt; 0x0000000000400f10 &lt;+20&gt;: callq 0x40143a &lt;explode_bomb&gt; 0x0000000000400f15 &lt;+25&gt;: jmp 0x400f30 &lt;phase_2+52&gt; 0x0000000000400f17 &lt;+27&gt;: mov -0x4(%rbx),%eax 0x0000000000400f1a &lt;+30&gt;: add %eax,%eax 0x0000000000400f1c &lt;+32&gt;: cmp %eax,(%rbx) 0x0000000000400f1e &lt;+34&gt;: je 0x400f25 &lt;phase_2+41&gt; 0x0000000000400f20 &lt;+36&gt;: callq 0x40143a &lt;explode_bomb&gt; 0x0000000000400f25 &lt;+41&gt;: add $0x4,%rbx 0x0000000000400f29 &lt;+45&gt;: cmp %rbp,%rbx 0x0000000000400f2c &lt;+48&gt;: jne 0x400f17 &lt;phase_2+27&gt; 0x0000000000400f2e &lt;+50&gt;: jmp 0x400f3c &lt;phase_2+64&gt; 0x0000000000400f30 &lt;+52&gt;: lea 0x4(%rsp),%rbx 0x0000000000400f35 &lt;+57&gt;: lea 0x18(%rsp),%rbp 0x0000000000400f3a &lt;+62&gt;: jmp 0x400f17 &lt;phase_2+27&gt; 0x0000000000400f3c &lt;+64&gt;: add $0x28,%rsp 0x0000000000400f40 &lt;+68&gt;: pop %rbx 0x0000000000400f41 &lt;+69&gt;: pop %rbp 0x0000000000400f42 &lt;+70&gt;: retq End of assembler dump. æ±‡ç¼–ç è¾ƒä¸Šä¸ªé˜¶æ®µæ˜æ˜¾å˜é•¿ï¼Œè¿™é‡Œåˆ†æ®µè§£æã€‚ å¯ä»¥çœ‹åˆ°é¦–å…ˆè°ƒç”¨äº†read_six_numbersæ¥è¿›è¡Œæ•°æ®çš„è¯»å–ã€‚å¯ä»¥çŒœæµ‹å¹¶è¯å®è¯¥å‡½æ•°ä½œç”¨ä¸ºè¯»å–6ä¸ªæ•°ï¼Œå¹¶æ”¾å…¥æ ˆä¸­ã€‚ ç¬¬ä¸€ä¸ªå¼•çˆ†å‡ºç°åœ¨cmpl 0x1 (rsp)åã€‚å³å°†æ ˆé¡¶å…ƒç´ ä¸1ç›¸æ¯”è¾ƒï¼Œä¸ç›¸ç­‰åˆ™çˆ†ç‚¸ã€‚é‚£ä¹ˆå¯ä»¥å¾—åˆ°ï¼Œç¬¬ä¸€ä¸ªæ•°ä¸º1ã€‚ åœ¨jmpä¹‹åå°†0x4(%rsp)ä¸0x18(%rsp)å­˜æ”¾äº†èµ·æ¥ã€‚æ ¹æ®ä¸€ä¸ªæ•°å 4ä¸ªå­—èŠ‚å¯ä»¥å¾—å‡ºï¼Œå‰è€…ä¸ºå­˜æ”¾ä¸‹ä¸€ä¸ªæ•°å€¼åˆ°rbxï¼Œåè€…ä¸ºå…­ä¸ªæ•°çš„è¾¹ç•Œã€‚ å†æ¬¡jmpä¹‹åå¯ä»¥çœ‹å‡ºï¼Œeaxå­˜æ”¾äº†rbxçš„å‰ä¸€ä¸ªæ•°ï¼Œå¹¶ä¸”ä¹˜ä»¥2äº†ã€‚cmpå³å°†å‰ä¸€ä¸ªæ•°Ã—2ä¸æœ¬æ•°å­—ç›¸æ¯”è¾ƒï¼Œä¸ç›¸ç­‰åˆ™çˆ†ç‚¸ã€‚é‚£ä¹ˆå¯ä»¥å¾—åˆ°åä¸€ä¸ªæ•°æ˜¯å‰ä¸€ä¸ªæ•°çš„2å€çš„è§„å¾‹ã€‚ åé¢çš„ä»£ç ä¸è¨€è€Œå–»ï¼Œä¾æ¬¡è¿›è¡Œæ•°çš„æ¯”è¾ƒï¼Œæœ€åè¾¹ç•Œæ£€æŸ¥ï¼Œåˆ°è¾¾è¾¹ç•Œåˆ™é€€å‡ºã€‚é‚£ä¹ˆå¯ä»¥å¾—åˆ°æ‹†å¼¹ä»£ç ï¼š 11 2 4 8 16 32 phase_3 é¦–å…ˆçœ‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435360x0000000000400f43 &lt;+0&gt;: sub $0x18,%rsp0x0000000000400f47 &lt;+4&gt;: lea 0xc(%rsp),%rcx0x0000000000400f4c &lt;+9&gt;: lea 0x8(%rsp),%rdx0x0000000000400f51 &lt;+14&gt;: mov $0x4025cf,%esi0x0000000000400f56 &lt;+19&gt;: mov $0x0,%eax0x0000000000400f5b &lt;+24&gt;: callq 0x400bf0 &lt;__isoc99_sscanf@plt&gt;0x0000000000400f60 &lt;+29&gt;: cmp $0x1,%eax0x0000000000400f63 &lt;+32&gt;: jg 0x400f6a &lt;phase_3+39&gt;0x0000000000400f65 &lt;+34&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000400f6a &lt;+39&gt;: cmpl $0x7,0x8(%rsp)0x0000000000400f6f &lt;+44&gt;: ja 0x400fad &lt;phase_3+106&gt;0x0000000000400f71 &lt;+46&gt;: mov 0x8(%rsp),%eax0x0000000000400f75 &lt;+50&gt;: jmpq *0x402470(,%rax,8)0x0000000000400f7c &lt;+57&gt;: mov $0xcf,%eax0x0000000000400f81 &lt;+62&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400f83 &lt;+64&gt;: mov $0x2c3,%eax0x0000000000400f88 &lt;+69&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400f8a &lt;+71&gt;: mov $0x100,%eax0x0000000000400f8f &lt;+76&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400f91 &lt;+78&gt;: mov $0x185,%eax0x0000000000400f96 &lt;+83&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400f98 &lt;+85&gt;: mov $0xce,%eax0x0000000000400f9d &lt;+90&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400f9f &lt;+92&gt;: mov $0x2aa,%eax0x0000000000400fa4 &lt;+97&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400fa6 &lt;+99&gt;: mov $0x147,%eax0x0000000000400fab &lt;+104&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400fad &lt;+106&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000400fb2 &lt;+111&gt;: mov $0x0,%eax0x0000000000400fb7 &lt;+116&gt;: jmp 0x400fbe &lt;phase_3+123&gt;0x0000000000400fb9 &lt;+118&gt;: mov $0x137,%eax0x0000000000400fbe &lt;+123&gt;: cmp 0xc(%rsp),%eax0x0000000000400fc2 &lt;+127&gt;: je 0x400fc9 &lt;phase_3+134&gt;0x0000000000400fc4 &lt;+129&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000400fc9 &lt;+134&gt;: add $0x18,%rsp0x0000000000400fcd &lt;+138&gt;: retq ä»£ç ä¾æ—§å¾ˆé•¿ï¼Œåˆ†éƒ¨åˆ†è¿›è¡Œè§£æã€‚ æœ€å¼€å§‹è°ƒç”¨äº†sscanfï¼Œsscanfçš„å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡å‰é¢çš„movæŒ‡ä»¤çŒœå‡ºï¼Œä½äº0x4025cfã€‚æŸ¥çœ‹å¯ä»¥å¾—çŸ¥ï¼Œè¯¥å­—ç¬¦ä¸²ä¸ºï¼šâ€œ%d %dâ€ è¯»å–äº†ä¸¤ä¸ªæ•°ï¼ŒåŠ ä¸Šå‰é¢ä¸¤ä¸ªleaæŒ‡ä»¤ï¼Œå¯ä»¥çŒœå‡ºæ•°å­˜æ”¾åœ¨0x8(rsp)å’Œ0xc(rsp)ã€‚ ç¬¬ä¸€ä¸ªå¼•çˆ†åœ¨cmp 0x1 eaxï¼Œå¯ä»¥å¾—çŸ¥è¿™æ˜¯æ ¹æ®sscanfè¿”å›å€¼æ¥çˆ†ç‚¸ã€‚å½“sscanfåŒ¹é…æ•°å­—å¤§äº1åˆ™ä¸çˆ†ç‚¸ã€‚ è·³è½¬åè¿›è¡Œäº†cmpl $0x7,0x8(%rsp)ï¼Œå³ç¬¬ä¸€ä¸ªå€¼å’Œ7è¿›è¡Œæ¯”è¾ƒã€‚å¤§äºåˆ™çˆ†ç‚¸ã€‚å³ç¬¬ä¸€ä¸ªè¾“å…¥å€¼éœ€è¦å°äºç­‰äº7ã€‚ ä¸‹ä¸€ä¸ªå°†ç¬¬ä¸€ä¸ªå€¼å­˜å…¥eaxï¼Œå¹¶ä½¿ç”¨jmpè·³è½¬ã€‚jmpq star0x402470(,%rax,8)ã€‚æˆ‘ä»¬å¯ä»¥å…ˆçœ‹çœ‹0x402470å­˜æ”¾çš„æ˜¯ä»€ä¹ˆï¼š 12(gdb) print *(0x402470)$1 = 4198268 4798268 = 0x400f7cï¼Œå³ä¸‹ä¸€è¡Œã€‚é‚£ä¹ˆæ ¹æ®åœ°å€å¯ä»¥å¾—åˆ°ï¼Œè¯¥è·³è½¬æ˜¯åˆ©ç”¨ç¬¬ä¸€ä¸ªè¾“å…¥çš„å€¼ä½œä¸ºç´¢å¼•è¿›è¡Œè·³è½¬ï¼Œè·³åˆ°å¯¹åº”æŒ‡ä»¤ã€‚ ä¸‹é¢ç»“æ„éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œå°†ä¸€ä¸ªå¸¸æ•°æ”¾å…¥eaxï¼Œå¹¶ä¸”è·³è½¬åˆ°ä¸0xc(rsp)è¿›è¡Œæ¯”è¾ƒã€‚ç›¸ç­‰åˆ™ä¸ä¼šçˆ†ç‚¸ã€‚ä»¥f7cè¡Œä¸¾ä¾‹ï¼Œå¯¹åº”å€¼ä¸º0xcf=207é‚£ä¹ˆå¯ä»¥å¾—åˆ°ä¸€ä¸ªè§£ä¸ºï¼š 10 207 phase_4 åŒä¸Šï¼Œçœ‹ä»£ç ï¼š 123456789101112131415161718192021220x000000000040100c &lt;+0&gt;: sub $0x18,%rsp0x0000000000401010 &lt;+4&gt;: lea 0xc(%rsp),%rcx0x0000000000401015 &lt;+9&gt;: lea 0x8(%rsp),%rdx0x000000000040101a &lt;+14&gt;: mov $0x4025cf,%esi0x000000000040101f &lt;+19&gt;: mov $0x0,%eax0x0000000000401024 &lt;+24&gt;: callq 0x400bf0 &lt;__isoc99_sscanf@plt&gt;0x0000000000401029 &lt;+29&gt;: cmp $0x2,%eax0x000000000040102c &lt;+32&gt;: jne 0x401035 &lt;phase_4+41&gt;0x000000000040102e &lt;+34&gt;: cmpl $0xe,0x8(%rsp)0x0000000000401033 &lt;+39&gt;: jbe 0x40103a &lt;phase_4+46&gt;0x0000000000401035 &lt;+41&gt;: callq 0x40143a &lt;explode_bomb&gt;0x000000000040103a &lt;+46&gt;: mov $0xe,%edx0x000000000040103f &lt;+51&gt;: mov $0x0,%esi0x0000000000401044 &lt;+56&gt;: mov 0x8(%rsp),%edi0x0000000000401048 &lt;+60&gt;: callq 0x400fce &lt;func4&gt;0x000000000040104d &lt;+65&gt;: test %eax,%eax0x000000000040104f &lt;+67&gt;: jne 0x401058 &lt;phase_4+76&gt;0x0000000000401051 &lt;+69&gt;: cmpl $0x0,0xc(%rsp)0x0000000000401056 &lt;+74&gt;: je 0x40105d &lt;phase_4+81&gt;0x0000000000401058 &lt;+76&gt;: callq 0x40143a &lt;explode_bomb&gt;0x000000000040105d &lt;+81&gt;: add $0x18,%rsp0x0000000000401061 &lt;+85&gt;: retq sscanfä¸ä¸Šä¸ªé˜¶æ®µä¸€æ ·ï¼Œæ¯”è¾ƒè¿”å›å€¼å¹¶ä¸”è·³è½¬ã€‚åŒæ—¶å°†ç¬¬ä¸€ä¸ªæ•°ä¸0xeè¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥å¾—åˆ°ä¸å¤§äº0xeæ‰èƒ½ä¸çˆ†ç‚¸ã€‚ ç„¶åå°†0xeï¼Œ0x0å’Œæ•°ç»„ç¬¬ä¸€ä¸ªå€¼æ”¾å…¥ç›¸åº”å¯„å­˜å™¨ï¼Œè°ƒç”¨func4ï¼Œæœ€åæ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º0ã€‚å¯ä»¥çœ‹å‡ºéœ€è¦ç»§ç»­è§£æfunc4ã€‚func4ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021220x0000000000400fce &lt;+0&gt;: sub $0x8,%rsp0x0000000000400fd2 &lt;+4&gt;: mov %edx,%eax0x0000000000400fd4 &lt;+6&gt;: sub %esi,%eax0x0000000000400fd6 &lt;+8&gt;: mov %eax,%ecx0x0000000000400fd8 &lt;+10&gt;: shr $0x1f,%ecx0x0000000000400fdb &lt;+13&gt;: add %ecx,%eax0x0000000000400fdd &lt;+15&gt;: sar %eax0x0000000000400fdf &lt;+17&gt;: lea (%rax,%rsi,1),%ecx0x0000000000400fe2 &lt;+20&gt;: cmp %edi,%ecx0x0000000000400fe4 &lt;+22&gt;: jle 0x400ff2 &lt;func4+36&gt;0x0000000000400fe6 &lt;+24&gt;: lea -0x1(%rcx),%edx0x0000000000400fe9 &lt;+27&gt;: callq 0x400fce &lt;func4&gt;0x0000000000400fee &lt;+32&gt;: add %eax,%eax0x0000000000400ff0 &lt;+34&gt;: jmp 0x401007 &lt;func4+57&gt;0x0000000000400ff2 &lt;+36&gt;: mov $0x0,%eax0x0000000000400ff7 &lt;+41&gt;: cmp %edi,%ecx0x0000000000400ff9 &lt;+43&gt;: jge 0x401007 &lt;func4+57&gt;0x0000000000400ffb &lt;+45&gt;: lea 0x1(%rcx),%esi0x0000000000400ffe &lt;+48&gt;: callq 0x400fce &lt;func4&gt;0x0000000000401003 &lt;+53&gt;: lea 0x1(%rax,%rax,1),%eax0x0000000000401007 &lt;+57&gt;: add $0x8,%rsp0x000000000040100b &lt;+61&gt;: retq func4ä»£ç ä½¿ç”¨äº†é€’å½’ï¼Œä¸æ˜¯å¾ˆå®¹æ˜“ç†è§£ï¼Œè¿™é‡Œæˆ‘å¯¹ç€æ¯ä¸€è¡Œç¿»è¯‘äº†ä¸€ä¸‹ï¼Œå†™äº†ä¸ªcè¯­è¨€ç¨‹åºï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526int func4(int edx,int esi,int edi){ int eax = edx; eax-=esi; int ecx = eax; ecx=(unsigned int)ecx&gt;&gt;0x1f; eax+=ecx; eax&gt;&gt;=1; ecx = esi*1+eax; if(ecx&lt;=edi) { eax = 0; if(ecx&gt;=edi) { return eax; }else{ esi = ecx+1; eax = 2*func4(edx,esi,edi)+1; } } else{ edx = ecx-1; eax = 2* func4(edx,esi,edi); } return eax;} ç”±äºæ˜¯ä¸€è¡Œä¸€è¡Œç¿»è¯‘çš„ï¼Œç†è§£ä¸å›°éš¾ã€‚ç¬¬ä¸€ä¸ªæ•°å¿…å®šå°äºç­‰äº11ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å¸¦å…¥å€¼éå†è¿›è¡Œè®¡ç®—ï¼Œå®è·µå¾—å‡ºè¿”å›å€¼ä¸º0çš„æƒ…å†µã€‚å½“è¾“å…¥ä¸º0 1 3 7æ—¶å€™è¿”å›å€¼ä¸º0ã€‚ æ¥ä¸‹æ¥ä»£ç ä¸éœ€è¦è¿‡å¤šè§£é‡Šï¼Œå³éªŒè¯ç¬¬äºŒä¸ªæ•°æ˜¯ä¸æ˜¯ä¸º0ã€‚é‚£ä¹ˆå¯ä»¥å¾—åˆ°ä¸€ä¸ªè§£ï¼š 10 0 phase_5 ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637380x0000000000401062 &lt;+0&gt;: push %rbx0x0000000000401063 &lt;+1&gt;: sub $0x20,%rsp0x0000000000401067 &lt;+5&gt;: mov %rdi,%rbx0x000000000040106a &lt;+8&gt;: mov %fs:0x28,%rax0x0000000000401073 &lt;+17&gt;: mov %rax,0x18(%rsp)0x0000000000401078 &lt;+22&gt;: xor %eax,%eax0x000000000040107a &lt;+24&gt;: callq 0x40131b &lt;string_length&gt;0x000000000040107f &lt;+29&gt;: cmp $0x6,%eax0x0000000000401082 &lt;+32&gt;: je 0x4010d2 &lt;phase_5+112&gt;0x0000000000401084 &lt;+34&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000401089 &lt;+39&gt;: jmp 0x4010d2 &lt;phase_5+112&gt;0x000000000040108b &lt;+41&gt;: movzbl (%rbx,%rax,1),%ecx0x000000000040108f &lt;+45&gt;: mov %cl,(%rsp)0x0000000000401092 &lt;+48&gt;: mov (%rsp),%rdx0x0000000000401096 &lt;+52&gt;: and $0xf,%edx0x0000000000401099 &lt;+55&gt;: movzbl 0x4024b0(%rdx),%edx0x00000000004010a0 &lt;+62&gt;: mov %dl,0x10(%rsp,%rax,1)0x00000000004010a4 &lt;+66&gt;: add $0x1,%rax0x00000000004010a8 &lt;+70&gt;: cmp $0x6,%rax0x00000000004010ac &lt;+74&gt;: jne 0x40108b &lt;phase_5+41&gt;0x00000000004010ae &lt;+76&gt;: movb $0x0,0x16(%rsp)0x00000000004010b3 &lt;+81&gt;: mov $0x40245e,%esi0x00000000004010b8 &lt;+86&gt;: lea 0x10(%rsp),%rdi0x00000000004010bd &lt;+91&gt;: callq 0x401338 &lt;strings_not_equal&gt;0x00000000004010c2 &lt;+96&gt;: test %eax,%eax0x00000000004010c4 &lt;+98&gt;: je 0x4010d9 &lt;phase_5+119&gt;0x00000000004010c6 &lt;+100&gt;: callq 0x40143a &lt;explode_bomb&gt;0x00000000004010cb &lt;+105&gt;: nopl 0x0(%rax,%rax,1)0x00000000004010d0 &lt;+110&gt;: jmp 0x4010d9 &lt;phase_5+119&gt;0x00000000004010d2 &lt;+112&gt;: mov $0x0,%eax0x00000000004010d7 &lt;+117&gt;: jmp 0x40108b &lt;phase_5+41&gt;0x00000000004010d9 &lt;+119&gt;: mov 0x18(%rsp),%rax0x00000000004010de &lt;+124&gt;: xor %fs:0x28,%rax0x00000000004010e7 &lt;+133&gt;: je 0x4010ee &lt;phase_5+140&gt;0x00000000004010e9 &lt;+135&gt;: callq 0x400b30 &lt;__stack_chk_fail@plt&gt;0x00000000004010ee &lt;+140&gt;: add $0x20,%rsp0x00000000004010f2 &lt;+144&gt;: pop %rbx0x00000000004010f3 &lt;+145&gt;: retq åˆ†æ­¥éª¤æ¥è¿›è¡Œè§£æã€‚é¦–å…ˆå¯ä»¥çœ‹åˆ°è°ƒç”¨äº†string_lengthï¼Œåé¢æ£€æµ‹äº†è¾“å…¥é•¿åº¦æ˜¯å¦ä¸º6ã€‚å³è¾“å…¥é•¿åº¦ä¸º6çš„å­—ç¬¦ä¸²ã€‚ ç»è¿‡ä¸€ç•ªè·³è½¬ï¼Œåˆ°è¾¾äº†movzbl (%rbx,%rax,1),%ecxã€‚ç»è¿‡æŸ¥çœ‹å¯ä»¥å¾—çŸ¥rbxå­˜æ”¾çš„æ˜¯è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œraxä¸ºç´¢å¼•ï¼Œæœ€å¼€å§‹ä¸º0ï¼Œç„¶åç»è¿‡ä¼ è¾“åï¼Œåˆ°è¾¾äº†and 0xf edxã€‚å³å°†è¯¥å­—ç¬¦asciiç ä¸0xfå–ä¸ï¼Œå³å–åå››ä½ã€‚ ç„¶åmovzbl 0x4024b0(%rdx),%edxï¼Œå³ä»¥andåçš„å€¼ç´¢å¼•å¹¶è¦†ç›–è¯¥å¯„å­˜å™¨ï¼Œåœ¨è¯¥å†…å­˜ä½ç½®å¯ä»¥çœ‹åˆ°å­—ç¬¦ä¸²ä¸ºï¼š 12(gdb) print (char*) 0x4024b0$2 = 0x4024b0 &lt;array&gt; \"maduiersnfotvbylSo you think you can stop the bomb with ctrl-c, do you?\" è¦†ç›–å¯„å­˜å™¨åå¦ä¸€ä¸ªmovï¼Œå³å°†è¯¥å­—ç¬¦æ”¾å…¥æ ˆã€‚åœ¨ä¹‹åæŒ‡è¿›è¡Œå…­æ¬¡å¾ªç¯ï¼Œå¾—åˆ°æ–°çš„å…­ä¸ªå­—ç¬¦ã€‚ åœ¨å¾—åˆ°æ–°å­—ç¬¦ä¸²ååˆè°ƒç”¨äº†string_not_equalï¼Œè€Œç›®æ ‡å­—ç¬¦ä¸²åˆ™åœ¨0x40245eï¼ŒæŸ¥çœ‹å¯ä»¥å¾—çŸ¥ï¼š 12(gdb) print (char*) 0x40245e$3 = 0x40245e \"flyers\" é‚£ä¹ˆè¯¥è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œåå››ä½æ‰€å½¢æˆçš„ç´¢å¼•éœ€è¦æ„æˆflyersæ–°å­—ç¬¦ä¸²ã€‚ä»¥0å¼€å§‹è®¡æ•°ï¼Œflyeråˆ†åˆ«åœ¨åŸå­—ç¬¦ä¸²çš„ä½ç½®æ˜¯9 15 14 5 6 7 ã€‚ ç»è¿‡æŸ¥è¡¨å¯ä»¥å¾—çŸ¥ï¼Œè¦ä½¿asciiåå››ä½ç­‰äºä¸Šè¿°æ•°åˆ—ï¼Œä¸€ä¸ªå¯è¡Œçš„ç­”æ¡ˆä¸ºï¼š 1)/.%&amp;' phase_6 æœ€é•¿ä»¥åŠå…­ä¸ªç‚¸å¼¹ä¸­æœ€éš¾çš„ä¸€ä¸ªã€‚æˆ‘å†™äº†ä¸€å¥—å®Œæ•´çš„æ³¨é‡Šæ¥æ–¹ä¾¿ç†è§£ã€‚å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091100x00000000004010f4 &lt;+0&gt;: push %r140x00000000004010f6 &lt;+2&gt;: push %r130x00000000004010f8 &lt;+4&gt;: push %r120x00000000004010fa &lt;+6&gt;: push %rbp0x00000000004010fb &lt;+7&gt;: push %rbx0x00000000004010fc &lt;+8&gt;: sub $0x50,%rsp0x0000000000401100 &lt;+12&gt;: mov %rsp,%r130x0000000000401103 &lt;+15&gt;: mov %rsp,%rsi0x0000000000401106 &lt;+18&gt;: callq 0x40145c &lt;read_six_numbers&gt;0x000000000040110b &lt;+23&gt;: mov %rsp,%r14 æ ˆé¡¶æ”¾åˆ°r140x000000000040110e &lt;+26&gt;: mov $0x0,%r12d 0æ”¾åˆ°r120x0000000000401114 &lt;+32&gt;: mov %r13,%rbp r13æ”¾åˆ°rbp0x0000000000401117 &lt;+35&gt;: mov 0x0(%r13),%eax *r13æ”¾åˆ°eax0x000000000040111b &lt;+39&gt;: sub $0x1,%eax eaxå‡10x000000000040111e &lt;+42&gt;: cmp $0x5,%eax eaxå’Œ5æ¯”å¤§å°0x0000000000401121 &lt;+45&gt;: jbe 0x401128 &lt;phase_6+52&gt; eaxå°äºç­‰äº5åˆ™ä¸ç‚¸ã€‚0x0000000000401123 &lt;+47&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000401128 &lt;+52&gt;: add $0x1,%r12d r12åŠ ä¸€0x000000000040112c &lt;+56&gt;: cmp $0x6,%r12d 0x0000000000401130 &lt;+60&gt;: je 0x401153 &lt;phase_6+95&gt; r12ç­‰äº6åˆ™è·³åˆ°95 è¾¹ç•Œæ£€æŸ¥0x0000000000401132 &lt;+62&gt;: mov %r12d,%ebx r12æ”¾è¿›ebx0x0000000000401135 &lt;+65&gt;: movslq %ebx,%rax ebxæ”¾è¿›rax0x0000000000401138 &lt;+68&gt;: mov (%rsp,%rax,4),%eax *ï¼ˆ4ä¹˜rax+rspï¼‰æ”¾è¿›eax/ç¬¬ebxä¸ªæ•°æ”¾è¿›eax0x000000000040113b &lt;+71&gt;: cmp %eax,0x0(%rbp) è¾¹ç•Œæ£€æŸ¥0x000000000040113e &lt;+74&gt;: jne 0x401145 &lt;phase_6+81&gt; ç¬¬ebxä¸ªæ•°ä¸ç¬¬r13å­˜æ”¾çš„æ•°ä¸ç›¸ç­‰åˆ™è·³è¿‡0x0000000000401140 &lt;+76&gt;: callq 0x40143a &lt;explode_bomb&gt;0x0000000000401145 &lt;+81&gt;: add $0x1,%ebx ebxåŠ ä¸€0x0000000000401148 &lt;+84&gt;: cmp $0x5,%ebx æ¯”è¾ƒebxå’Œ50x000000000040114b &lt;+87&gt;: jle 0x401135 &lt;phase_6+65&gt; å°äºç­‰äºåˆ™è·³åˆ°650x000000000040114d &lt;+89&gt;: add $0x4,%r13 r13åŠ 40x0000000000401151 &lt;+93&gt;: jmp 0x401114 &lt;phase_6+32&gt; è·³åˆ°32ebxä¸ºå†…å±‚å¾ªç¯å˜é‡jã€‚r12ä¸ºå¤–å±‚å¾ªç¯å˜é‡iã€‚for(i=0;i&lt;=5;i++){ if((*r13)-1&lt;=5) not explode; for(j=i+1;j&lt;=5;j++) { if((*r13)!=(*(rsp+j))) not explode; } r13++;}0x0000000000401153 &lt;+95&gt;: lea 0x18(%rsp),%rsi æ•°ç»„çš„æœ«å°¾æ”¾è¿›rspæ”¾è¿›rsi0x0000000000401158 &lt;+100&gt;: mov %r14,%rax r14æ”¾è¿›rax æ•°ç»„å¼€å¤´æ”¾å…¥rax0x000000000040115b &lt;+103&gt;: mov $0x7,%ecx 0x7æ”¾è¿›ecx0x0000000000401160 &lt;+108&gt;: mov %ecx,%edx ecxæ”¾è¿›edx0x0000000000401162 &lt;+110&gt;: sub (%rax),%edx edxå‡å»raxå€¼0x0000000000401164 &lt;+112&gt;: mov %edx,(%rax) edxå€¼å­˜å…¥raxå€¼0x0000000000401166 &lt;+114&gt;: add $0x4,%rax raxåœ°å€åŠ 40x000000000040116a &lt;+118&gt;: cmp %rsi,%rax æ¯”è¾ƒraxå’Œrsi0x000000000040116d &lt;+121&gt;: jne 0x401160 &lt;phase_6+108&gt; ä¸ç­‰äºåˆ™è·³å›108a[i] = 7-a[i]0x000000000040116f &lt;+123&gt;: mov $0x0,%esi esiå½’é›¶0x0000000000401174 &lt;+128&gt;: jmp 0x401197 &lt;phase_6+163&gt; è·³åˆ°1630x0000000000401176 &lt;+130&gt;: mov 0x8(%rdx),%rdx edx+8çš„å€¼æ”¾è¿›edx0x000000000040117a &lt;+134&gt;: add $0x1,%eax eax+10x000000000040117d &lt;+137&gt;: cmp %ecx,%eax æ¯”è¾ƒecxå’Œeax0x000000000040117f &lt;+139&gt;: jne 0x401176 &lt;phase_6+130&gt; ä¸ç­‰äºåˆ™è·³å›1300x0000000000401181 &lt;+141&gt;: jmp 0x401188 &lt;phase_6+148&gt; è·³åˆ°1480x0000000000401183 &lt;+143&gt;: mov $0x6032d0,%edx 0x6032d0æ”¾åˆ°edx 0x0000000000401188 &lt;+148&gt;: mov %rdx,0x20(%rsp,%rsi,2) edxæ”¾è¿›*(rsp+2*rsi)+0x200x000000000040118d &lt;+153&gt;: add $0x4,%rsi rsi+40x0000000000401191 &lt;+157&gt;: cmp $0x18,%rsi è¾¹ç•Œæ£€æŸ¥0x0000000000401195 &lt;+161&gt;: je 0x4011ab &lt;phase_6+183&gt; è·³åˆ°1830x0000000000401197 &lt;+163&gt;: mov (%rsp,%rsi,1),%ecx æŠŠrsp+rsiæ”¾è¿›ecx rsiä¸º0 4 8 16 32 640x000000000040119a &lt;+166&gt;: cmp $0x1,%ecx æ¯”è¾ƒecxå’Œ1 æ¯”è¾ƒæ•°ç»„å€¼0x000000000040119d &lt;+169&gt;: jle 0x401183 &lt;phase_6+143&gt; æ•°ç»„å€¼å°äºç­‰äº1åˆ™è·³å›1430x000000000040119f &lt;+171&gt;: mov $0x1,%eax eaxæ”¾æˆ10x00000000004011a4 &lt;+176&gt;: mov $0x6032d0,%edx 0x6032d0æ”¾è¿›edx0x00000000004011a9 &lt;+181&gt;: jmp 0x401176 &lt;phase_6+130&gt; è·³åˆ°130130-139 å¾ªç¯ä½¿å¾—edx = 0x6032d0+8*a[i]ç„¶åæ”¾å…¥*(rsp+2*rsi+0x20) rsiä¸ºæ•°ç»„çš„ç´¢å¼• 0x00000000004011ab &lt;+183&gt;: mov 0x20(%rsp),%rbx rsp+20æ”¾è¿›rbx0x00000000004011b0 &lt;+188&gt;: lea 0x28(%rsp),%rax rsp+28æ”¾è¿›rax0x00000000004011b5 &lt;+193&gt;: lea 0x50(%rsp),%rsi rsp+50æ”¾è¿›rsi0x00000000004011ba &lt;+198&gt;: mov %rbx,%rcx rbxæ”¾è¿›rcx0x00000000004011bd &lt;+201&gt;: mov (%rax),%rdx raxå€¼æ”¾å…¥rdx0x00000000004011c0 &lt;+204&gt;: mov %rdx,0x8(%rcx) rdxæ”¾å…¥rcxå€¼+80x00000000004011c4 &lt;+208&gt;: add $0x8,%rax rax+80x00000000004011c8 &lt;+212&gt;: cmp %rsi,%rax æ¯”è¾ƒrsiå’Œrax è¾¹ç•Œæ£€æŸ¥0x00000000004011cb &lt;+215&gt;: je 0x4011d2 &lt;phase_6+222&gt; ç›¸ç­‰åˆ™è·³å…¥2220x00000000004011cd &lt;+217&gt;: mov %rdx,%rcx rdxæ”¾è¿›rcx0x00000000004011d0 &lt;+220&gt;: jmp 0x4011bd &lt;phase_6+201&gt; è·³å›2010x00000000004011d2 &lt;+222&gt;: movq $0x0,0x8(%rdx) rdx+8ç½®é›¶ç±»ä¼¼äºé“¾è¡¨æ“ä½œã€‚rdx = *rax *(rcx+8) = *rax rax+=8 rcx = rdx æŒ‰ç…§æ•°ç»„çš„é¡ºåºé‡æ–°è¿æ¥é“¾è¡¨ã€‚0x00000000004011da &lt;+230&gt;: mov $0x5,%ebp ebpæ”¾50x00000000004011df &lt;+235&gt;: mov 0x8(%rbx),%rax rbx+8å€¼æ”¾è¿›rax0x00000000004011e3 &lt;+239&gt;: mov (%rax),%eax raxå€¼æ”¾è¿›eax0x00000000004011e5 &lt;+241&gt;: cmp %eax,(%rbx) æ¯”è¾ƒeaxå’Œrbxå€¼0x00000000004011e7 &lt;+243&gt;: jge 0x4011ee &lt;phase_6+250&gt; rbxå€¼å¤§äºç­‰äºeaxåˆ™è·³åˆ°2500x00000000004011e9 &lt;+245&gt;: callq 0x40143a &lt;explode_bomb&gt;0x00000000004011ee &lt;+250&gt;: mov 0x8(%rbx),%rbx rbx+8å€¼æ”¾å…¥rbx0x00000000004011f2 &lt;+254&gt;: sub $0x1,%ebp ebpå‡å»10x00000000004011f5 &lt;+257&gt;: jne 0x4011df &lt;phase_6+235&gt; å¦‚æœä¸ä¸º0åˆ™è·³å›235 éå†é“¾è¡¨ï¼Œä¿è¯é“¾è¡¨çš„éå†é¡ºåºä¸ºæ•°ç»„çš„é™åºã€‚0x00000000004011f7 &lt;+259&gt;: add $0x50,%rsp0x00000000004011fb &lt;+263&gt;: pop %rbx0x00000000004011fc &lt;+264&gt;: pop %rbp0x00000000004011fd &lt;+265&gt;: pop %r120x00000000004011ff &lt;+267&gt;: pop %r130x0000000000401201 &lt;+269&gt;: pop %r140x0000000000401203 &lt;+271&gt;: retq å…·ä½“æ³¨é‡Šå¦‚ä¸Šï¼Œè¯¥é˜¶æ®µä½¿ç”¨äº†ç±»ä¼¼äºé“¾è¡¨çš„æ“ä½œã€‚é€šè¿‡è¾“å…¥å…­ä¸ªæ•°å­—ï¼Œç„¶åä½¿ç”¨7å‡å»æ¯ä¸ªæ•°å­—ï¼Œå†å°†æ•°å­—çš„ç´¢å¼•é¡ºåºåŒ¹é…ä¸ºé“¾è¡¨çš„è¿æ¥é¡ºåºï¼Œå†è§‚å¯Ÿé“¾è¡¨é‡Œçš„å€¼å®ç°é™åºæ’åˆ—ã€‚ å†æœ¬æ¬¡ä¸­ï¼Œé“¾è¡¨çš„å€¼å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678(gdb) x /12xg 0x6032d00x6032d0 &lt;node1&gt;: 0x000000010000014c 0x00000000006032e00x6032e0 &lt;node2&gt;: 0x00000002000000a8 0x00000000006032f00x6032f0 &lt;node3&gt;: 0x000000030000039c 0x00000000006033000x603300 &lt;node4&gt;: 0x00000004000002b3 0x00000000006033100x603310 &lt;node5&gt;: 0x00000005000001dd 0x00000000006033200x603320 &lt;node6&gt;: 0x00000006000001bb 0x0000000000000000 ç”±äºä½¿ç”¨32ä½å¯„å­˜å™¨ï¼Œåªç”¨çœ‹åå…«ä½è¿›è¡Œæ’åºã€‚39c&gt;2b3&gt;1dd&gt;1bb&gt;14c&gt;0a8 å³ä¸º3 4 5 6 1 2 ã€‚åœ¨è¿›è¡Œ7-ä¹‹åå¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼š 14 3 2 1 6 5 éšè—å…³å¡ å®åœ¨å†™ä¸åŠ¨äº†ï¼Œæ®è¯´æ˜¯ä¸ªäºŒå‰æ ‘ã€‚æˆ‘æ”¾å¼ƒäº†ã€‚ æ€»ç»“ä¸å¿ƒå¾— æœ¬æ¬¡å®éªŒä¸»è¦æ˜¯ç†Ÿæ‚‰äº†æ±‡ç¼–è¯­è¨€ä»¥åŠåæ±‡ç¼–æµç¨‹ï¼Œç†Ÿæ‚‰äº†gdbçš„ä½¿ç”¨ã€‚æœ€å¼€å§‹åšlabçš„æ—¶å€™ï¼Œæˆ‘å¯¹æ±‡ç¼–å®Œå…¨æ²¡æœ‰ä»»ä½•äº†è§£ï¼Œä»æœ€å¼€å§‹çš„æ¯ä¸€è¡Œéƒ½éœ€è¦ç™¾åº¦ï¼Œåˆ°æœ€åç†è§£äº†æ¯ä¸€è¡Œçš„å«ä¹‰ï¼Œæˆ‘ç¡®å®äº†è§£äº†å¾ˆå¤šè®¡ç®—æœºç›¸å…³çŸ¥è¯†ã€‚æ€»è€Œè¨€ä¹‹æˆ‘è‡ªå·±è®¤ä¸ºè¿™æ¬¡æ”¶è·è¿˜æ˜¯å¾ˆå¤§çš„ã€‚æœ‰äººè¯´æ±‡ç¼–æ˜¯æœ€åçš„åº•çº¿ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´è§‰å¾—æ±‡ç¼–å¯¹äºæˆ‘è¿™ç§å†™é«˜çº§è¯­è¨€çš„æ²¡ä»€ä¹ˆå…³ç³»ï¼Œæ¯•ç«Ÿç¼–è¯‘å™¨ä¼˜åŒ–åçš„æ±‡ç¼–æœ¬æ¥å°±å¾ˆéš¾è¯»å¾—æ‡‚ï¼Œä½†ç°åœ¨è§‰å¾—åªè¦é»˜è®¤ä¸ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œå¤šäº†ä¸€ç§æ‰¾bugçš„æ–¹æ³•ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/bomb-lab%E8%A7%A3%E6%9E%90/"},{"title":"2020 6.824 lab1è§£æ","text":"å‰ç½®çŸ¥è¯†ï¼š go linux 2020 6.824 lab1è§£æå‰è¨€ æœ¬ç³»åˆ—ä¸»è¦æ˜¯å¯¹mitè¯¾ç¨‹6.824çš„labè¿›è¡Œè§£æï¼ŒåŒ…æ‹¬éƒ¨åˆ†åŸç†çš„è®²è§£ä»¥åŠä»£ç çš„å®ç°ã€‚ä¸»è¦ä½¿ç”¨goæ¥è¿›è¡Œç¼–å†™ã€‚æœ¬æ–‡è®²è§£çš„æ˜¯lab1ï¼Œæ ¹æ®ç»™å®šçš„ä»£ç æ¡†æ¶æ¥å®ç°MapReduceç»“æ„ã€‚ ä»‹ç» 6.824æ˜¯mitçš„åˆ†å¸ƒå¼ç³»ç»Ÿè¯¾ç¨‹ï¼Œè€Œè¯¥è¯¾ç¨‹çš„å®éªŒä¹Ÿå°±æ˜¯labç›®çš„ä¸ºé€šè¿‡ç»™å®šçš„ä»£ç æ¡†æ¶æ¥å®ç°é€šç”¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚è¯¥è¯¾ç¨‹labåœ¨2020å¹´è¿›è¡Œäº†éƒ¨åˆ†æ›´æ–°ï¼Œä¾‹å¦‚æœ¬æ¬¡çš„lab1å°±è¿›è¡Œäº†å¤§æ”¹ï¼Œä¸å‰å‡ å¹´å‡ ä¹å®Œå…¨ä¸åŒï¼Œå› æ­¤ä»¥å¾€ç½‘ç»œä¸Šçš„å„è·¯æ•™ç¨‹ä¹Ÿå°±è¿‡æ—¶äº†ã€‚è¯¦ç»†è¯¾ç¨‹èµ„æºå¯ä»¥åˆ°6.824å®˜æ–¹ç½‘ç«™è¿›è¡ŒæŸ¥çœ‹ã€‚ æœ¬æ–‡çš„lab1å®ç°çš„æ˜¯MapReduceæ¶æ„ï¼Œä½œä¸ºè°·æ­Œåœ¨2003å¹´å‘è¡¨çš„è®ºæ–‡ï¼Œä¸ºç°åœ¨çš„åˆ†å¸ƒå¼è®¡ç®—æ€æƒ³æä¾›äº†å¾ˆæ˜ç¡®çš„æ–¹å‘ã€‚å®ƒç»§æ‰¿äºå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œå¹¶ä¸”åœ¨è°·æ­Œå†…éƒ¨çœŸæ­£è¿›è¡Œäº†å®ç°ä¸è¿ç”¨ã€‚æœ¬æ–‡ä¾¿æ ¹æ®ç»™å®šçš„ä»£ç æ¡†æ¶ä»¥åŠè®ºæ–‡æ€æƒ³ï¼Œæ¥å®ç°è¿™ä¹ˆä¸€ä¸ªæ¨¡å‹ã€‚ åŸç†ç®€ä»‹ MapReduceå¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œæºäºå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œç®€å•æ¥è¯´Mapå¯¹åº”â€œæ˜ å°„â€ï¼ŒReduceå¯¹åº”â€œå½’çº¦â€ï¼Œå‰è€…å°†æ•°æ®åˆ‡åˆ†ä»è€Œæ˜ å°„åˆ°é”®å€¼å¯¹ï¼ˆkey-valueå¯¹ï¼‰ç»„ï¼Œåè€…å°†é”®å€¼å¯¹ç»„è¿›è¡Œæ•´ç†å½’çº³ï¼Œå¹¶æ•´åˆåˆ°è¾“å‡ºæ–‡ä»¶ã€‚è¯¥ç®—æ³•çš„ä¼˜åŠ¿åœ¨äºä¼˜ç§€çš„å¹¶è¡ŒåŒ–ï¼Œå¯ä»¥ä½¿ç”¨å¤šå°è®¡ç®—æœºæ¥åº”å¯¹è®¡ç®—è§„æ¨¡çš„å¢åŠ ï¼Œä»è€ŒèŠ‚çœæ—¶é—´ã€‚ ä½†åœ¨å…·ä½“åŸç†ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦é˜…è¯»è°·æ­Œå‘è¡¨çš„é‚£ç¯‡è®ºæ–‡ä»è€Œäº†è§£æ›´å¤šç»†èŠ‚ã€‚è¯¥è®ºæ–‡å†™çš„å¾ˆå¥½ï¼Œåœ¨å®ç°ç»†èŠ‚ä¸ç†è§£çš„æƒ…å†µä¸‹å»ºè®®å¤šè¯»å‡ éã€‚ä½†åœ¨è¿™é‡Œè¿˜æ˜¯ç®€è¿°ä¸€ä¸‹è®ºæ–‡çš„è§‚ç‚¹ã€‚ è®ºæ–‡ä¸­æä¾›äº†ç¼–ç¨‹æ¨¡å‹çš„å®ç°ï¼šé€šè¿‡masteræœºå™¨æ¥ç»Ÿç­¹å·¥ä½œï¼Œé€šè¿‡workeræœºå™¨æ¥è¿›è¡Œå…·ä½“çš„mapæˆ–è€…reduceå·¥ä½œã€‚masterç»™workeråˆ†é…mapæˆ–è€…reduceå·¥ä½œï¼Œworkeræ¥æ”¶åˆ°mapå·¥ä½œæ—¶ä¾¿è¯»å–å¯¹åº”æ•°æ®ï¼Œæ‰§è¡Œmapå·¥ä½œï¼Œå°†mapå®Œæˆåçš„é”®å€¼å¯¹ç»„å­˜äºç£ç›˜ï¼Œå¹¶ä¸”é€šçŸ¥masterå®Œæˆå·¥ä½œã€‚å½“masteräº†è§£åˆ°æ‰€æœ‰mapå·¥ä½œå®Œæˆåï¼Œä¾¿é€šçŸ¥workerè¿›è¡Œreduceå·¥ä½œã€‚workeræ¥æ”¶åˆ°æŒ‡ä»¤åä¾¿è¯»å–ç£ç›˜ä¸Šçš„å¯¹åº”é”®å€¼å¯¹ã€‚ç„¶åé€šå¸¸å…ˆå¯¹é”®å€¼å¯¹ç»„è¿›è¡Œæ’åºï¼Œç„¶åè¿›è¡Œreduceå·¥ä½œï¼Œå¹¶å­˜äºè¾“å‡ºæ–‡ä»¶ä¸­ã€‚åŒæ ·ï¼Œåœ¨masteräº†è§£åˆ°æ‰€æœ‰æ–‡ä»¶å·²ç»reduceå®Œæˆåä¾¿å¯ä»¥è¿›è¡Œé€€å‡ºã€‚ ä¸‹é¢æœ¬æ–‡çš„å®éªŒä¹Ÿå°†åŸºäºä¸Šè¿°æ¨¡å‹æ¥å®ç°ã€‚ å‡†å¤‡å·¥ä½œ è¿›å…¥lab1å®˜ç½‘ï¼Œå®˜ç½‘çš„å‡†å¤‡å·¥ä½œè¯´çš„ç›¸å½“æ¸…æ¥šã€‚è¦å‡†å¤‡linuxç¯å¢ƒï¼Œgoç¯å¢ƒï¼Œç„¶åä¸‹è½½å®éªŒæ–‡ä»¶ã€‚è¿™é‡Œéœ€è¦ä¸€äº›åŸºæœ¬çš„linuxçŸ¥è¯†ï¼Œä¸è¿‡å®˜ç½‘å·²ç»å°†æ­¥éª¤ç»™çš„ç›¸å½“æ¸…æ¥šäº†ã€‚å†æ¬¡ä¸è¿‡å¤šèµ˜è¿°ã€‚ å®éªŒç›®æ ‡ä¸æµç¨‹ ä»å®˜ç½‘å¯ä»¥çœ‹åˆ°ï¼Œlab1çš„å®éªŒç›®æ ‡æ˜¯å®Œæˆmræ–‡ä»¶å¤¹ä¸­çš„master.go rpc.go worker.goä¸‰ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨mainæ–‡ä»¶å¤¹ä¸­é€šè¿‡mrmaster.goæ¥åˆ›å»ºä¸€ä¸ªmasterï¼Œé€šè¿‡æ‰§è¡Œå¤šæ¬¡mrworker.goæ¥åˆ›å»ºå¤šä¸ªworkeræ¥è¿è¡Œã€‚åŒæ—¶å®éªŒä¹Ÿç»™å®šäº†ä¸€ä¸ªä¸²è¡Œçš„ç»“æœæ­£ç¡®çš„æ–‡ä»¶mrsequential.goï¼Œå¯ä»¥æ¥å‚è€ƒä»¥åŠæ”¹bugã€‚åœ¨å®éªŒæœ€åï¼Œæˆ‘ä»¬éœ€è¦å¯¹å†™å¥½çš„æ–‡ä»¶è¿›è¡Œæµ‹è¯•ã€‚æ–‡ä»¶ç»™äº†æˆ‘ä»¬ä¸€ä¸ªshellè„šæœ¬test-mr.shï¼Œè¯¥è„šæœ¬ä¼šæ‰§è¡ŒçœŸæ­£çš„åº”ç”¨ç¨‹åºä»¥åŠç»™å®šå„ç§å®éªŒåœºæ™¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡è¯¥æµ‹è¯•ã€‚ åœ¨mræ–‡ä»¶å¤¹ä¸­ï¼Œrpc.goè´Ÿè´£masterä¸workerä¹‹é—´çš„é€šä¿¡ã€‚è¿™é‡Œå¯èƒ½éœ€è¦rpcçš„ä¸€äº›çŸ¥è¯†æ¥ç†è§£ï¼Œä½†åœ¨æœ¬æ¬¡å®éªŒä¸­å¯ä»¥ç®€å•ç†è§£ä¸ºworkerä»¥rpc.goå†…çš„ç»“æ„ä½“ä¸ºå‚æ•°ï¼Œè°ƒç”¨master.goæ–‡ä»¶ä¸­çš„å‡½æ•°æ¥ä¸masterè¿›è¡Œé€šè®¯ã€‚åœ¨masterå’Œworkerçš„æ–‡ä»¶å†…ä¹Ÿç»™å®šäº†æ ·ä¾‹ï¼Œå¹¶ä¸”åœ¨workerå†…éƒ¨è¿˜å°è£…å¥½äº†callå‡½æ•°ï¼Œå³ä½¿ä¸ç†è§£rpcä¹Ÿå¯ä»¥å­¦æ ·ä¾‹ç¼–å†™ç¨‹åºã€‚ åœ¨workeræ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°Workerçš„å‚æ•°ä¸ºä¸¤ä¸ªfuncï¼Œå³mapå’Œreduceä¸¤ä¸ªå‡½æ•°ï¼Œè¿™æ˜¯åœ¨åˆ›å»ºworkeræ—¶å€™å°±ç»™å®šçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°åœ¨workerå‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸»åŠ¨æ‰¾masterè¦å·¥ä½œã€‚åŒæ—¶åœ¨å®Œæˆå·¥ä½œåï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ‰¾masteræ±‡æŠ¥å·¥ä½œï¼ŒåŒæ—¶æ¥å—ä¸‹ä¸€ä»½å·¥ä½œï¼Œç›´åˆ°masterè®©ä½ ä¼‘å‡ï¼ˆä½†ä¼‘å‡å®Œè¿˜æ˜¯è¦ä¸Šç­ï¼‰æˆ–è€…masterå·æ¬¾è·‘è·¯ã€‚ï¼ˆå¤ªèµ„æœ¬ä¸»ä¹‰äº†ï¼‰ åœ¨masteræ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°åˆå§‹åŒ–masteræ—¶å€™ç»™å®šäº†æ–‡ä»¶ååºåˆ—ä»¥åŠreduceåæ–‡ä»¶çš„æ•°é‡ã€‚æ¯«æ— ç–‘é—®ï¼Œæˆ‘ä»¬å…ˆè¦æŠŠè¿™äº›å­˜èµ·æ¥ã€‚ç„¶åæ ¹æ®ä¸Šè¿°workerçš„å·¥ä½œæµç¨‹ï¼Œmasterçš„å·¥ä½œä¹Ÿå¯ä»¥ç¡®è®¤ï¼šæ¥å—workerçš„å·¥ä½œè¯·æ±‚ï¼ŒæŸ¥çœ‹æ‰‹é‡Œæœ‰å•¥ç©ºé—²çš„å·¥ä½œï¼Œæœ‰mapå°±ç»™mapï¼Œmapæ´»éƒ½æ¥å®Œä½†æ˜¯æ²¡å¹²å®Œçš„å°±è®©å‘˜å·¥å…ˆä¼‘å‡ï¼Œç­‰åˆ°mapæ´»å¹²å®Œå†æ¥åˆ†é…reduceå·¥ä½œã€‚reduceå·¥ä½œéƒ½å¹²å®Œäº†å°±å¯ä»¥å·æ¬¾è·‘è·¯ï¼ˆè°ƒç”¨Doneå‡½æ•°return trueï¼‰äº†ã€‚ï¼ˆå¤ªèµ„æœ¬ä¸»ä¹‰äº†ï¼‰ å·¥ä½œæµç¨‹åŸºæœ¬å¦‚ä¸Šï¼Œè™½ç„¶å¾ˆå½¢è±¡ï¼Œä½†æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å…·ä½“ç”¨ä»£ç å»å®ç°å®ƒã€‚ RPC.go masterä¸workerè¦é€šè¿‡rpcè¿›è¡Œé€šè®¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥è§„èŒƒå¥½é€šè®¯åè®®ï¼ŒçŸ¥é“å‘˜å·¥è¯¥å‘Šè¯‰è€æ¿å•¥ï¼Œè€æ¿è¯¥å‘Šè¯‰å‘˜å·¥å•¥ï¼Œæ‰èƒ½æ›´å¥½åœ°å±•å¼€å·¥ä½œã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†workerå‘ç»™masterçš„æ•°æ®ç§°ä¸ºè¯·æ±‚ï¼Œåè¿‡æ¥ç§°ä¸ºç›¸åº”ã€‚ é¦–å…ˆï¼Œæ— è®ºæ˜¯mapå·¥ä½œè¿˜æ˜¯reduceå·¥ä½œï¼Œæ— è®ºæ˜¯åˆ†é…å·¥ä½œè¿˜æ˜¯æ±‡æŠ¥å·¥ä½œï¼Œéƒ½è¦é€šè¿‡æ–‡ä»¶æ¥è¿›è¡Œã€‚masteréœ€è¦å‘Šè¯‰workerå»è¯»å–å“ªä¸ªæ–‡ä»¶ï¼Œworkeréœ€è¦å‘Šè¯‰masterå“ªä¸ªæ–‡ä»¶å·²ç»å®Œæˆäº†ã€‚å› æ­¤åœ¨è¯·æ±‚å’Œç›¸åº”äºŒè€…ä¸­ï¼Œå¯ä»¥ç¡®å®šçš„ä¸€é¡¹æ˜¯filenameã€‚æ•°æ®ç±»å‹è¿™é‡Œé€‰ç”¨çš„æ˜¯stringã€‚ å…¶æ¬¡ï¼Œé™¤äº†å·¥ä½œåœ°ç‚¹ä¹Ÿå°±æ˜¯æ–‡ä»¶åä¹‹å¤–ï¼Œè¿˜è¦æ±‡æŠ¥å·¥ä½œç±»å‹ï¼Œæ˜¯mapè¿˜æ˜¯reduceã€‚æ‰€ä»¥æ— è®ºæ˜¯è¯·æ±‚è¿˜æ˜¯ç›¸åº”ï¼Œéƒ½éœ€è¦æœ‰è¡¨ç¤ºå·¥ä½œç±»å‹çš„æ•°æ®ã€‚è¿™é‡Œæˆ‘åœ¨è¯·æ±‚ä¸­ä½¿ç”¨Statusè¿›è¡Œè¡¨ç¤ºï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è¡¨ç¤ºworkerè‡ªå·±å®Œæˆäº†å·¥ä½œè¿˜æ˜¯åœ¨ä¼‘å‡ï¼›å“åº”ä¸­ä½¿ç”¨JobNameè¿›è¡Œè¡¨ç¤ºã€‚æ•°æ®ç±»å‹å‡ä¸ºstringã€‚æˆ–è®¸æœ‰äº›è‹±è¯­ä¸å‡†ç¡®ä½†é—®é¢˜ä¸å¤§ã€‚ æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä»£ç ï¼š 1234567891011type RPCArgs struct { Status string Filename string}type RPCReplys struct { JobName string Filename string NReduce int NMap int} è¿™é‡Œargsä¸ºè¯·æ±‚ï¼Œreplysä¸ºå“åº”ã€‚åœ¨å“åº”ä¸­å¤šäº†ä¸¤é¡¹ï¼Œæ˜¯ä¸ºäº†workeræ›´å¥½åœ°å·¥ä½œè€Œä¼ é€çš„ï¼Œåœ¨ä»‹ç»workeræ—¶å€™ä¼šè¿›è¡Œä»‹ç»ã€‚ master æ˜ç¡®æ²Ÿé€šåè®®åï¼Œmasterçš„å·¥ä½œå°±å¾ˆæ˜ç¡®äº†ï¼šå­˜å‚¨å„ç§å·¥ä½œçŠ¶æ€ï¼Œåˆ†é…å·¥ä½œï¼Œæ¥å—æ±‡æŠ¥å·¥ä½œå¹¶ä¸”æ”¹å˜å·¥ä½œçš„çŠ¶æ€ï¼Œå¹¶åœ¨æ‰€æœ‰å·¥ä½œç»“æŸè‡ªå·±é€€å‡ºã€‚æˆ‘ä»¬å…ˆæ ¹æ®ä¸Šè¿°æè¿°äº†è§£masteréœ€è¦å­˜ä»€ä¹ˆã€‚ é¦–å…ˆï¼ŒMakeMasterå‚æ•°ä¸­çš„filenameså’ŒnReduceè‚¯å®šæ˜¯è¦å­˜çš„ï¼Œæ¯«æ— ç–‘é—®ã€‚ å…¶æ¬¡ï¼Œéœ€è¦å­˜å‚¨å„ä¸ªå·¥ä½œçš„çŠ¶æ€ã€‚åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨æ•°ç»„æ¥è¡¨ç¤ºï¼Œ0è¡¨ç¤ºæœªåˆ†é…ï¼Œ1è¡¨ç¤ºå·¥ä½œä¸­ï¼Œ2è¡¨ç¤ºå·²å®Œæˆã€‚è¿™æ ·åšçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯åœ¨å·¥ä½œæ—¶é—´è¿‡é•¿çš„æ—¶å€™å¯ä»¥é‡æ–°æŠŠè¯¥å·¥ä½œè®¾ç½®ä¸ºæœªåˆ†é…ï¼Œä»è€Œè¾¾åˆ°å®¹é”™çš„æ•ˆæœã€‚è¿™é‡Œéœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼ŒmapTasks []int å’Œ reduceTasks []intã€‚ ç¬¬ä¸‰ï¼Œæ ‡å¿—å·¥ä½œå®Œæˆçš„æ ‡è¯†ç¬¦ã€‚è¿™é‡Œç”¨çš„mapDoneå’ŒreduceDoneä¸¤ä¸ªintæ¥æ ‡è¯†ã€‚è¿™ä¹Ÿæ˜¯ç¡®è®¤å·¥ä½œå®Œæˆæ¥åˆ‡æ¢åˆ°reduceå·¥ä½œçš„æ ‡å¿—ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹å£°æ˜ï¼š 12345678910type Master struct { // Your definitions here. filenames []string mapTasks []int32 reduceTasks []int32 nReduce int nMap int mapDone int reduceDone int} å¯ä»¥çœ‹åˆ°å¤šäº†ä¸ªnMapï¼Œä¹Ÿæ˜¯ä¸ºäº†workerä¾¿äºå·¥ä½œè€Œå­˜æ”¾çš„ã€‚ MakeMasterå‡½æ•°ä¾¿ä¸ç”¨å¤šè¯´ï¼Œè¿›è¡Œåˆå§‹åŒ–å³å¯ã€‚ ç¡®å®šå®Œåè®®åï¼Œå°±éœ€è¦çœŸæ­£çš„å‡½æ•°æ¥è¿›è¡Œé€šä¿¡å¤„ç†ã€‚è¿™é‡Œä½¿ç”¨çš„å‡½æ•°æˆ‘å‘½åä¸ºGetJobï¼Œæ¥å—å‚æ•°å¦‚ä¸‹ï¼š 1func (m *Master) GetJob(args *RPCArgs, reply *RPCReplys) error ç¡®å®šåè®®åå°±éœ€è¦åšäº‹äº†ã€‚é¦–å…ˆæˆ‘ä»¬æ¥æ¥å—workerçš„æ±‡æŠ¥å·¥ä½œï¼Œå¦‚æœä»–å®Œæˆçš„å·¥ä½œå«mapï¼Œåˆ™æ‰¾åˆ°ä»–å®Œæˆçš„å·¥ä½œï¼Œåˆ’æ‰å·¥ä½œã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š 12345678if args.Status == \"map\" { for index, value := range m.filenames { if args.Filename == value &amp;&amp; atomic.LoadInt32(&amp;m.mapTasks[index]) == 1 { atomic.StoreInt32(&amp;m.mapTasks[index], 2) break } }} æ¨ªå‘æœ‰ç‚¹é•¿ï¼Œä¸»è¦æ˜¯å› ä¸ºä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æ•°ç»„ï¼Œè¦ä¿è¯æ•°ç»„æ“ä½œçš„åŸå­æ€§ï¼Œä»è€Œè°ƒç”¨å‡½æ•°ã€‚reduceä»£ç åŸºæœ¬ä¸€æ ·ï¼Œä¸è¿‡å¤šèµ˜è¿°ã€‚ æ¥æ”¶æ±‡æŠ¥åä¾¿è¦å…ˆæ£€æµ‹å·¥ä½œå¹²å®Œæ²¡æœ‰ï¼Œå¹²å®Œäº†å°±å¯ä»¥ç›´æ¥ç»“æŸã€‚æ²¡å¹²å®Œå°±ç»§ç»­å‘é…ã€‚è¿™é‡Œæ£€æµ‹æ˜¯å¦å®Œæˆä¸ç»ˆæ­¢masterè¿›ç¨‹çš„å‡½æ•°ä¸€æ ·ï¼Œè°ƒç”¨äº†Doneå‡½æ•°ã€‚ Doneå‡½æ•°éå†å·¥ä½œæ± ï¼Œå¦‚æœæ‰€æœ‰å·¥ä½œéƒ½åšå®Œäº†ï¼Œåˆ™åˆ æ‰MapReduceçš„ä¸­é—´äº§ç”Ÿçš„é”®å€¼å¯¹ç»„ï¼Œè¿”å›trueå€¼ã€‚å¦åˆ™è¿”å› falseã€‚è¿™é‡Œå†™çš„éº»çƒ¦äº†ç‚¹ï¼Œè€Œä¸”åˆ æ‰ä¸­é—´äº§ç‰©ä¹Ÿä¸åº”è¯¥ç”±masteræ¥åšï¼Œåœ¨shellæµ‹è¯•è„šæœ¬ä¸­ç”±shellæ¥æ¸…ç©ºäº†ä¸­é—´äº§ç‰©ã€‚ä½†æœ€ç»ˆå¯ä»¥è¿‡æµ‹è¯•å°±è¡Œã€‚ 12345678910111213141516171819202122232425262728293031func (m *Master) Done() bool { ret := false m.mapDone = 1 m.reduceDone = 1 for _, value := range m.mapTasks { if value != 2 { m.mapDone = 0 break } } for _, value := range m.reduceTasks { if value != 2 { m.reduceDone = 0 break } } if m.mapDone == 1 &amp;&amp; m.reduceDone == 1 { ret = true fmt.Println(\"Done jobs\") for i := 0; i &lt; m.nReduce; i++ { for j := 0; j &lt; m.nMap; j++ { f, err := os.OpenFile(\"mr-\"+strconv.Itoa(i)+\"-\"+strconv.Itoa(j), os.O_RDWR|os.O_TRUNC, 0666) if err != nil { fmt.Println(err) } f.Close() } }//åˆ æ‰ä¸­é—´äº§ç‰© } return ret} åœ¨ç»“æŸæ¡ä»¶ç¡®è®¤ä¹‹åï¼Œèº«ä¸ºmasterä¾¿å¯ä»¥å°½æƒ…å‘é…å·¥ä½œäº†ã€‚å‘é…å·¥ä½œæµç¨‹æ˜¯ï¼Œæ£€æµ‹ç¬¬ä¸€ä¸ªæœªåˆ†é…å·¥ä½œï¼Œå¦‚æœæœ‰åˆ™åˆ†é…ä¸‹å»å¹¶ä¸”å¼€å§‹è®¡æ—¶ï¼Œè®¡æ—¶ç»“æŸå¦‚æœæœªå®Œæˆè¯´æ˜é­å—äº†æ„å¤–å®Œæˆä¸äº†ï¼Œé‡æ–°å˜ä¸ºæœªåˆ†é…ã€‚å¦‚æœå®Œæˆäº†åˆ™ä¸€åˆ‡å®‰å¥½ã€‚å¦‚æœæ‰€æœ‰å·¥ä½œéƒ½åˆ†é…äº†ä½†æœ‰çš„æœªå®Œæˆï¼Œä¾¿å¯ä»¥å…ˆå«å‘˜å·¥ä¼‘å‡ã€‚ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920if m.mapDone == 0 { index := m.getMapIndex()//æ‰‹åŠ¨å°è£…çš„å‡½æ•°ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º0çš„æ•°ç»„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›-1 if index != -1 { reply.JobName = \"map\" reply.Filename = m.filenames[index] reply.NMap = index//åœ¨mapæ—¶å€™ä¼ é€indexæ•°ï¼Œåœ¨reduceæ—¶å€™ä¼ è¾“nmapæ€»æ•°ï¼Œä¾¿äºä¸­é—´æ–‡ä»¶çš„å‘½å atomic.StoreInt32(&amp;m.mapTasks[index], 1) go func() { time.Sleep(time.Duration(10) * time.Second) if atomic.LoadInt32(&amp;m.mapTasks[index]) != 2 { atomic.StoreInt32(&amp;m.mapTasks[index], 0) } }()//è®¡æ—¶å™¨ï¼Œå®Œæˆäº†åˆ™å®‰å¥½ï¼Œæœªå®Œæˆåˆ™æ”¹æˆæœªåˆ†é… } else { reply.JobName = \"free\"//ä¼‘å‡ reply.Filename = \"\" } } reduceåŒç†ï¼Œä¸è¿‡å¤šèµ˜è¿°ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†masterä¸workeræ‰€éœ€è¦é€šä¿¡çš„æ‰€æœ‰ä¸œè¥¿â€¦â€¦é™¤äº†å‡½æ•°è¿”å›å€¼ã€‚æˆ‘ä»¬éœ€è¦è¿”å›ä¸€ä¸ªerrorç±»å‹ã€‚æˆ‘é€‰æ‹©çš„æ˜¯å¹²è„†è¿”å›ä¸€ä¸ªnilã€‚ ä¸è¦å¿˜äº†nMapå’ŒnReduceä¸¤ä¸ªé€šä¿¡å‚æ•°ï¼Œåœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¼šç”¨åˆ°ã€‚ è‡³æ­¤ï¼Œmasteréƒ¨åˆ†ç»“æŸäº†ï¼Œæ¥ä¸‹æ¥è®²è§£workeréƒ¨åˆ†ã€‚ worker workeréƒ¨åˆ†æˆ‘ä»¬éœ€è¦å®Œæˆçš„ä¹Ÿå°±æ˜¯ä¸»è¦çš„Workerå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯é‚£ä¸ªæ¥æ”¶ä¸¤ä¸ªå‡½æ•°ä¸ºå‚æ•°çš„å‡½æ•°ã€‚æˆ‘ä»¬éœ€è¦å®Œæˆçš„ä¹Ÿå¾ˆç®€å•ï¼šå¾ªç¯è°ƒç”¨GetJobæ¥è”ç³»Masterï¼Œæ¥æ”¶åˆ°mapæ´»åˆ™å¹²mapï¼Œæ¥æ”¶åˆ°reduceæ´»åˆ™å¹²reduceï¼Œæ¥æ”¶åˆ°æš‚åœä»»åŠ¡åˆ™sleepä¸€ä¸‹ï¼Œå¦‚æœè”ç³»ä¸åˆ°åˆ™è¯´æ˜Masterå·¥ä½œå·²ç»å®Œæˆï¼Œå¹²è„†è‡ªå·±ä¹Ÿé€€å‡ºå°±è¡Œã€‚ workerä¸»è¦éƒ¨åˆ†ä¹Ÿå°±ç¡®å®šäº†ã€‚ä¸€ä¸ªå¤§å¾ªç¯ä½“ï¼Œæœ€å¼€å¤´æ˜¯è”ç³»Masterè·å¾—ä»»åŠ¡ï¼Œä»£ç å¦‚ä¸‹ï¼š 123if call(\"Master.GetJob\", &amp;args, &amp;reply) == false { return } æ³¨æ„ï¼Œgoæ˜¯æ²¡æœ‰whileçš„ï¼Œä½ éœ€è¦ä½¿ç”¨forå¾ªç¯ã€‚ æ¥æ”¶åˆ°mapå·¥ä½œåï¼Œå…ˆæ‰“å¼€è€æ¿ç»™çš„æ–‡ä»¶åï¼Œè¯»å–æ–‡ä»¶ï¼Œå°†æ–‡ä»¶è°ƒç”¨mapå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªé”®å€¼å¯¹ç»„ï¼Œå­˜å…¥ä¸­é—´æ–‡ä»¶ä¸­ã€‚ä¸­é—´æ–‡ä»¶çš„å‘½åä¾¿æœ‰è®²ç©¶ï¼šé‡‡ç”¨å°†keyå“ˆå¸Œæˆæ•°å­—ï¼Œç„¶åå¯¹nReduceè¿›è¡Œå–ä½™è®¡ç®—ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç›¸åŒçš„keyè®¡ç®—å€¼æ˜¯ä¸€æ ·çš„ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†åˆ†å¸ƒå¼è®¡ç®—çš„æ­£ç¡®æ€§ã€‚å°†æ­¤æ•°å­—ä½œä¸ºä¸­é—´æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ï¼ŒåŒæ—¶å¦ä¸€éƒ¨åˆ†é‡‡ç”¨mapçš„å·ç ï¼Œä¹Ÿå°±æ˜¯ä¼ è¾“è¿‡æ¥çš„NMapå·ï¼Œæ¥æ„æˆäºŒå…ƒç»„ã€‚è¿™æ ·å³ä¿è¯äº†æ¯ä¸ªmapä»»åŠ¡çš„ç»“æœäº’ä¸å¹²æ‰°ï¼Œåœ¨ä¸€ä¸ªmapä»»åŠ¡æŒ‚æ‰åé‡æ–°æ‰§è¡Œè¯¥mapï¼Œèƒ½å¤Ÿç›´æ¥æ¸…ç©ºæ–‡ä»¶å¹¶å†æ¬¡ç¼–å†™ã€‚å½“è¿›è¡Œreduceä»»åŠ¡çš„æ—¶å€™ï¼Œç”±äºmapæ•°å­—æ˜¯å›ºå®šçš„ï¼Œä¾¿äºç´¢å¼•ã€‚ ç”±äºåœ¨mrsequential.goä¸­å®ç°äº†ä¸²è¡Œçš„MapReduceï¼Œå› æ­¤å¯ä»¥å¤åˆ¶ç²˜è´´ä¸€éƒ¨åˆ†ä»£ç åˆ°é‡Œé¢ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233else if reply.JobName == \"map\" { filename := reply.Filename file, err := os.Open(filename) if err != nil { log.Fatalf(\"cannot open %v\", filename) } content, err := ioutil.ReadAll(file) if err != nil { log.Fatalf(\"cannot read %v\", filename) } file.Close() kva := mapf(filename, string(content))//è¯»å–æ–‡ä»¶ï¼Œè°ƒç”¨map var files []*os.File for i := 0; i &lt; reply.NReduce; i++ { f, err := ioutil.TempFile(\"./\", \"tmp-map*\")//å»ºç«‹ä¸´æ—¶æ–‡ä»¶ï¼Œå¯ä»¥ä¿è¯ç¨‹åºæ„å¤–é€€å‡ºåèƒ½å¤Ÿç›´æ¥æ¸…ç©º if err != nil { fmt.Println(err) } files = append(files, f) } for _, kv := range kva { name := ihash(kv.Key) % reply.NReduce//å“ˆå¸Œæ“ä½œ f := files[name] fmt.Fprintf(f, \"%v %v\\n\", kv.Key, kv.Value)//å°†keyç›¸åŒçš„æ”¾è¿›ä¸€ä¸ªæ–‡ä»¶ } for index, value := range files { value.Close()//ä¿å­˜ä¸´æ—¶æ–‡ä»¶ï¼ŒåŒæ—¶æ”¹åä¸ºæ­£å¼çš„ä¸­é—´æ–‡ä»¶çš„åå­—ã€‚ä¹Ÿå°±æ˜¯NMAPçš„ä½œç”¨ os.Rename(value.Name(), \"mr-\"+strconv.Itoa(index)+\"-\"+strconv.Itoa(reply.NMap)) } args.Status = \"map\" args.Filename = filename reply = RPCReplys{} } ä»£ç ä¸çŸ­ï¼Œä½†æœ‰æ³¨é‡Šï¼Œå¾ˆå®¹æ˜“ç†è§£ã€‚ åˆ°reduceéƒ¨åˆ†ï¼Œreduceéƒ¨åˆ†å¹²çš„æ´»ä¾¿æ˜¯æ‰“å¼€reduceå·å¯¹åº”çš„æ‰€æœ‰ä¸­é—´æ–‡ä»¶ï¼Œè¯»å–ä»–ä»¬ï¼Œå¹¶å¯¹ä»–ä»¬è¿›è¡Œæ’åºã€‚ç„¶åï¼ŒåŒæ ·æ˜¯ä¸ºäº†å®¹é”™ï¼Œæ ¹æ®reduceå·å»ºç«‹è¾“å‡ºæ–‡ä»¶çš„ä¸´æ—¶æ–‡ä»¶ã€‚ç„¶åï¼Œéå†æ’åºè¿‡çš„é”®å€¼å¯¹ç»„ï¼Œå°†keyå€¼ç›¸åŒçš„æ–‡ä»¶ï¼Œè°ƒç”¨reduceå‡½æ•°å½’çº³æ•´ç†ï¼Œå°†ç»“æœè¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ã€‚æœ€åï¼Œé‡å‘½åä¸´æ—¶æ–‡ä»¶åˆ°æ­£å¼æ–‡ä»¶ã€‚ ä¸mapç›¸åŒï¼Œç”±äºåœ¨mrsequential.goä¸­æœ‰å¯¹æ’åºçš„å®ç°ä»¥åŠæ–‡ä»¶åå­—å‘½åçš„è§„èŒƒï¼Œæ–‡ä»¶å†…å®¹çš„è§„èŒƒï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¤åˆ¶ç²˜è´´è¿‡æ¥ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051else if reply.JobName == \"reduce\" { var kvs []KeyValue var kv KeyValue filecode := reply.Filename for i := 0; i &lt; reply.NMap; i++ { filename := \"mr-\" + filecode + \"-\" + strconv.Itoa(i) ifile, err := os.OpenFile(filename, os.O_RDONLY, 0666)//æ ¹æ®reduceå·è®¡ç®—ä¸­é—´æ–‡ä»¶åå­—ï¼Œè¯»å–æ‰€æœ‰ä¸­é—´æ–‡ä»¶ if err != nil { log.Fatalf(\"cannot read %v\", filename) } for { _, err := fmt.Fscanf(ifile, \"%v %v\", &amp;kv.Key, &amp;kv.Value) if err != nil { fmt.Println(err) break } kvs = append(kvs, kv) } ifile.Close() } fmt.Println(\"len =\", len(kvs)) sort.Sort(ByKey(kvs))//å¯¹é”®å€¼å¯¹ç»„æ’åºï¼ŒByKeyå¯ä»¥å‚è€ƒmrsequential.go oname := \"mr-out-\" + reply.Filename ofile, err := ioutil.TempFile(\"./\", \"out-tmp*\")//ä¸´æ—¶æ–‡ä»¶ï¼Œä¾¿äºå‡ºé”™æ—¶ç›´æ¥ä¸¢å¼ƒ if err != nil { fmt.Println(\"output error\") } else { i := 0 for i &lt; len(kvs) { j := i + 1 for j &lt; len(kvs) &amp;&amp; kvs[j].Key == kvs[i].Key { j++ } values := []string{} for k := i; k &lt; j; k++ { values = append(values, kvs[k].Value) } output := reducef(kvs[i].Key, values) fmt.Fprintf(ofile, \"%v %v\\n\", kvs[i].Key, output) i = j } } ofile.Close()//è¿™ä¸€éƒ¨åˆ†å‚è€ƒmrsequential.go os.Rename(ofile.Name(), oname)//é‡å‘½å args.Status = \"reduce\" args.Filename = reply.Filename reply = RPCReplys{}} è‡³æ­¤ï¼ŒworkeråŸºæœ¬å®Œæˆäº†ã€‚è¿˜æœ‰ä¸ªä¼‘å‡éƒ¨åˆ†ï¼Œç®€å•çš„sleepå°±è¡Œï¼Œä¸è¿‡å¤šèµ˜è¿°ã€‚ æ•´ä¸ªMapReduceå®éªŒä¾¿å®Œæ•´åœ°å®Œæˆäº†ã€‚ æµ‹è¯• ä»£ç å†™å®Œå½“ç„¶è¦æµ‹è¯•ã€‚åœ¨lab1çš„å®˜ç½‘ä¸Šï¼Œç»™äº†æˆ‘ä»¬ä¸€ä¸ªå¾ˆå¥½çš„å„ç§æµ‹è¯•åŠæ³•ã€‚å…·ä½“å¯ä»¥å‚è€ƒå®˜ç½‘ã€‚è¿™é‡Œè¯´è¯´æœ€ç»ˆæµ‹è¯•ã€‚ æœ€åæˆ‘ä»¬è¦æ‰§è¡Œçš„ï¼Œæ˜¯test-mr.shçš„shellè„šæœ¬ã€‚æµ‹è¯•æ€»å…±äº”é¡¹ï¼šæµ‹è¯•word countç¨‹åºï¼Œæµ‹è¯•indexerç¨‹åºï¼Œmapå¹¶è¡ŒåŒ–æµ‹è¯•,reduceå¹¶è¡ŒåŒ–æµ‹è¯•ä»¥åŠå®¹é”™æµ‹è¯•ã€‚å‰ä¸¤ä¸ªæ˜¯åº”ç”¨æµ‹è¯•ã€‚ä¸­é—´ä¸¤ä¸ªæˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæµ‹çš„ï¼Œæˆ‘ä¹Ÿæ²¡çœ‹Shellæºç ï¼Œåæ­£ç›´æ¥è¿‡äº†ã€‚æœ€åä¸€ä¸ªå®¹é”™æµ‹è¯•å€¼å¾—å¤šè¯´å‡ å¥ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­ä¼šé‡åˆ°å„ç§å„æ ·çš„é”™è¯¯ï¼Œåœ¨ä¸Šé¢å®ç°çš„å®¹é”™ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡masteråœ¨åˆ†é…å·¥ä½œåæ£€æµ‹ç»™å®šæ—¶é—´å†…æ˜¯å¦å®Œæˆï¼Œæœªå®Œæˆåˆ™é‡æ–°åˆ†é…ï¼Œåªèƒ½è§£å†³workeræŒ‚æ‰çš„é—®é¢˜ã€‚æœ¬æ¬¡æµ‹è¯•çš„ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä½†ç°å®ç”Ÿæ´»ä¸­ï¼Œå¯èƒ½masterä¹Ÿä¼šæŒ‚æ‰ã€‚è¿™äº›é—®é¢˜åœ¨è®ºæ–‡ä¸­æä¾›äº†è§£å†³çš„æ€è·¯ã€‚åŒæ—¶åœ¨è®ºæ–‡ä¸­ä¹Ÿæœ‰ç€å¤šç§ä¼˜åŒ–çš„æŠ€å·§ä¸æ€è·¯ï¼Œæ‰€ä»¥è®ºæ–‡å€¼å¾—å¤šè¯»å‡ éã€‚ åœ¨æ‰§è¡Œå®Œtest-mr.shæœ€åï¼Œä¼šæœ‰å¦‚ä¸‹è¾“å‡ºã€‚å¦‚æœä½ çš„ç»“æœå’Œä»¥ä¸‹ä¸€æ ·ï¼Œæ­å–œä½ ï¼Œä½ å®Œæˆäº†æœ¬æ¬¡å®éªŒã€‚ 12--- crash test: PASS*** PASSED ALL TESTS æ€»ç»“ ç°åœ¨æ˜¯å‡Œæ™¨2.15ï¼Œå†™æœ¬åšå®¢æ¯”é¢„å…ˆæ„æƒ³æ‰€èŠ±çš„æ—¶é—´è¦æ›´é•¿ã€‚å†™6.824çš„è®¡åˆ’å…¶å®åŠå¹´å‰å­¦å®Œgoå°±æƒ³å†™äº†ï¼Œä½†ç”±äºå„ç§åŸå› æ‹–åˆ°æœ€è¿‘æ‰å†™å®Œï¼Œä»ä¸‹è½½6.824åˆ°å†™å®Œlab1è¿‡æ‰æ‰€æœ‰teståªèŠ±äº†ä¸¤å¤©æ—¶é—´ï¼Œå’Œé¢„æƒ³å·®ä¸å¤šã€‚å†™æœ¬æ–‡èŠ±äº†ä¸¤ä¸ªåŠå¤šå°æ—¶ã€‚åŠå¹´å‰æœ€å¼€å§‹åŠ¨æ‰‹çš„æ—¶å€™æ„Ÿè§‰ç›¸å½“çš„è¿·èŒ«ï¼Œä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ï¼Œå…ˆæ˜¯å¯¹goä¸ç†Ÿæ‚‰ï¼Œæ€•å„ç§é”™è¯¯ç³Šä¸€è„¸ï¼Œç„¶åæ˜¯å¯¹é¡¹ç›®æ–‡ä»¶çš„ä¸ç†Ÿæ‚‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»”ç»†çœ‹å®˜ç½‘ï¼Œè¯»è®ºæ–‡ï¼Œæœèµ„æ–™ç€å®èµ·åˆ°äº†å¾ˆå¤§çš„å¸®åŠ©ã€‚ä¹Ÿå¹¸äºMapReduceè®ºæ–‡çœ‹äº†å¥½å‡ éï¼Œè®©æˆ‘äº¤ä¸Šäº†ä¿¡æ¯æ£€ç´¢è¯¾çš„ä½œä¸šã€‚ æ€»ä¹‹ï¼Œæ­£ç¡®æ—©æ—¥å†™å®Œ6.824ï¼Œä¸è¦ç•™å‘ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/2020-6-824-lab1%E8%A7%A3%E6%9E%90/"},{"title":"åˆæ¢å®¹å™¨åŒ–ï¼šéš”ç¦»ï¼Œé™åˆ¶ä¸docker run","text":"æœ¬æ–‡ä¸ºå®¹å™¨åŒ–æŠ€æœ¯ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡ã€‚æœ¬æ–‡å°†ä»‹ç»å®¹å™¨åŒ–ä¸­çš„éš”ç¦»ï¼Œé™åˆ¶çš„åŸç†ï¼Œå¹¶ä¸”å®é™…ç¼–å†™ä¸€ä¸ªç±»dockeråº”ç”¨ï¼Œå¹¶ä¸”å®é™…æ‰§è¡Œdocker runå‘½ä»¤ã€‚ å‰ç½®çŸ¥è¯† Linux Go åˆæ¢å®¹å™¨åŒ–ï¼šéš”ç¦»ï¼Œé™åˆ¶ä¸docker runç›®å½• å‰è¨€ éš”ç¦» Namepspaces ç³»ç»Ÿ Goçš„ç³»ç»Ÿè°ƒç”¨ é™åˆ¶ CgroupsæŠ€æœ¯ Cgroupså®æˆ˜ docker run åŸºæœ¬ç»“æ„ å®æˆ˜docker_run ä¸‹ä¸€æ­¥åšä»€ä¹ˆ æ€»ç»“ä¸åè®° éš”ç¦»Namepspaces ç³»ç»Ÿï¼š Namespaces ç³»ç»Ÿæ˜¯linuxå¯¹äºç³»ç»Ÿèµ„æºçš„ä¸€ç§æŠ½è±¡ï¼Œå®ƒä½¿å¾—è¿›ç¨‹è®¤ä¸ºåœ¨åŒä¸€namespacesç³»ç»Ÿä¸‹çš„è¿›ç¨‹ä¹‹é—´èƒ½å¤Ÿäº’ç›¸æ„ŸçŸ¥ï¼Œè€Œå¯¹namespaceå¤–ä¸€æ— æ‰€çŸ¥ï¼Œä»è€Œå®ç°éš”ç¦»çš„æ•ˆæœã€‚ linuxæœ€æ–°ç‰ˆæœ¬ä¸­ï¼Œæ ¹æ®ä¸åŒçš„åŠŸèƒ½ï¼Œå®ç°äº†7ä¸ªnamespaceç³»ç»Ÿï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š NamespaceConstantIsolatesCgroupCLONE_NEWCGROUPCgroup root directoryIPCCLONE_NEWIPCSystem V IPC, POSIX message queuesNetworkCLONE_NEWNETNetwork devices, stacks, ports, etc.MountCLONE_NEWNSMount pointsPIDCLONE_NEWPIDProcess IDsUserCLONE_NEWUSERUser and group IDsUTSCLONE_NEWUTSHostname and NIS domain name è¯¦æƒ…å¯è§man namespacesã€‚å…·ä½“å‘½åç©ºé—´æ•°é‡ç”±linuxç‰ˆæœ¬å†³å®šï¼Œåœ¨è¿™é‡Œï¼Œç”±äºåªå®ç°ç®€æ˜“ç‰ˆæœ¬ï¼Œæˆ‘ä»¬åªä½¿ç”¨åˆ°IPC Network Mount PID User UTSè¿™å‡ ä¸ªnamespaceã€‚åœ¨å†…æ ¸ç‰ˆæœ¬3.8ä¹‹åï¼Œè¿™å‡ ä¸ªnamespaceéƒ½å¯ç”¨ã€‚ åœ¨manæ–‡æ¡£ä¸­ï¼Œç»™äº†æˆ‘ä»¬å‡ ç§ç³»ç»Ÿè°ƒç”¨çš„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š cloneï¼šåˆ›å»ºæ–°è¿›ç¨‹ï¼Œæ ¹æ®flagæ•°ï¼Œä¸ºæ¯ä¸€ä¸ªflagåˆ›å»ºä¸€ä¸ªnamespaceï¼Œå°†è¿›ç¨‹å°å…¥è¿›å»ã€‚ setnsï¼šå°†è°ƒç”¨çš„è¿›ç¨‹å°è£…è¿›å·²ç»å­˜åœ¨çš„namespaceé‡Œé¢ã€‚ unshareï¼šå°†æ­£åœ¨è°ƒç”¨çš„è¿›ç¨‹å°è£…è¿›ç”±flagsç¡®ç«‹çš„æ–°çš„namespacesé‡Œé¢ã€‚ ioctl:æŸ¥çœ‹namespacesçš„ä¿¡æ¯ã€‚ æ–‡æ¡£ä¸­ç»™å‡ºäº†è¿™äº›ä¿¡æ¯ï¼Œä½†æˆ‘ä»¬ä¸ä¸€å®šéœ€è¦ä½¿ç”¨è£¸éœ²çš„apiï¼Œgoä¸ºæˆ‘ä»¬å°è£…äº†å®ƒã€‚ Goçš„ç³»ç»Ÿè°ƒç”¨ï¼š åœ¨goçš„syscallåº“ä¸­ï¼Œä¸ºæˆ‘ä»¬å°è£…äº†ç³»ç»Ÿè°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®SysProcAttrç»“æ„ä½“ï¼Œæ¥è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€‚è¯¥ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š 12345678910111213141516171819type SysProcAttr struct { Chroot string // Chroot. Credential *Credential // Credential. Ptrace bool // Enable tracing. Setsid bool // Create session. Setpgid bool // Set process group ID to Pgid, or, if Pgid == 0, to new pid. Setctty bool // Set controlling terminal to fd Ctty (only meaningful if Setsid is set) Noctty bool // Detach fd 0 from controlling terminal Ctty int // Controlling TTY fd Foreground bool // Place child's process group in foreground. (Implies Setpgid. Uses Ctty as fd of controlling TTY) Pgid int // Child's process group ID if Setpgid. Pdeathsig Signal // Signal that the process will get when its parent dies (Linux only) Cloneflags uintptr // Flags for clone calls (Linux only) Unshareflags uintptr // Flags for unshare calls (Linux only) UidMappings []SysProcIDMap // User ID mappings for user namespaces. GidMappings []SysProcIDMap // Group ID mappings for user namespaces. // GidMappingsEnableSetgroups enabling setgroups syscall. // If false, then setgroups syscall will be disabled for the child process. // This parameter is no-op if GidMappings == nil. Otherwise for unprivileged // users this should be set to false for mappings work. GidMappingsEnableSetgroups bool AmbientCaps []uintptr // Ambient capabilities (Linux only) } åœ¨ç»“æ„ä½“ä¸­ï¼Œæˆ‘ä»¬ç€é‡å…³æ³¨Cloneflags,Unshareflags,UidMappings,GidMappings,è¿™äº›åœ¨namespacesç³»ç»Ÿä¸­ï¼Œå¯èƒ½ä¼šç”¨å¾—åˆ°ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå°demoï¼Œç”¨äºå±•ç¤ºå¦‚ä½•ä½¿ç”¨SysProcAttrå»åˆ›å»ºè¿›ç¨‹å¹¶ä¸”å°å…¥æ–°çš„namespaceé‡Œé¢ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738package mainimport ( \"syscall\" \"os/exec\" \"os\" \"fmt\")func main(){ cmd:=exec.Command(\"sh\") fmt.Println(\"start namespace demo\") cmd.SysProcAttr = &amp;syscall.SysProcAttr{ Cloneflags: syscall.CLONE_NEWUTS|syscall.CLONE_NEWIPC|syscall.CLONE_NEWPID|syscall.CLONE_NEWNS|syscall.CLONE_NEWUSER, UidMappings: []syscall.SysProcIDMap{ { ContainerID: syscall.Getuid(), HostID: syscall.Getuid(), Size: 1, }, }, GidMappings: []syscall.SysProcIDMap{ { ContainerID: syscall.Getgid(), HostID: syscall.Getgid(), Size: 1, }, } } cmd.Stdin = os.Stdin cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr if err:=cmd.Run();err!=nil { log.Fatal(err) } fmt.Println(\"end namespace demo\")} åœ¨demoï¼Œåˆ›å»ºäº†å­è¿›ç¨‹ï¼Œå¯åŠ¨äº†ä¸€ä¸ªshï¼Œå¹¶ä¸”å°å…¥äº†å„ä¸ªnamespaceä¸­ã€‚åœ¨è¿™ä¸ªdemoä¸­ï¼Œå¯ä»¥å°è¯•å„ç§æŒ‡ä»¤æ¥å°è¯•éš”ç¦»æ€§ï¼Œå¦‚ps -efã€‚ é™åˆ¶CgroupsæŠ€æœ¯ NamespaceæŠ€æœ¯ä¿è¯äº†å„ä¸ªè¿›ç¨‹çš„éš”ç¦»ã€‚è€Œè‹¥è¦æ·»åŠ è¯¸å¦‚å†…å­˜å¤§å°çš„é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ cgroupsæŠ€æœ¯ã€‚ Control cgroupsï¼Œé€šå¸¸ç§°ä¸ºcgroupsï¼Œæ˜¯linuxå†…æ ¸æä¾›çš„ç‰¹æ€§ï¼Œå®ƒèƒ½ä½¿è¿›ç¨‹è¢«ç»„ç»‡è¿›hierarchical groupsï¼Œå¯ä»¥ç”¨æ¥é™åˆ¶å’Œç›‘è§†å„ç§èµ„æºçš„ä½¿ç”¨ã€‚å†…æ ¸çš„cgroupæ¥å£é€šè¿‡ä¼ªæ–‡ä»¶ç³»ç»Ÿcgroupfsæ¥è°ƒç”¨ã€‚åˆ†ç»„æ“ä½œåœ¨cgroupå†…æ ¸ä¸­å®ç°ï¼Œè€Œèµ„æºè·Ÿè¸ªå’Œé™åˆ¶åˆ™æ˜¯é€šè¿‡èµ„æºç±»å‹å­ç³»ç»Ÿæ¥å®ç°ã€‚ cgroup æ˜¯ç»‘å®šåˆ°é€šè¿‡ cgroup æ–‡ä»¶ç³»ç»Ÿå®šä¹‰çš„ä¸€ç»„é™åˆ¶æˆ–å‚æ•°çš„è¿›ç¨‹çš„é›†åˆã€‚ subsystems æ˜¯ä¿®æ”¹cgroupè¿›ç¨‹çš„è¡Œä¸ºçš„å†…æ ¸ç»„å»ºã€‚å„å¼å„æ ·çš„å­ç³»ç»Ÿèƒ½å¤Ÿç”¨æ¥æ‰§è¡Œä¸€äº›æ“ä½œï¼Œè¯¸å¦‚é™åˆ¶cpuæ—¶é—´æˆ–è€…å†…å­˜ã€‚subsytemsä¹Ÿè¢«æˆä¸ºèµ„æºæ§åˆ¶å™¨ã€‚ æ§åˆ¶å™¨çš„cgroupæŒ‰å±‚æ¬¡ç»“æ„æ’åˆ—ã€‚ é€šè¿‡åœ¨cgroupæ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºï¼Œåˆ é™¤å’Œé‡å‘½åå­ç›®å½•æ¥å®šä¹‰æ­¤å±‚æ¬¡ç»“æ„ã€‚ åœ¨å±‚æ¬¡ç»“æ„çš„æ¯ä¸ªçº§åˆ«ï¼Œéƒ½å¯ä»¥å®šä¹‰å±æ€§ï¼ˆä¾‹å¦‚ï¼Œé™åˆ¶ï¼‰ã€‚ cgroupæä¾›çš„é™åˆ¶ï¼Œæ§åˆ¶å’Œè®¡è´¹é€šå¸¸åœ¨å®šä¹‰å±æ€§çš„cgroupä¹‹ä¸‹çš„æ•´ä¸ªå­å±‚æ¬¡ç»“æ„ä¸­éƒ½æœ‰æ•ˆï¼Œä¾‹å¦‚ï¼Œåä»£ä¸èƒ½è¶…è¿‡åœ¨å±‚æ¬¡ç»“æ„ä¸­è¾ƒé«˜çº§åˆ«ä¸Šæ”¾ç½®åœ¨cgroupä¸Šçš„é™åˆ¶cgroupsã€‚ Cgroupså®æˆ˜ ç¯å¢ƒéœ€è¦ stressç¨‹åº ç”¨äºæ¨¡æ‹Ÿç³»ç»Ÿè´Ÿè½½è¾ƒé«˜åœºæ™¯ é¦–å…ˆæˆ‘ä»¬åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”æŠŠcgroupæŒ‚è½½è¿›å»ã€‚æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼š 12345root@wqy:/home/wqy# mkdir cgroup-testroot@wqy:/home/wqy# sudo mount -t cgroup -o none,name=cgroup-test cgroup-test ./cgroup-testroot@wqy:/home/wqy# ls ./cgroup-test/cgroup.clone_children cgroup.sane_behavior release_agentcgroup.procs notify_on_release tasks å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘ä»¬æŒ‚åœ¨å®Œæˆåï¼Œæ–‡ä»¶å†…åˆ›å»ºäº†ä¸€äº›é»˜è®¤çš„æ–‡ä»¶ã€‚å…¶ä¸­cgroup.clone_childredä»£è¡¨å­cgroupæ˜¯å¦ç»§æ‰¿çˆ¶cgroupçš„cpuset cgroup.procsä»£è¡¨æ ‘ä¸­å½“å‰èŠ‚ç‚¹æ‰€æœ‰è¿›ç¨‹ç»„id notify_on_releaseä»£è¡¨æœ€åä¸€ä¸ªè¿›ç¨‹é€€å‡ºåæ˜¯å¦æ‰§è¡Œrelease_agent release_agentæ˜¯ä¸ªè·¯å¾„ ç”¨äºé€€å‡ºåè‡ªåŠ¨æ¸…ç† tasksè¡¨ç¤ºcgroupä¸‹çš„è¿›ç¨‹idã€‚ æˆ‘ä»¬å¯ä»¥åœ¨æ­¤æ–‡ä»¶å¤¹ä¸­å¢åŠ æ–°çš„cgroupæ¥è¿›è¡Œæµ‹è¯•ã€‚æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š 12345678910111213141516171819202122root@wqy:/home/wqy/cgroup-test# sudo mkdir cgroup-1root@wqy:/home/wqy/cgroup-test# sudo mkdir cgroup-2root@wqy:/home/wqy/cgroup-test# tree.â”œâ”€â”€ cgroup-1â”‚&nbsp;&nbsp; â”œâ”€â”€ cgroup.clone_childrenâ”‚&nbsp;&nbsp; â”œâ”€â”€ cgroup.procsâ”‚&nbsp;&nbsp; â”œâ”€â”€ notify_on_releaseâ”‚&nbsp;&nbsp; â””â”€â”€ tasksâ”œâ”€â”€ cgroup-2â”‚&nbsp;&nbsp; â”œâ”€â”€ cgroup.clone_childrenâ”‚&nbsp;&nbsp; â”œâ”€â”€ cgroup.procsâ”‚&nbsp;&nbsp; â”œâ”€â”€ notify_on_releaseâ”‚&nbsp;&nbsp; â””â”€â”€ tasksâ”œâ”€â”€ cgroup.clone_childrenâ”œâ”€â”€ cgroup.procsâ”œâ”€â”€ cgroup.sane_behaviorâ”œâ”€â”€ notify_on_releaseâ”œâ”€â”€ release_agentâ””â”€â”€ tasks2 directories, 14 files å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ·»åŠ å­cgroupåï¼Œå­cgroupç»§æ‰¿äº†å±æ€§ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸ºè¿›ç¨‹åŠ å…¥é™åˆ¶ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªstressç¨‹åºï¼Œå ç”¨200må†…å­˜ï¼Œè§‚å¯Ÿé™åˆ¶å‰ä¸é™åˆ¶åæ˜¯å¦æœ‰åŒºåˆ«ã€‚ 1stress --vm-bytes 200m --vm-keep -m 1 æ‰§è¡Œä»¥ä¸ŠæŒ‡ä»¤ï¼Œåœ¨æœ¬æœºçš„topä¸­å¯ä»¥çœ‹åˆ°ï¼Œ%MEMé¡¹ç›®ä¸º2.6,å³200Mã€‚æ¥ä¸‹æ¥ï¼ŒåŠ ä¸Šé™åˆ¶ã€‚ 12345678root@wqy:/home/wqy/cgroup-test# mount |grep memorycgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,memory)root@wqy:/home/wqy/cgroup-test# cd /sys/fs/cgroup/memory root@wqy:/sys/fs/cgroup/memory# sudo mkdir test-limit-memoryroot@wqy:/sys/fs/cgroup/memory# cd test-limit-memory/root@wqy:/sys/fs/cgroup/memory/test-limit-memory# sudo sh -c \"echo \"100m\" &gt;memory.limit_in_bytes\" root@wqy:/sys/fs/cgroup/memory/test-limit-memory# sudo sh -c \"echo $$ &gt; tasks\"root@wqy:/sys/fs/cgroup/memory# stress --vm-bytes 200m --vm-keep -m 1 åœ¨ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡mountå’Œgrepæ‰¾åˆ°äº†memoryæ‰€åœ¨çš„æŒ‚è½½ç‚¹ï¼Œåœ¨æŒ‚è½½ç‚¹åˆ›å»ºäº†å­cgroupï¼štest-limit-memoryï¼Œå°†å†…å­˜é™åˆ¶å†™å…¥äº†é™åˆ¶æ–‡ä»¶ï¼Œå°†æœ¬è¿›ç¨‹å†™å…¥äº†taskï¼Œæœ€åæ‰§è¡Œäº†æŒ‡ä»¤ã€‚é€šè¿‡topå‘½ä»¤å¯ä»¥çœ‹åˆ° %MEMé¡¹ç›®ä¸º1.3,å³100Mã€‚æˆ‘ä»¬æˆåŠŸå®ç°äº†é™åˆ¶å†…å­˜ä½¿ç”¨ã€‚ åœ¨å®Œæˆäº†namespaceéš”ç¦»demoå’Œcgroupé™åˆ¶demoåï¼Œæˆ‘ä»¬å³å°†ç”¨goè¯­è¨€ï¼Œå°†è¿™äº›æ•´åˆåœ¨ä¸€èµ·ï¼Œå®ç°ç®€å•çš„éš”ç¦»é™åˆ¶ç¨‹åºã€‚ docker_run è¯¥éƒ¨åˆ†ä»£ç ä»“åº“ï¼šgithub:mydockerpractice å…·ä½“ä¸ºmain.go subsystem cgroupmanager containerå››ä¸ªéƒ¨åˆ†ã€‚ åŸºæœ¬ç»“æ„ åœ¨å®ç°ç®€æ˜“çš„docker runä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†æ¸…æ€è·¯ï¼šæˆ‘ä»¬å³å°†è¦ç¼–å†™çš„æ–‡ä»¶ï¼Œhow it worksã€‚ åŠŸèƒ½ å®ç°å‘½ä»¤è¡Œè§£æå‚æ•° åŒ…æ‹¬å‘½ä»¤ç§ç±»å¦‚run èµ„æºé™åˆ¶å¦‚-m åœ¨æŒ‡å®šrunå‘½ä»¤å ä½¿ç”¨namespaceåˆ›å»ºå­è¿›ç¨‹ å¹¶ä¸”æ‰§è¡Œå‘½ä»¤è¡Œç»™äºˆçš„ç¨‹åº åœ¨æŒ‡å®šé™åˆ¶ä¹‹å èƒ½ä½¿ç”¨cgroupåŠ å…¥é™åˆ¶ è§£ææ–‡ä»¶å¯ä»¥ç”±ç¬¬ä¸‰æ–¹åº“æ¥å®ç°ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯github.com/urfave/cliï¼Œåœ¨ä¸Šè¿°vendoræ–‡ä»¶å¤¹ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ å®æˆ˜docker_run é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ç¡®è®¤ä¸»å‡½æ•°åŠŸèƒ½ï¼šå¯åŠ¨cliï¼Œç»‘å®šå„ç§å‚æ•°ï¼Œè¿›è¡Œè§£æã€‚å‰©ä¸‹äº‹åŠ¡äº¤ç»™å…¶ä»–æ¨¡å—æ¥åšã€‚æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¸»å‡½æ•°ï¼š 1234567891011121314151617181920212223242526272829package mainimport ( \"github.com/urfave/cli\" \"fmt\" \"os\" \"strings\" \"io/ioutil\" _ \"github.com/Sirupsen/logrus\" container \"mydocker/container\" subsystem \"mydocker/subsystem\" cgroupmanager \"mydocker/cgroupmanager\")const usage = `mydocker is a simple container.`func main(){ app := cli.NewApp() app.Name = \"mydocker\" app.Usage = usage app.Commands = []cli.Command{ initCommand, runCommand, } if err:= app.Run(os.Args); err!=nil { fmt.Println(err) } } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå¯åŠ¨å‘½ä»¤initå’Œrunï¼Œåˆ†åˆ«æ˜¯åˆå§‹åŒ–å®¹å™¨å’Œå¯åŠ¨ç¨‹åºã€‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢ä»‹ç»ä¸¤ä¸ªæŒ‡ä»¤çš„åŠŸèƒ½ã€‚ runCommandä»¥åŠRunå‡½æ•°ï¼šrunCommandè§£æå‚æ•°å¹¶ä¸”ä¼ é€’ç»™Runå‡½æ•°ã€‚Runå‡½æ•°ä½¿ç”¨NewParentProcessåˆ›å»ºäº†å¸¦namespaceçš„è¿›ç¨‹ï¼Œåˆ›å»ºäº†cgroupç®¡ç†ç¨‹åºï¼Œé…ç½®äº†é™åˆ¶ï¼Œåº”ç”¨åˆ°è¿›ç¨‹ä¸Šï¼Œå¹¶ä¸”å°†ç¨‹åºæŒ‡ä»¤å†™å…¥pipeï¼Œä¾¿äºnamespaceçš„è¿›ç¨‹è°ƒç”¨ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152var runCommand = cli.Command{ Name : \"run\", Usage : \"Create a container\", Flags : []cli.Flag{ cli.BoolFlag{ Name : \"ti\", Usage: \"enable tty\", }, cli.StringFlag{ Name : \"m\", Usage : \"limit the memory\", }, }, Action: func(context *cli.Context) error { fmt.Println(\"start runCommand\") if len(context.Args()) &lt; 1 { return fmt.Errorf(\"Missing container command\") } var cmdArray []string for _, arg := range context.Args() { cmdArray = append(cmdArray, arg) } tty := context.Bool(\"ti\") resConf := &amp;subsystem.ResourceConfig{ MemoryLimit: context.String(\"m\"), } Run(tty, cmdArray, resConf) return nil },}/*Run command start a parentprocess with namespacestart a CgroupManagerset the configstore the command*/func Run(tty bool, commandArray []string, resConf *subsystem.ResourceConfig){ parent, writePipe := container.NewParentProcess(tty) if err:= parent.Start(); err!=nil { fmt.Println(err) return } cgroupManager := cgroupmanager.NewCgroupManager(\"mydocker-cgroup\") defer cgroupManager.Destroy() cgroupManager.Set(resConf) cgroupManager.Apply(parent.Process.Pid) sendInitCommand(commandArray, writePipe) parent.Wait()} æ³¨æ„ä¸Šè¿°NewParentProcessï¼Œè¿™æ˜¯å®Œæˆç¨‹åºéš”ç¦»çš„é‡è¦å‡½æ•°ã€‚åœ¨ä¸‹é¢æˆ‘ä»¬ä¼šè®²è§£å®ƒã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940/*NewParentProcess function:creates a child precess with namespaces, run itself in the process, create a pipe and file for the Run fucntion to write*/func NewParentProcess(tty bool) (*exec.Cmd, *os.File){ fmt.Println(\"New parent\") readPipe, writePipe, err := NewPipe() if err!=nil { fmt.Printf(\"pipe error %v\\n\",err) return nil,nil } cmd := exec.Command(\"/proc/self/exe\",\"init\") cmd.SysProcAttr = &amp;syscall.SysProcAttr{ Cloneflags: syscall.CLONE_NEWUTS | syscall.CLONE_NEWPID | syscall.CLONE_NEWNS | syscall.CLONE_NEWIPC | syscall.CLONE_NEWNET |syscall.CLONE_NEWUSER, UidMappings: []syscall.SysProcIDMap{ { ContainerID: syscall.Getuid(), HostID: syscall.Getuid(), Size: 1, }, }, GidMappings: []syscall.SysProcIDMap{ { ContainerID: syscall.Getgid(), HostID: syscall.Getgid(), Size: 1, }, }, } if tty { cmd.Stdin = os.Stdin cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr } cmd.ExtraFiles = []*os.File{readPipe} return cmd, writePipe} è¿™ä¾¿æ˜¯NewParentProcessçš„å…¨è²Œã€‚å®ƒå¯åŠ¨äº†ä¸€ä¸ªå­cmdï¼Œå¥—ä¸Šäº†namespaceéš”ç¦»ï¼Œå¹¶ä¸”æœ€ç»ˆè¦çš„ä¸€ç‚¹ï¼Œå®ƒä½¿ç”¨äº†ä»¥initå‚æ•°exec /proc/self/exe è¿™ç›¸å½“ä¸å®ƒåœ¨å­è¿›ç¨‹ä¸­ä»¥initå‚æ•°è°ƒç”¨å®ƒè‡ªå·±ï¼Œé‡æ–°å¯åŠ¨ã€‚è¿™ä¼šè¦†ç›–æ‰å½“å‰çš„æ•°æ®ï¼Œå †æ ˆï¼ŒPIDç­‰ï¼Œä»è€Œå®ç°äº†ä½¿ç”¨æŒ‡å®šçš„runè¿›ç¨‹è¦†ç›–æ‰initè¿›ç¨‹çš„åŠæ³•ã€‚å°±è¿™æ ·ï¼Œæˆ‘ä»¬ä¾¿å¾—åˆ°äº†ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ä»¥åŠä¸€ä¸ªè¢«éš”ç¦»çš„å®¹å™¨è¿›ç¨‹ã€‚ è¯¥å‡½æ•°è¿”å›äº†writePipeï¼Œä¾¿æ˜¯æ–¹ä¾¿å°†æŒ‡ä»¤ä¼ è¾¾ç»™å­è¿›ç¨‹ã€‚å®ƒä½¿ç”¨äº†ExtraFileså±æ€§ï¼Œæ„å‘³ç€åœ¨åˆ›å»ºå­è¿›ç¨‹æ—¶å€™ä¼šé¢å¤–æºå¸¦è¯¥å¥æŸ„ã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå‡ ä¹æ€»æ˜¯åˆ†é…æœ€å°çš„å¯ç”¨å¥æŸ„ã€‚ç”±äº0 1 2ä¸ºæ ‡å‡†è¾“å…¥è¾“å‡ºé”™è¯¯å¥æŸ„ï¼Œè¿™æ ·åœ¨å­è¿›ç¨‹ä¸­ï¼Œå°±å¯ä»¥ç›´æ¥æ‰“å¼€3å·å¥æŸ„è·å–æŒ‡ä»¤ã€‚ï¼ˆè™½ç„¶ç¡¬ç¼–ç éå¸¸ä¸ä¼˜é›…ï¼‰ åœ¨éš”ç¦»ä¹‹åï¼Œæˆ‘ä»¬è¿˜è¦ä¸ºå…¶åŠ ä¸Šé™åˆ¶ã€‚è¿™ä¸€éƒ¨åˆ†åŠŸèƒ½æ˜¯ç”±CgroupManageræ¥å®Œæˆã€‚è¿™é‡Œåªå®ç°äº†å†…å­˜çš„é™åˆ¶ï¼Œæˆ‘ä»¬æ¥ä»å†…å­˜ï¼Œè§‚å¯ŸCgroupManageræ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ 1234567891011121314151617181920212223242526272829303132type CgroupManager struct { Path string Resource *subsystem.ResourceConfig}func NewCgroupManager(path string) *CgroupManager{ return &amp;CgroupManager{ Path: path, }}func (c *CgroupManager) Apply(pid int) error { for _, subSysIns := range(subsystem.SubsystemIns) { subSysIns.Apply(c.Path, pid) } return nil}func (c *CgroupManager) Set(res *subsystem.ResourceConfig) error { for _, subSysIns := range(subsystem.SubsystemIns) { subSysIns.Set(c.Path, res) } return nil}func (c *CgroupManager) Destroy() error{ for _, subSysIns := range(subsystem.SubsystemIns) { if err:= subSysIns.Remove(c.Path); err!= nil { fmt.Printf(\"error in remove cgroup %v\\n\",err) } } return nil} å¯ä»¥çœ‹åˆ°ï¼ŒCgroupManageråŒ…å«äº†è·¯å¾„ä»¥åŠèµ„æºé™åˆ¶çš„é…ç½®ResouceConfigã€‚è€Œåœ¨Runå‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒCgroupManagerå®ç°äº†Apply,Set,Destroyç­‰æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯å°†ResouceConfigä¼ é€’ç»™subsystemæ–‡ä»¶ä¸­çš„SubsystemInsï¼Œä½¿ç”¨SubsystemInsçš„å¤šæ€æ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è§‚å¯Ÿsubsystemæ–‡ä»¶å£°æ˜ï¼Œæ¥è§‚å¯Ÿå®ƒæ˜¯å¦‚ä½•é™åˆ¶èµ„æºçš„ã€‚ 12345678910111213141516171819202122package subsystemtype ResourceConfig struct { MemoryLimit string CPUShare string CPUSet string}type Subsystem interface { Name() string Set(path string, res *ResourceConfig) error Apply(path string, pid int) error Remove(path string) error}var ( SubsystemIns = []Subsystem{ //&amp;CPUSetSubSystem{}, &amp;MemorySubSystem{}, //&amp;CPUSubSystem{}, }) åœ¨è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼ŒSubsystemInsæ˜¯ä¸€ä¸ªSubsystemæ•°ç»„ï¼Œå…¶ä¸­åŒ…æ‹¬MemorySubSystemã€‚Subsystemæ¥å£è§„å®šäº†å®ç°çš„æ–¹æ³•ï¼ŒName,Set,Apply,Removeã€‚ æ¥ä¸‹æ¥è®©æˆ‘ä»¬ä»¥MemorySubSystemä¸ºä¾‹å­ï¼Œè§‚å¯Ÿå…·ä½“çš„é™åˆ¶æ˜¯å¦‚ä½•å®ç°çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051/*Set functionwrite the memory limit into the cgroup path*/func (s *MemorySubSystem) Set(cgroupPath string, res *ResourceConfig) error { if subsysCgroupPath, err := GetCgroupPath(s.Name(),cgroupPath,true); err == nil{ if res.MemoryLimit != \"\" { if err := ioutil.WriteFile(path.Join(subsysCgroupPath, \"memory.limit_in_bytes\"), []byte(res.MemoryLimit),0644); err != nil { return fmt.Errorf(\"set cgroup memory failed %v\",err) } } return nil } else { return err }}/*Apply functionJoin a process into a cgroup*/func (s *MemorySubSystem) Apply(cgroupPath string, pid int) error { if subsysCgroupPath, err := GetCgroupPath(s.Name(),cgroupPath,false); err == nil { if err := ioutil.WriteFile(path.Join(subsysCgroupPath, \"tasks\"),[]byte(strconv.Itoa(pid)),0644); err!=nil { return fmt.Errorf(\"set cgroup proc fail %v\",err) } return nil } else { return fmt.Errorf(\"get cgroup %s error: %v\",cgroupPath,err) }}/*Remove functionremove the cgroup path*/func (s *MemorySubSystem) Remove(cgroupPath string) error { if subsysCgroupPath, err := GetCgroupPath(s.Name(),cgroupPath,false); err == nil { return os.Remove(subsysCgroupPath) } else { return err }}/*Name functionget its name*/func (s *MemorySubSystem) Name() string{ return \"memory\"} æ­¤å¤„ä»£ç æœ‰æ³¨é‡Šï¼Œä¸è¿‡å¤šèµ˜è¿°ã€‚æœ¬è´¨ä¸Šå’Œä¹‹å‰çš„demoä¸€æ ·ï¼Œå†™å…¥é™åˆ¶æ–‡ä»¶ï¼Œå°†è¿›ç¨‹æ”¾è¿›å»ï¼Œå’Œç§»é™¤è¯¥è¿›ç¨‹é™åˆ¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ã€‚åœ¨è¿™é‡ŒGetCgroupPathä½œç”¨æ˜¯æ ¹æ®mountinfoæ‰¾åˆ°cgroupé™åˆ¶çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºå­ç›®å½•ã€‚å…·ä½“ä»£ç å¯ä»¥åœ¨ä»“åº“å†…æŸ¥çœ‹ã€‚ å°±æ­¤ï¼Œé™åˆ¶ç³»ç»Ÿdemoä¾¿å®Œæˆäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è§‚å¯ŸinitæŒ‡ä»¤æ‰§è¡Œåï¼Œè¯¥è¿›ç¨‹ä¼šå¦‚ä½•è¿è¡Œã€‚ 1234567891011var initCommand = cli.Command { Name : \"init\", Usage : \"Init the process\", Action: func(context *cli.Context) error { fmt.Println(\"start initCommand\") cmd := readUserCommand() err := container.RunContainerInitProcess(cmd[0],cmd[1:]) return err },} å›åˆ°ä¸»è¿›ç¨‹ã€‚åœ¨åˆ›å»ºå­è¿›ç¨‹å¹¶ä¸”ä»¥initä¸ºå‚æ•°æ‰§è¡Œäº†/proc/self/exeåï¼Œç›¸å¯¹åº”æ¥æ”¶çš„ä¾¿æ˜¯initæŒ‡ä»¤ã€‚ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼ŒinitæŒ‡ä»¤è¯»å–äº†ä¹‹å‰çš„å‚æ•°ï¼Œå¹¶ä¸”åˆå§‹åŒ–äº†å®¹å™¨è¿›ç¨‹ã€‚è¯»å–æŒ‡ä»¤å°±åƒä¹‹å‰æ‰€è¯´ä¸€æ ·ï¼Œå¯ä»¥é‡‡ç”¨fd=3çš„ç¡¬ç¼–ç æ‰“å¼€è¯»å–ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹RunContainerInitProcessè¯¥å¦‚ä½•è¿è¡Œã€‚ 123456789101112131415161718192021222324252627282930313233/*RunContainerInitProcess function:mounts the essential environment, read the command stored by the NewParentProcess,run the commands*/func RunContainerInitProcess(command string, args []string) error{ fmt.Printf(\"the command is %s\\n\",command) fmt.Println(\"mount start\") err :=syscall.Mount(\"\",\"/\",\"\",syscall.MS_PRIVATE|syscall.MS_REC,\"\") if err!=nil { fmt.Println(err) return err } defaultMountFlags := syscall.MS_NOEXEC | syscall.MS_NOSUID | syscall.MS_NODEV err = syscall.Mount(\"proc\", \"/proc\",\"proc\", uintptr(defaultMountFlags),\"\") if err!=nil { fmt.Println(err) return err } command,err = exec.LookPath(command) if(err!=nil){ fmt.Printf(\"error in finding %s \\n\",command) fmt.Println(err) return err } argv := append([]string{command},args...) if err := syscall.Exec(command, argv, os.Environ()) ; err!=nil { fmt.Printf(\"exec error is %v\\n\",err) return err } return nil} å¯ä»¥çœ‹åˆ°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œcommandå’Œargsï¼Œé¦–å…ˆå®ç°äº†chrooté˜²æ­¢procä¸é‡Šæ”¾ï¼Œç„¶åå°†procæŒ‚è½½äº†è¿›æ¥ï¼Œä¾¿äºåœ¨å®¹å™¨å†…å®ç°å„ç§æ“ä½œã€‚ä¹‹åï¼Œä½¿ç”¨LookPathè§£æäº†æŒ‡ä»¤ï¼Œå¹¶ä¸”execäº†ç¨‹åºã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å®ç°äº†èµ„æºçš„é™åˆ¶ï¼Œèµ„æºçš„éš”ç¦»ï¼Œå¹¶ä¸”åœ¨å®Œæˆè¿™äº›é…ç½®åè¿è¡Œäº†ç¨‹åºã€‚ä¸€ä¸ªç®€å•çš„docker runé¡¹ç›®ä¾¿å¦‚æ­¤å®Œæˆäº†ã€‚ ä¸‹ä¸€æ­¥åšä»€ä¹ˆ åœ¨dockerä¸­ï¼Œé™¤å»éš”ç¦»ä¸é™åˆ¶ï¼Œæœ€æ˜¾è‘—çš„ç‰¹ç‚¹ä¾¿æ˜¯å®ƒçš„imageé•œåƒåŠŸèƒ½ã€‚è¿™èƒ½å¤§å¤§å‡å°‘éƒ¨ç½²ç¯å¢ƒçš„éš¾åº¦ã€‚åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•å®ç°è¿™ä¸€åŠŸèƒ½ã€‚ æ€»ç»“ä¸åè®° æœ¬ç¯‡æ–‡ç« è®²è§£äº†å¦‚ä½•å®ç°ä¸€ä¸ªéš”ç¦»å¹¶ä¸”è¿›è¡Œé™åˆ¶çš„å°dockerç¨‹åºã€‚åœ¨è¿™å…¶ä¸­ä¸»è¦ç†Ÿæ‚‰äº†å„ç§ç³»ç»Ÿè°ƒç”¨çš„ä½œç”¨ä¸ä½¿ç”¨æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œå®ç°ã€‚ç”±äºç¯‡å¹…é—®é¢˜ï¼Œæœ¬æ–‡çœç•¥äº†ä¸€éƒ¨åˆ†å·¥å…·ä»£ç ï¼Œå…·ä½“ä»£ç è¿˜éœ€è¦å‚è€ƒä»“åº“å†…ã€‚åœ¨ä»“åº“ä¸­æœ‰å„ç§demoçš„å®ç°ã€‚ æœ¬æ–‡å¯¹ç³»ç»Ÿè°ƒç”¨çš„çŸ¥è¯†ä¸»è¦æ¥è‡ªå¯¹manæ–‡æ¡£çš„ç¿»è¯‘ï¼Œå¯èƒ½å­˜åœ¨æ¬ ç¼ºã€‚å› æ­¤æœ‰ä¸è¶³çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ã€‚ æœ¬ç¯‡æ–‡ç« èµ·äº11.12ï¼Œå®Œæˆäº11.16ï¼Œç”±äºå„ç§åŸå› å­˜åœ¨ä¸€äº›æ‹–å»¶ï¼Œä½†æ•´ä½“å®Œæˆæ—¶é—´è¾ƒé•¿ã€‚æœ¬æ–‡ä¸»è¦ä¹Ÿæ˜¯æˆ‘è‡ªå·±å¯¹äºä»£ç çš„ä¸€ä¸ªå¤ä¹ äºå½’çº³ã€‚ ä¸‹ä¸€ç¯‡æ–‡ç« ä¸å­˜åœ¨æ„å¤–çš„è¯é¢„è®¡ä¸ä¼šè€—è´¹å¤šä½™ä¸€å‘¨çš„æ—¶é—´ã€‚æ•¬è¯·æœŸå¾…ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E5%88%9D%E6%8E%A2%E5%AE%B9%E5%99%A8%E5%8C%96%EF%BC%9A%E9%9A%94%E7%A6%BB%EF%BC%8C%E9%99%90%E5%88%B6%E4%B8%8Edocker-run/"},{"title":"ç™½å¸½å­è°ˆwebå®‰å…¨è¯»ä¹¦ç¬”è®°","text":"æœ¬æ–‡ä¸»è¦ä¸ºç™½å¸½å­è°ˆwebå®‰å…¨çš„è¯»ä¹¦ç¬”è®°ï¼Œç”¨äºè®°å½•ã€‚ ç™½å¸½å­è°ˆwebå®‰å…¨ç¬¬ä¸€ç«  æ¦‚è¿°å®‰å…¨ä¸‰è¦ç´ ï¼š æœºå¯†æ€§ï¼šæ•°æ®åŠ å¯†ï¼Œä¸è¢«æ³„éœ²ã€‚ å®Œæ•´æ€§ï¼šæ•°æ®å®Œæ•´ï¼Œä¸è¢«ç¯¡æ”¹ã€‚ å¯ç”¨æ€§ï¼šä¿æŠ¤èµ„æºéšéœ€æ±‚è€Œå¾—ã€‚ å®‰å…¨è¯„ä¼°æµç¨‹ï¼šèµ„äº§é˜¶çº§åˆ’åˆ†-&gt;å¨èƒåˆ†æ-&gt;é£é™©åˆ†æ-&gt;ç¡®è®¤è§£å†³æ–¹æ¡ˆ å¨èƒåˆ†æï¼šä¼ªè£… ç¯¡æ”¹ æŠµèµ– ä¿¡æ¯æ³„éœ² æ‹’ç»æœåŠ¡ æå‡æƒé™ ç¬¬äºŒç«  æµè§ˆå™¨å®‰å…¨åŒæºï¼š æµè§ˆå™¨jsä½¿ç”¨åŒæºç­–ç•¥æ¥é˜²æŠ¤ã€‚ä¸èƒ½è·¨åŸŸè®¿é—®èµ„æºã€‚ â€œåŒæºâ€ä¾æ®åŒ…æ‹¬ï¼šåŸŸåæˆ–ipåœ°å€ï¼Œå­åŸŸåï¼Œç«¯å£ï¼Œåè®®ã€‚ DOM cookie XMLHttpRequestä»¥åŠä¸€äº›æ’ä»¶å¦‚flashéƒ½ä¼šæœ‰ç€åŒæºç­–ç•¥ã€‚ æ²™ç®±ï¼š æ²™ç®±æ³›æŒ‡èµ„æºéš”ç¦»æ¨¡å—è°·æ­Œæµè§ˆå™¨é‡‡ç”¨æ²™ç®±æœºåˆ¶ï¼Œå¤šè¿›ç¨‹æ¥é™åˆ¶ä»£ç æ‰§è¡Œã€‚ä½†ä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶å¦‚flashï¼Œjavaç­‰ä¸å—sandboxç®¡è¾–ï¼Œæˆä¸ºæµè§ˆå™¨æ”»å‡»çƒ­ç‚¹ã€‚ æ¶æ„ç½‘ç«™æ‹¦æˆªï¼š åŸºäºé¡µé¢ç‰¹å¾è¯†åˆ«ï¼Œåœ¨æœåŠ¡ç«¯è¿›è¡Œæ¨¡å‹å»ºç«‹å¤„ç†ï¼Œä½¿ç”¨é»‘åå•ï¼Œä¸å®‰å…¨å‚å•†åˆä½œï¼Œæ¨é€é»‘åå•ã€‚ EVè¯ä¹¦ï¼šæ•°å­—è¯ä¹¦é¢å‘æœºæ„ä¸æµè§ˆå™¨å‚å•†ä¸€èµ·æ‰“é€ çš„ï¼Œå¢å¼ºå¯¹å®‰å…¨ç½‘ç«™çš„è¯†åˆ«ã€‚ ç¬¬ä¸‰ç«  XSSè·¨ç«™è„šæœ¬æ”»å‡»ï¼šä½¿ç”¨htmlæ³¨å…¥ç¯¡æ”¹ç½‘é¡µï¼Œæ’å…¥æ¶æ„è„šæœ¬ åå°„å‹XSSï¼šå°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®åå°„ç»™æµè§ˆå™¨ï¼Œéœ€è¦è¯±ä½¿ç”¨æˆ·ç‚¹å‡»æ¶æ„é“¾æ¥æ‰èƒ½æ”»å‡»æˆåŠŸã€‚éæŒä¹…æ€§XSSã€‚ å­˜å‚¨å‹XSSï¼šå†™ä¸‹åŒ…å«æ¶æ„jsçš„åšå®¢ï¼Œå‘è¡¨åæ‰€æœ‰è®¿é—®åšå®¢çš„éƒ½ä¼šæ‰§è¡Œä»£ç ã€‚åˆå«æŒä¹…å‹XSSã€‚ DOM Based XSSï¼šä¿®æ”¹é¡µé¢DOMèŠ‚ç‚¹æ¥å®ç° cookieåŠ«æŒ å…ˆxssè®¿é—®è¿œç¨‹è„šæœ¬å¹¶ä¸”åŠ è½½ï¼Œå†åˆ©ç”¨imageçš„srcï¼Œåˆ©ç”¨urlå‚æ•°ä¸­åŠ å…¥cookieæ¥è®¿é—®ç›®æ ‡åŸŸåã€‚åªéœ€è¦è®¿é—®ç•™ä¸‹æ—¥å¿—ï¼Œå³å¯çªƒå–ã€‚ æ„é€ get postè¯·æ±‚ getä¸ä¸Šè¿°ç±»ä¼¼ï¼Œç”¨è¿‡imgçš„srcæ¥æ„é€ getè¯·æ±‚ã€‚ poståˆ™ä½¿ç”¨jsï¼Œæ„é€ è¡¨å•ï¼ˆç”¨jsæˆ–è€…ç›´æ¥å†™htmlï¼‰ï¼Œæˆ–è€…ç”¨XMLHttpRequestæ¥æ„é€ ã€‚ é™¤äº†ä¸€èˆ¬cookieä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡è§‚å¯Ÿnetworkï¼Œæ„é€ sidä¹‹ç±»çš„ï¼Œè¿›è¡Œæ¨¡æ‹Ÿè®¿é—®æ¥è·å–æ¶ˆæ¯ã€‚ xssé’“é±¼ xsså°†éªŒè¯ç urlå‘åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œç­‰å¾…æ¥æ”¶å¹¶ä¸”è¿”å›ç»™xssæ¥ç»•å¼€éªŒè¯ç ã€‚ ä½¿ç”¨xssç”¨jsåœ¨ç•Œé¢ç”»å‡ºä¼ªé€ çš„ç™»å½•æ¡†ï¼Œå‘é€å¯†ç åˆ°æœåŠ¡å™¨ã€‚ æµè§ˆå™¨ä»¥åŠç”¨æˆ·è½¯ä»¶è¯†åˆ« è§‚å¯ŸUAæˆ–è€…ä½¿ç”¨ç‰ˆæœ¬åˆ¤æ–­ä»£ç æ¥è¯†åˆ«æµè§ˆå™¨ç‰ˆæœ¬ã€‚ é€šè¿‡æ–°å»ºæ§ä»¶æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å®‰è£…è½¯ä»¶ï¼Œå¦‚æ–°å»ºActiveXç©ºé—´XunLeiBHO.ThunderIEHelperæ¥åˆ¤æ–­æ˜¯å¦å®‰è£…äº†è¿…é›·è½¯ä»¶ã€‚ è¿˜å¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹è½¯ä»¶æ¥è§‚å¯Ÿï¼Œå¦‚Flashçš„system.capabilitiesæ¥æ‰¾åˆ°ç¡¬ä»¶ä¿¡æ¯ã€‚ firefoxçš„æ’ä»¶å¯ä»¥é€šè¿‡æŸ¥è¯¢DOMæ¥æ‰¾åˆ°ã€‚ chromeæ’ä»¶å¯ä»¥é€šè¿‡è®¿é—®chrome://flashgot/skin/icon32.pngæ¥æŸ¥è¯¢ã€‚ é€šè¿‡CSSè§‚å¯Ÿé“¾æ¥é¢œè‰²æ¥çœ‹æ˜¯å¦è®¿é—®è¿‡ç½‘ç«™ã€‚ é€šè¿‡XSSè°ƒç”¨Java Appletæ¥å£è·å–æœ¬åœ°çœŸå®ipåœ°å€ï¼Œæœ¬åœ°ç½‘ç»œä¿¡æ¯ã€‚ æ”»å‡»å¹³å° Attack APIï¼šæ€»ç»“äº†è®¸å¤šXSS Payloadå½’çº³æˆapi BeEFï¼šæœ‰æ§åˆ¶åå°ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨åå°æ§åˆ¶å‰ç«¯ï¼Œå±•ç¤ºå®Œæ•´XSSæ”»å‡»è¿‡ç¨‹ã€‚ XSS Proxyï¼šåµŒå¥—ifraneå®æ—¶è¿œç¨‹æ§åˆ¶èƒŒXSSæ”»å‡»çš„æµè§ˆå™¨ã€‚ è°ƒè¯•JS Firebug Fiddler HttpWatch æµè§ˆå™¨Debugger XSSæ„é€ ä¸æ”»å‡» ä½¿ç”¨å­—ç¬¦ç¼–ç ï¼Œå¦‚GBKä¸‹ä¸¤ä¸ªå­—ç¬¦åœ¨Unicodeä¸‹è¢«è®¤ä¸ºä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œç»•å¼€ç³»ç»Ÿå®‰å…¨æ£€æŸ¥ã€‚ ç»•å¼€é•¿åº¦é™åˆ¶ï¼Œå¦‚ä½¿ç”¨eventæˆ–è€…å°†payloadå†™åœ¨åˆ«å‡ºï¼Œå†è·å–payloadã€‚ local.hashä¸ä¼šåœ¨httpåŒ…å‘é€ï¼Œå¯ä»¥è—ä»£ç ã€‚ å¯ä»¥ç”¨æ³¨é‡Šå°†htmlä»£ç æ³¨é‡Šæ‰ï¼Œå¦‚ç¬¬äºŒä¸ªæ–‡æœ¬æ¡†å…è®¸å†™å…¥æ›´å¤šç»†èŠ‚ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ³¨é‡Šæ‰“é€šä¸¤ä¸ªæ–‡æœ¬æ¡†ã€‚ é€šè¿‡baseæ ‡ç­¾è¡¨ç¤ºé“¾æ¥çš„baseåœ°å€ï¼Œä½¿ç”¨è¿™ä¸ªæ ‡ç­¾æ¥è®¿é—®å¤–éƒ¨jsã€‚ window.nameæ²¡æœ‰ç‰¹æ®Šå­—ç¬¦é™åˆ¶ï¼Œå¯ä»¥å®ç°æ•°æ®çš„è·¨åŸŸä¼ è¾“ã€‚ä¹Ÿå¯ä»¥ç¼©çŸ­payloadé•¿åº¦ã€‚ é€šè¿‡flashæ„é€ httpè¯·æ±‚æ¥å¨èƒæœåŠ¡å™¨ã€‚ ä½¿ç”¨å­˜å‚¨å‹XSSåµŒå…¥åå°„å‹XSSè¿›è¡Œæ”»å‡» Flashå¯ä»¥åµŒå…¥ActionScriptè„šæœ¬æ¥æ”»å‡»ã€‚ XSSé˜²å¾¡ HttpOnly å¯ä»¥é˜²æ­¢jsè¯»å–åˆ°cookie è¾“å…¥æ£€æŸ¥ï¼Œä½¿ç”¨ç™½åå•æˆ–é»‘åå•æ£€æŸ¥æ ¼å¼ï¼Œè€Œä¸”å¿…é¡»åœ¨æœåŠ¡ç«¯æ£€æŸ¥ï¼Œè€Œéå®¢æˆ·ç«¯ã€‚ å¯ä»¥ä½¿ç”¨è¾“å‡ºæ£€æŸ¥ï¼Œç¼–ç æˆ–è€…è½¬ä¹‰æ¥å®ç°ï¼Œæ¯”å¦‚ä½¿ç”¨ç¼–ç å‡½æ•°ï¼Œåœ¨å¤šä¸ªåœ°æ–¹ç”¨å¤šç§ç¼–ç  å¯Œæ–‡æœ¬ä¸­eventåº”å½“è¢«ç¦æ­¢ï¼Œç”¨ç™½åå•ï¼Œä½¿ç”¨å¼€æºé¡¹ç›®æ¥å¸®åŠ©æ£€æŸ¥ã€‚ ç¬¬å››ç«  è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ CSRFè·¨ç«™ç‚¹ä¼ªé€ è¯·æ±‚ï¼Œç§°ä¸ºCSRFã€‚ cookieç­–ç•¥ session cookieï¼šä¸´æ—¶cookie åœ¨æµè§ˆå™¨å…³é—­åcookieå°±å¤±æ•ˆäº† ä¿å­˜åœ¨æµè§ˆå™¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´ third-party cookieï¼šåœ¨æœåŠ¡å™¨expireæ—¶é—´ä¹‹åcookieæ‰ä¼šå¤±æ•ˆ ä¿å­˜åœ¨æœ¬åœ° å¦‚æœä»ä¸€ä¸ªåŸŸçš„é¡µé¢åŠ è½½å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼ŒIE safariä¼šé˜»æ­¢third-party cookieå‘é€ firefox chromeä¸ä¼š P3På¤´ä¸ä¼šæ‹¦æˆªç¬¬ä¸‰æ–¹cookieå‘é€ï¼Œç”¨äºå¹¿å‘Šç­‰è·¨åŸŸè®¿é—® ï¼Œå¯ä»¥åŠ ä»¥åˆ©ç”¨ã€‚ è·¨ç«™ç‚¹post å¯ä»¥æ„é€ å¥½ä¸€ä¸ªformè¡¨å•ï¼Œç”¨jsè‡ªåŠ¨æäº¤ï¼Œç”šè‡³éšè—åœ¨ä¸å¯è§çš„iframeçš„çª—å£ä¸­ã€‚ FLASH CSRF Flashä¹Ÿèƒ½æœ‰å¤šç§æ–¹æ³•å‘é€ç½‘ç»œè¯·æ±‚ã€‚ CSRFé˜²å¾¡ éªŒè¯ç ï¼šå¼ºåˆ¶ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå®Œæˆæœ€ç»ˆè¯·æ±‚ã€‚ä½†ä¸èƒ½ç»™æ‰€æœ‰æ“ä½œéƒ½åŠ ä¸ŠéªŒè¯ç ã€‚ referer checkï¼šæ£€æŸ¥refereræ¥æºï¼Œä½†ç”±äºä¸èƒ½ä»€ä¹ˆæ—¶å€™éƒ½è·å–åˆ°refererã€‚ Tokenï¼šä¸šç•Œæœ€ä¸»è¦åšæ³•ã€‚åœ¨é“¾æ¥ä¸­åŠ å…¥Token=randomblablablaå€¼ tokenå€¼ä¸å¯é¢„æµ‹ï¼Œä»è€Œå®ç°é‰´åˆ«ã€‚å¯ä»¥æ”¾åœ¨cookieå’Œsessionä¸­ï¼Œæ£€æŸ¥æ˜¯å¦ä¸€è‡´ã€‚tokenåœ¨ä¸€ä¸ªç”¨æˆ·çš„æœ‰æ•ˆç”Ÿå‘½å‘¨æœŸï¼Œåœ¨æˆåŠŸæäº¤è¿‡åï¼Œåº”å½“æ¶ˆè€—æ‰ã€‚ ç¬¬äº”ç«  ç‚¹å‡»åŠ«æŒä½¿ç”¨ä¸€ä¸ªé€æ˜çš„iframeè¦†ç›–ï¼Œæ¬ºéª—è¿›è¡Œç‚¹å‡»ã€‚ä½¿ç”¨CSSæ§åˆ¶alphaé€šé“è¿›è¡Œå®ç°ã€‚ flashä¹Ÿå¯ä»¥ç‚¹å‡»åŠ«æŒï¼Œé€šè¿‡flashæ¸¸æˆè¯±å¯¼ç‚¹å‡»æŒ‰é’®å˜åŒ–ï¼Œæœ€åä¸€æ­¥æ­¥æ“ä½œæ‰“å¼€äº†ç”¨æˆ·æ‘„åƒå¤´ã€‚ å›¾ç‰‡ä¹Ÿå¯ä»¥åŠ«æŒï¼Œé€šè¿‡è°ƒæ•´å›¾ç‰‡cssåˆ°ä»»æ„ä½ç½®ï¼Œç‚¹å‡»å°±ä¼šåˆ°é’“é±¼ç½‘ç«™ã€‚ æ‹–æ‹½åŠ«æŒï¼šæ‹–æ‹½å¤„éšè—iframeï¼Œæ‹–æ‹½å®ŒæˆååŒæ—¶å®Œæˆæ•°æ®ä¼ è¾“ã€‚ è§¦å±åŠ«æŒï¼šè§¦å±ï¼Œç¦»å¼€å±å¹•ï¼Œæ»‘åŠ¨éƒ½æ˜¯äº‹ä»¶ï¼Œå¯ä»¥åˆ©ç”¨ï¼Œæ¯”å¦‚é€ ä¸€ä¸ªå‡åœ°å€æ ã€‚ é˜²å¾¡ frame busting ç¦æ­¢iframeåµŒå¥— ä½†ç”±äºæ˜¯ç”¨jså†™çš„ï¼Œå› è€Œå¯ä»¥ç»•è¿‡å®ƒ è¿˜å¯ä»¥ç”¨sandboxé™åˆ¶jsè„šæœ¬æ‰§è¡Œã€‚ ç”¨x-frame-optionsçš„httpå¤´ï¼Œæ‹’ç»åŠ è½½ä»»ä½•frameé¡µé¢ ç¬¬å…­ç«  HTML5å®‰å…¨æ–°æ ‡ç­¾ï¼Œæ–°å®‰å…¨ é€šè¿‡æ–°æ ‡ç­¾ï¼Œå¦‚video audioæ¥è¿œç¨‹åŠ è½½éŸ³é¢‘ï¼Œç»•è¿‡filterã€‚ ä½¿ç”¨sandboxä»¥åŠå±æ€§æ¥æ§åˆ¶åŒæºè®¿é—®ï¼Œè¿è¡Œè„šæœ¬ç­‰ã€‚ ä½¿ç”¨norefereræ¥ä¸å†å‘é€refererã€‚ ä½¿ç”¨canvasèƒ½å¤Ÿè¿›è¡Œç ´è§£éªŒè¯ç ã€‚ w3cæœ‰è·¨åŸŸè¯·æ±‚æ ‡å‡†ï¼Œéœ€è¦å¸¦origin headeræ¥é˜²æ­¢csrfã€‚ postMessageå…è®¸æ²¡ä»¥æ¶ä¸ªçª—å£å¯¹è±¡å¾€å…¶ä»–çª—å£å‘é€æ–‡æœ¬æ¶ˆæ¯ï¼Œå®ç°è·¨çª—å£æ¶ˆæ¯ä¼ é€’ã€‚ä¸å—åŒæºç­–ç•¥é™åˆ¶ã€‚ä½†ä¹Ÿå¯ä»¥ç”¨xss payloadæ¥å®ç°iframeï¼Œç”¨PostMessageç»™çˆ¶çª—å£å‘é€æ¶ˆæ¯ã€‚ web stroageåˆ†ä¸ºsession storageå’Œlocal storageï¼Œå‰è€…å…³é—­åˆ™ä¼šå¤±æ•ˆï¼Œåè€…ä¸€ç›´å­˜åœ¨ã€‚ä½¿ç”¨kvå¯¹æ¥è¿›è¡Œæ“ä½œã€‚ä¹Ÿå—åŒæºç­–ç•¥çº¦æŸã€‚ ç¬¬ä¸ƒç«  æ³¨å…¥æ”»å‡»ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶è¾“å…¥ï¼Œè€Œä¸”ç¨‹åºéœ€è¦æ‰§è¡Œçš„ä»£ç æ‹¼æ¥äº†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ã€‚ SQLæ³¨å…¥ ç›²æ³¨ï¼šåœ¨æ²¡æœ‰é”™è¯¯å›æ˜¾çš„æƒ…å†µä¸‹å®Œæˆæ”»å‡»ï¼Œè™½ç„¶ç¼ºå°‘è°ƒè¯•ä¿¡æ¯ï¼Œä½†å¯ä»¥æ„é€ ç®€å•è¯­å¥è§‚å¯Ÿé¡µé¢æ˜¯å¦å˜åŒ–ã€‚ Timing Attackï¼šæ ¹æ®benchmarkå‡½æ•°ï¼Œè§‚å¯Ÿæ—¶é—´é•¿çŸ­æ¥è§‚å¯Ÿæ˜¯å¦æ³¨å…¥æˆåŠŸã€‚å¯ä»¥åˆ©ç”¨å„ç§æ•°æ®åº“å‡½æ•°æ¥è·å–æœ‰ç”¨ä¿¡æ¯ã€‚å¦‚æœæœ‰å†™æƒé™ï¼Œç”šè‡³å¯ä»¥å†™å…¥ç£ç›˜ã€‚ æ”»å‡»æŠ€å·§ ç”¨substringå¯ä»¥æ‰¾å¯¹åº”ç‰ˆæœ¬ã€‚ å¯ä»¥ç”¨union selectæ¥ç¡®å®šè¡¨æ˜¯å¦å­˜åœ¨ï¼Œåˆ—æ˜¯å¦å­˜åœ¨ã€‚ ç¡®å®šåˆ—å­˜åœ¨åï¼Œå¯ä»¥ç”¨å­—ç¬¦èŒƒå›´æ¥è¯»å–è¡¨å†…ä¿¡æ¯ã€‚ å¯ä»¥ç”¨è‡ªåŠ¨åŒ–å·¥å…·sqlmapã€‚ å¯ä»¥ç”¨load_fileè¯»å–æ–‡ä»¶ï¼Œç”¨into_dumpfileå†™å…¥æ–‡ä»¶ï¼Œç„¶ååˆ›å»ºè¡¨å¯¼å…¥æ•°æ®æ¥æŸ¥çœ‹æ•°æ®ã€‚ å¯ä»¥ç”¨ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ¥è·å–ç³»ç»Ÿæƒé™ï¼Œå¯ä»¥é€šè¿‡lib_mysqludf_sysæä¾›çš„å‡ ä¸ªå‡½æ•°æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œå¦‚sys_evalå’Œsys_execï¼Œè¿™äº›è¢«é›†æˆåˆ°sqlmapä¸­ã€‚ ms sql serverå¯ä»¥ç”¨xp_cmdshellæ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œoracleå¯ä»¥ç”¨javaã€‚ å­˜å‚¨è¿‡ç¨‹æœ¬èº«å¯èƒ½å­˜åœ¨æ³¨å…¥æ¼æ´ï¼Œæ³¨æ„æ–‡æœ¬å¤„ç†ã€‚ æ³¨æ„å­—ç¬¦é›†çš„ç»Ÿä¸€ï¼Œé¿å…å„ä¸ªå­—ç¬¦é›†å·®å¼‚å¯¼è‡´è½¬ä¹‰é—®é¢˜ã€‚ sqlä¸å¼€ä¸¥æ ¼æ¨¡å¼ï¼Œé‡åˆ°è¶…é•¿è¾“å…¥å¯èƒ½ä¼šæˆªæ–­ï¼Œé‚£ä¹ˆæ’å…¥ä¸adminåŒåæ•°æ®åï¼Œæ ¹æ®é€»è¾‘å¯èƒ½å°±å¯ä»¥è¶Šæƒè®¿é—®ã€‚ é˜²å¾¡ æœ‰äº›escapeåªèƒ½è½¬ä¹‰éƒ¨åˆ†å­—ç¬¦ï¼Œé»‘åå•å½¢å¼ä¸å¤ªè¡Œã€‚ é¢„ç¼–è¯‘è¯­å¥æ˜¯é˜²èŒƒæ³¨å…¥çš„æœ€å¥½æ–¹æ³•ã€‚ ä½¿ç”¨å®‰å…¨çš„å­˜å‚¨è¿‡ç¨‹ä¹Ÿèƒ½æŠµæŠ—sqlæ³¨å…¥ã€‚ æ£€æŸ¥æ•°æ®ç±»å‹å¯ä»¥é˜²èŒƒæ³¨å…¥ã€‚ ä½¿ç”¨å®‰å…¨å‡½æ•°å¯ä»¥å¯¹æŠ—sqlæ³¨å…¥ï¼Œæ¯”å¦‚ç¼–ç å‡½æ•°ã€‚ æœ€å¥½æ–¹æ³•æ˜¯é™åˆ¶æƒé™ï¼Œå¦‚è‡ªå®šä¹‰å‡½æ•°ï¼Œæ“ä½œæœ¬åœ°æ–‡ä»¶ã€‚ å…¶ä»–æ³¨å…¥ XMLæ³¨å…¥ï¼Œå¯ä»¥æ„é€ æ¶æ„æ•°æ®æ¥æ’å…¥ã€‚ ä»£ç æ³¨å…¥ï¼Œä¸»è¦å‘ç”Ÿåœ¨evalç­‰ä¸å®‰å…¨çš„å‡½æ•°ä¸Šã€‚jspçš„includeä¹Ÿèƒ½å¯¼è‡´æ³¨å…¥ï¼Œå¤šè§äºè„šæœ¬è¯­è¨€ã€‚ CRLFæ³¨å…¥ï¼Œè¿™ä¿©æ˜¯ä¸åŒè¯­ä¹‰çš„åˆ†éš”ç¬¦ï¼Œå¯ä»¥æ³¨å…¥æ¥æ”¹å˜è¯­ä¹‰ï¼Œä¿®æ”¹æ—¥å¿—ã€‚ æœ€å æ•°æ®ä¸ä»£ç åˆ†ç¦»ï¼Œåœ¨æ‹¼å‡‘çš„åœ°æ–¹è¿›è¡Œå®‰å…¨æ£€æŸ¥å³å¯ã€‚ ç¬¬å…«ç«  æ–‡ä»¶ä¸Šä¼ æ¼æ´ä¸Šä¼ äº†å¯æ‰§è¡Œè„šæœ¬ï¼Œé€šè¿‡è„šæœ¬æ–‡ä»¶è·å–åˆ°äº†æ‰§è¡ŒæœåŠ¡ç«¯å‘½ä»¤çš„èƒ½åŠ›ã€‚ å®‰å…¨é—®é¢˜ï¼š ä¸Šä¼ webè„šæœ¬è¯­è¨€ï¼ŒæœåŠ¡å™¨çš„webå®¹å™¨è§£é‡Šäº†è„šæœ¬ ä¸Šä¼ äº†flashçš„ç­–ç•¥æ–‡ä»¶crossdomain.xmlï¼Œé»‘å®¢ç”¨æ¥æ§åˆ¶flashåœ¨è¯¥åŸŸä¸‹çš„è¡Œä¸º ä¸Šä¼ äº†ç—…æ¯’æœ¨é©¬æ–‡ä»¶ï¼Œè¯±éª—ä¸‹è½½ ä¸Šä¼ é’“é±¼å›¾ç‰‡æˆ–è€…åŒ…å«äº†è„šæœ¬çš„å›¾ç‰‡ï¼Œè¢«å½“æˆè„šæœ¬æ‰§è¡Œ ä¸Šä¼ æ–‡ä»¶ä½œä¸ºå…¥å£ï¼Œæº¢å‡ºåå°å¤„ç†ç¨‹åº ä¸Šä¼ çš„æ–‡ä»¶èƒ½è¢«Webå®¹å™¨è§£é‡Šæ‰§è¡Œï¼Œæ‰€åœ¨ç›®å½•æ˜¯webå®¹å™¨æ‰€è¦†ç›–çš„ç›®å½•ï¼Œç”¨æˆ·èƒ½å¤Ÿé€šè¿‡webè®¿é—®ï¼Œè€Œä¸”æ²¡æœ‰è¢«å®‰å…¨æ£€æŸ¥ï¼Œæ ¼å¼åŒ–ï¼Œå›¾ç‰‡å‹ç¼©ç­‰ã€‚ ç»•å¼€ä¸Šä¼ æ£€æŸ¥ åœ¨æ–‡ä»¶ååé¢æ·»åŠ ä¸€ä¸ª%00çš„å­—ç¬¦ï¼Œåœ¨c phpè¢«è®¤ä¸ºæ˜¯ç»ˆæ­¢ç¬¦ï¼Œé‚£ä¹ˆå¯ä»¥æ„é€ æ–‡ä»¶åç»•å¼€æ–‡ä»¶ååç¼€ç±»å‹æ£€æŸ¥ã€‚ åˆ¤æ–­å‰åä¸ªå­—èŠ‚é€šå¸¸èƒ½åˆ¤æ–­æ–‡ä»¶çš„çœŸå®ç±»å‹ï¼Œå› æ­¤å¯ä»¥ä¼ªé€ æ–‡ä»¶å¤´å‰256ä¸ªå­—èŠ‚ï¼Œåˆ¤æ–­æ–‡ä»¶ç±»å‹ã€‚ åŠŸèƒ½oræ¼æ´ åœ¨apacheæ›¾ç»çš„æ–‡ä»¶è§£æä¸­ï¼Œä¼šä»åå¾€å‰è§£æï¼Œç›´åˆ°é‡åˆ°è®¤è¯†çš„æ–‡ä»¶åä¸ºæ­¢ã€‚ åœ¨IISæ–‡ä»¶è§£æä¸­ï¼Œæˆªæ–­å­—ç¬¦ä¸ºåˆ†å·ï¼›å› æ­¤å¯ä»¥é€ è„šæœ¬åã€‚æ–‡ä»¶å¤¹æ‰©å±•åä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œ/.asp/æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶éƒ½è¢«è§£é‡Šä¸ºaspæ–‡ä»¶ã€‚ é’ˆå¯¹IISï¼Œå¯ä»¥ç”¨PUTæ–¹æ³•å’ŒMOVEæ–¹æ³•ï¼Œå°†æ–‡æœ¬æ–‡ä»¶æ”¹å†™ä¸ºè„šæœ¬æ–‡ä»¶ã€‚é¦–å…ˆç”¨OPTIONSæ¥æŸ¥çœ‹æ”¯æŒçš„æ–¹æ³•ï¼Œç„¶åç”¨PUTä¸Šä¼ æ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨MOVEæ”¹åã€‚ php cgiè·¯å¾„è§£æå­˜åœ¨é—®é¢˜ï¼Œå½“è®¿é—®xxx.com/a.jpg/x.phpæ—¶å€™ä¼šæŠŠa.jpgå½“phpè§£æã€‚åŸå› æ˜¯è§£æåœ°å€åæ—¶å€™ä¼šå‘ä¸Šé€’å½’ã€‚ 302èƒ½è·³è½¬åˆ°é’“é±¼ç½‘ç«™ï¼Œè€Œåˆ©ç”¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œé€šè¿‡ä¼ æ’­è¿™ä¸ªæ–‡ä»¶çš„urlè¿›è¡Œé’“é±¼ï¼Œåœ¨è€ç‰ˆæœ¬çš„IEä¸­ä¼šå°†å›¾ç‰‡å½“HTMLæ‰§è¡Œã€‚ è®¾è®¡æ–‡ä»¶ä¸Šä¼  æ–‡ä»¶ä¸Šä¼ ç›®å½•æ²¡æœ‰execæƒé™ï¼Œä½œä¸ºé™æ€æ–‡ä»¶å¤„ç†ã€‚ åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œä½¿ç”¨MIME Type åç¼€åç­‰ç”¨ç™½åå•æ–¹æ³•ï¼Œå¯¹äºå›¾ç‰‡å¯ä»¥ç”¨å‹ç¼©å‡½æ•°æˆ–è€…resizeå‡½æ•°æ¥ç ´åä»£ç ã€‚ ç”¨éšæœºæ•°æ”¹å†™æ–‡ä»¶åï¼Œæ–‡ä»¶è·¯å¾„ã€‚ å•ç‹¬è®¾ç½®æ–‡ä»¶æœåŠ¡å™¨çš„åŸŸåã€‚ ç¬¬ä¹ç«  è®¤è¯å’Œä¼šè¯ç®¡ç†è®¤è¯ç”¨äºè¾¨è®¤ç”¨æˆ·æ˜¯è°ï¼Œæˆæƒç”¨äºå†³å®šç”¨æˆ·èƒ½åšä»€ä¹ˆã€‚ å¯†ç å¿…é¡»ç”¨ä¸å¯é€†çš„åŠ å¯†ç®—æ³•ï¼Œå•å‘æ•£åˆ—å‡½æ•°åŠ å¯†å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚ ç ´è§£MD5åçš„æ–¹æ³•ï¼šå½©è™¹è¡¨ï¼Œæ”¶é›†å¤§é‡æ˜æ–‡å’ŒMD5ï¼Œæ¥è¿›è¡ŒæŸ¥æ‰¾ã€‚å¯ä»¥é€šè¿‡åŠ ç›å¤„ç†ã€‚ sessionIDé€šå¸¸åŠ å¯†åä¿å­˜åœ¨Cookieä¸­ï¼Œä½†ä¹Ÿå¯èƒ½è¢«çªƒå–ã€‚ å¦‚æœç™»å½•å‰åsessionIDæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ä¼šå‘ç”Ÿsession fixationé—®é¢˜ï¼Œç”¨æˆ·Xå¯ä»¥è¯±å¯¼ç”¨æˆ·Yæ”¹å˜sessionçŠ¶æ€æ¥å®ç°æ”»å‡»ã€‚æ¯”å¦‚è¯±å¯¼ç‚¹å‡»URLã€‚æ‰€ä»¥åœ¨ç™»é™†å®Œæˆåéœ€è¦é‡å†™sessionIDã€‚ sessionå­˜åœ¨ä¿æŒæ”»å‡»ï¼Œåªè¦ä¸åœå‘èµ·è¯·æ±‚ï¼Œå°±å¯ä»¥ä¸€ç›´æ´»ä¸‹å»ã€‚ æœ‰äº›æ—¶å€™sessionä¸ä¼šåœ¨æœåŠ¡ç«¯ç»´æŠ¤ï¼Œç”¨å®¢æˆ·ç«¯çš„cookieçš„expireæ—¶é—´ï¼Œä½†ç”±äºåœ¨å®¢æˆ·ç«¯ï¼Œå› æ­¤å¾ˆå®¹æ˜“è¢«æ”»å‡»ã€‚ å¯ä»¥å¼ºåˆ¶é”€æ¯sessionï¼Œæˆ–è€…å½“ip uaå˜åŒ–æ—¶å€™å¼ºåˆ¶é”€æ¯é‡æ–°ç™»å½•ã€‚ä¸å…è®¸å¤šä¸ªsessionç”Ÿæ•ˆã€‚ å•ç‚¹ç™»å½•SSOï¼šç™»å½•ä»¥æ­¤å¯ä»¥è®¿é—®æ‰€æœ‰ç³»ç»Ÿã€‚è¿™æ ·å¯ä»¥é›†ä¸­é£é™©ï¼Œåœ¨é‡ç‚¹ä½¿ç”¨å¤šç§æ–¹æ³•ï¼Œç”šè‡³å§”æ‰˜ç»™ç¬¬ä¸‰æ–¹ã€‚æ—¢æ˜¯ä¼˜ç‚¹ä¹Ÿæ˜¯ç¼ºç‚¹ã€‚å¯ä»¥ç”¨OpenIDæ¡†æ¶æ¥è®¤è¯ã€‚ ç¬¬åç«  è®¿é—®æ§åˆ¶è®¿é—®æ§åˆ¶æ˜¯æŸä¸ªä¸»é¢˜å¯¹æŸä¸ªå®¢ä½“å®æ–½æŸç§æ“ä½œçš„é™åˆ¶ã€‚å¯ä»¥é€šè¿‡ACLè®¿é—®æ§åˆ¶åˆ—è¡¨æ¥å†³å®šã€‚ åŸºäºURLçš„è®¿é—®æ§åˆ¶ï¼Œé€šè¿‡æƒé™è®¤è¯æ˜¯å¦èƒ½è®¿é—®urlæ¥å®ç°ã€‚å¯ä»¥é€šè¿‡å­—å…¸æ‰¾åˆ°urlæ¥è®¿é—®ã€‚ spring securityæ”¯æŒåŸºäºurl method è¡¨è¾¾å¼çš„è®¿é—®æ§åˆ¶ï¼Œé…ç½®æ–‡ä»¶å¤æ‚ï¼Œå­¦ä¹ ç»´æŠ¤æˆæœ¬è¾ƒé«˜ã€‚ ç”¨æˆ·-è§’è‰²-æƒé™ ç§°ä¹‹ä¸ºå‚ç›´æƒé™ç®¡ç†ã€‚ éœ€è¦æ£€æŸ¥èµ„æºæ˜¯å¦å±äºå¯¹åº”ç”¨æˆ·ï¼Œè™½ç„¶è§’è‰²å…±äº«ï¼Œä½†å­˜åœ¨ç§æœ‰æ•°æ®ã€‚å› æ­¤ä¹Ÿå­˜åœ¨æ°´å¹³æƒé™ç®¡ç†é—®é¢˜ã€‚ OAuthæ˜¯ä¸æä¾›ç”¨æˆ·åå’Œå¯†ç æƒ…å†µä¸‹ï¼Œæˆæƒç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®Webèµ„æºçš„å®‰å…¨åè®®.ç”¨request tokenæ¢access tokenï¼Œç„¶åç”¨access tokenè®¿é—®èµ„æºã€‚ å¯ä»¥ä½¿ç”¨å¤–éƒ¨OAuthåº“æ¥è¿›è¡Œä½¿ç”¨ã€‚ ç¬¬åä¸€ç«  åŠ å¯†ç®—æ³•å’Œéšæœºæ•°å¸¸è§æœ‰åˆ†ç»„åŠ å¯†å’Œæµå¯†ç åŠ å¯†ã€‚ æµå¯†ç ï¼šåŸºäºå¼‚æˆ–æ“ä½œï¼Œå¸¸è§é”™è¯¯æ˜¯å¯¹åŒä¸€ä¸ªå¯†é’¥å¤šæ¬¡åŠ è§£å¯†ï¼Œç”±äºå¼‚æˆ–è¿ç®—çš„ç‰¹æ€§å†³å®šã€‚åŒæ ·åˆ©ç”¨åŸç†ï¼Œå¯ä»¥æ„é€ å’Œç®¡ç†å‘˜ä¸€æ ·çš„å¯†æ–‡æ¥è¶Šæƒï¼Œè¿™ä¸ªå¯ä»¥ç”¨æ¶ˆæ¯éªŒè¯ç MACéªŒè¯æ˜¯å¦è¢«ç¯¡æ”¹ã€‚æœ‰æ—¶å€™å­˜åœ¨å¼±éšæœºé—®é¢˜ï¼Œå¯ä»¥æš´åŠ›ç ´è§£ã€‚ WEPå¯†ç å°±æ˜¯é‡‡ç”¨æµå¯†ç çš„RC4ï¼Œå¯ä»¥ç”¨æš´åŠ›å’Œç­‰å¾…åˆå§‹åŒ–å‘é‡é‡å¤æ¥æ‰§è¡Œã€‚ ECBç”µç æœ¬æ¨¡å¼ï¼Œæ¯ä¸ªåˆ†ç»„ä¹‹é—´ç›¸å¯¹ç‹¬ç«‹ï¼Œå¯ä»¥è§‚å¯Ÿå‡ºæ¥ã€‚æ”¹å˜å¯†æ–‡é¡ºåºä¹Ÿå¯ä»¥æ”¹å˜æ˜æ–‡é¡ºåºï¼Œæœ‰å…¶ç»Ÿè®¡ç‰¹å¾ã€‚ CBCé“¾å¼åŠ å¯†æ¨¡å¼ï¼Œå‰åä¼šäº’ç›¸å…³è”ã€‚å…ˆå°†åˆå§‹åŒ–å‘é‡å’Œç¬¬ä¸€ä¸ªåˆ†ç»„å¼‚æˆ–å®Œæˆå¹¶ä¸”DESå®Œæˆï¼Œç„¶åå°†ç»“æœä¸ç¬¬äºŒä¸ªåˆ†ç»„å¼‚æˆ–ã€‚æœ€åå¡«å……ä¸æ­£ç¡®åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœæœ€åä¸€ä¸ªåˆ†ç»„æ¶ˆæ¯é•¿åº¦æ²¡æœ‰è¾¾åˆ°ï¼Œåˆ™ä¼šå¡«å……ï¼Œæ¯”å¦‚å‰©ä¸‹5ä¸ªå­—èŠ‚åˆ™æ¯ä¸ªå­—èŠ‚å¡«å……ä¸ª5ä¹‹ç±»çš„ã€‚å¦‚æœæ­£å¥½ä¸º8åˆ™åŠ ä¸€ä¸ªå…¨ä¸º8çš„åˆ†ç»„ã€‚ CBCæ¨¡å¼ç ´è§£ï¼šå…ˆæ ¹æ®å¯†æ–‡é•¿åº¦ï¼Œæ£€æŸ¥æ˜¯8å­—èŠ‚è¿˜æ˜¯16å­—èŠ‚ã€‚ç„¶åæ„é€ åˆå§‹åŒ–å‘é‡ï¼Œç›´åˆ°paddingæ­£ç¡®ï¼Œè¿™æ—¶å€™å°±èƒ½ç¡®å®šä¸­é—´å€¼çš„æœ€åä¸€ä½ã€‚åŒç†ï¼Œå¯ä»¥ç¡®å®šä¸­é—´å€¼çš„æ‰€æœ‰ä½ï¼Œä»æ­¤å¯ä»¥è·å¾—æ˜æ–‡ã€‚ å¯†é’¥ç®¡ç† ä¸è¦æŠŠå¯†é’¥ç¡¬ç¼–ç åˆ°ä»£ç é‡Œé¢ã€‚å½“ä»£ç å¹¿æ³›ä¼ æ’­ï¼Œæˆ–è€…é€†å‘åä¼šè¢«æ³„éœ²ï¼Œèƒ½å¤Ÿè®¿é—®åˆ°ä»£ç çš„äººå‘˜ä¹Ÿä¼šæ³„éœ²ã€‚æ­£ç¡®åšæ³•æ˜¯æ”¾åœ¨é…ç½®æ–‡ä»¶æˆ–è€…æ•°æ®åº“ä¸­ã€‚å¹¶ä¸”å‡å°‘è®¿é—®æƒé™ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦é‡æ–°ç”Ÿäº§å¯†é’¥ï¼Œå®šæœŸæ›´æ¢å¯†é’¥ï¼Œå¯ä»¥å°†æ‰€æœ‰å¯†é’¥æ”¾åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸­ï¼Œé€šè¿‡æœåŠ¡æ¥è·å–å¯†é’¥ï¼Œä¸å±‘é“æœ¬åœ°æ–‡ä»¶ä¸­ï¼ŒåªåŠ è½½åˆ°å†…å­˜é‡Œã€‚ ä¼ªéšæœºæ•° opensslæ›¾ç»åªèƒ½ä»¥pidä¸ºseedï¼Œå¯¼è‡´åªæœ‰32768ä¸ªç§å­ï¼Œå¾ˆå¿«å¯ä»¥éå†keyã€‚ è®¸å¤šåœ°æ–¹éƒ½ç”¨ä¼ªéšæœºæ•°ã€‚ç³»ç»Ÿæ—¶é—´æ›¿ä»£ä¼ªéšæœºæ•°å®¹æ˜“ç”Ÿæˆé—®é¢˜ï¼Œå› ä¸ºè¿™é€‚åˆæ—¶é—´é¡ºåºå¢é•¿çš„ã€‚ä¸è¦æŠŠæ—¶é—´å‡½æ•°å½“éšæœºæ•°ç”¨ã€‚ ä¼ªéšæœºæ•°å­˜åœ¨ç§å­ï¼Œrandçš„èŒƒå›´éå¸¸å°ï¼Œåªæœ‰32767ã€‚ä¼ªéšæœºæ•°ç§å­ç¡®å®šåæ±‚çš„å€¼æ˜¯å›ºå®šçš„ã€‚ç”±äºç§å­æ•°é‡å¯èƒ½å›ºå®šï¼Œå› è€Œå¯ä»¥éå†ã€‚å½“å·²çŸ¥ç¬¬ä¸€ä¸ªå€¼ä¹‹åï¼Œå¯ä»¥çŒœæµ‹ç§å­è¿›è¡Œéå†ã€‚å¯ä»¥å‘é€keep aliveå¤´ï¼Œå¼ºåˆ¶æ‰€æœ‰æœåŠ¡ç«¯ä½¿ç”¨åŒä¸€phpè¿›ç¨‹å“åº”ã€‚ è¿™äº›å¯ä»¥ä½¿ç”¨è¶³å¤Ÿå®‰å…¨çš„éšæœºæ•°ç®—æ³•è§£å†³ã€‚ æ€»ç»“ ä¸è¦ç”¨ECB ä¸è¦æµå¯†ç  ç”¨HMAC-SHA1æ›¿ä»£MD5 ä¸è¦ç”¨ç›¸åŒkeyåšä¸åŒäº‹æƒ… saltå’Œåˆå§‹å‘é‡è¦éšæœº ç”¨åˆ«äººå®ç°çš„åŠ å¯†ç®—æ³• ä¸è¦ä¾èµ–ç³»ç»Ÿçš„ä¿å¯†æ€§ ç”¨CBCçš„AES256åŠ å¯† ç”¨HMAC-SHA512æ£€æŸ¥ ç”¨å¸¦saltçš„SHA256è¿›è¡ŒHash ç¬¬åäºŒç«  WEBæ¡†æ¶å®‰å…¨åœ¨æ­£ç¡®çš„åœ°æ–¹åšæ­£ç¡®çš„äº‹ï¼ŒModelå±‚è¦è§£å†³çš„é—®é¢˜ä¸è¦ä¸¢ç»™viewå±‚ã€‚ åœ¨ä¸åŒçš„åœºæ™¯éœ€è¦ä¸åŒçš„ç¼–ç å‡½æ•°ï¼Œæ¯”å¦‚å­˜åœ¨ä¸€äº›åœºæ™¯ï¼Œè‡ªåŠ¨è½¬ç ä¸å¤Ÿç”¨ï¼Œæœ‰äº›åœºæ™¯éœ€è¦åŠ å…¥sqlè½¬ç ï¼Œxmlè½¬ç ï¼Œjsè½¬ç ç­‰ã€‚ è¯»å†™æ“ä½œéœ€è¦åŒºåˆ†ï¼Œåœ¨å­˜åœ¨å†™æ“ä½œéœ€è¦æ³¨æ„CSRFã€‚ åœ¨webæ¡†æ¶ä¸­é˜²csrfï¼š sessionä¸­ç»‘å®štoken æˆ–è€…ä»£ä¸ºä¿å­˜åˆ°cookieä¸­ formä¸­è‡ªåŠ¨å¡«å…¥tokenå­—æ®µ ajaxè‡ªåŠ¨æ·»åŠ token postæ—¶å€™éªŒè¯tokenå‚æ•° æ§åˆ¶HTTPå¤´ï¼Œç®¡ç†å¥½è·³è½¬å‡½æ•°ï¼Œæ§åˆ¶Locationå­—æ®µï¼Œä½¿ç”¨å°è£…å¥½çš„cookieå‡½æ•°ã€‚ ä½¿ç”¨ORMåº”å¯¹SQLæ³¨å…¥ï¼Œé¢„ç¼–è¯‘ï¼Œæ‰¾åˆ°åŠ¨æ€å˜é‡æ¥å®ç°ã€‚ æ–‡ä»¶ä¸Šä¼ ä¹Ÿç”¨åˆ«äººå†™å¥½çš„ã€‚ spring securityä¸ºSpring mvcæä¾›è®¸å¤šå®‰å…¨åŠŸèƒ½ï¼Œä½†ç¼ºä¹XSS CSRFç­‰ã€‚ Webæ¡†æ¶è‡ªèº«ä¹Ÿå¯èƒ½å­˜åœ¨å®‰å…¨é—®é¢˜ã€‚ ç¬¬åä¸‰ç«  åº”ç”¨å±‚æ‹’ç»æœåŠ¡æ”»å‡»DDOSï¼šåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼Œæœ‰SYNæ³›æ´ªï¼ŒUDPæ³›æ´ªï¼ŒICMPæ³›æ´ªã€‚ åº”ç”¨å±‚DDOSåŒºåˆ«äºç½‘ç»œå±‚ï¼ŒTCPå·²ç»å»ºç«‹è¿æ¥ã€‚æ¯”å¦‚åœ¨å¤§æµé‡ç½‘ç«™siteAä¸Šæ’å…¥iframeä»£ç ã€‚ åº”å¯¹DDOSå¯ä»¥é‡‡ç”¨é™åˆ¶è¯·æ±‚é¢‘ç‡ï¼Œä½†IPå¯ä»¥å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…å¤§é‡åƒµå°¸æœºå™¨ã€‚å› æ­¤è¦åšå¥½æ€§èƒ½ä¼˜åŒ–ï¼Œè´Ÿè½½å‡è¡¡ï¼ŒCDNï¼Œé™åˆ¶è¯·æ±‚é¢‘ç‡ã€‚ éªŒè¯ç å¯èƒ½å­˜åœ¨éå†å›¾ç‰‡çš„ç ´è§£æ–¹æ³•ï¼Œæœ‰æ—¶å€™æ ¹æ®sessionIDç”Ÿæˆçš„éªŒè¯ç æœªå¤±æ•ˆã€‚ä½†ç°åœ¨ä¹Ÿå­˜åœ¨æœºå™¨è¯†åˆ«ã€‚ é˜²å¾¡DDOSå¯ä»¥è®©å®¢æˆ·ç«¯è§£æä¸€æ®µjsï¼Œå¹¶ä¸”ç»™å‡ºæ­£ç¡®çš„è¿è¡Œç»“æœã€‚è¿˜å¯ä»¥è®¾ç½®å‚æ•°ç¼“è§£DDOSã€‚å¯ä»¥æ ¹æ®é¢‘ç‡è¿›è¡Œæ‹¦æˆªã€‚ å¹¶å‘è¿æ¥æ•°é‡å­˜åœ¨ä¸Šçº¿ï¼Œå¦‚æœæ‰€æœ‰è¿æ¥éƒ½è¢«å ç”¨ï¼Œå°±ä¼šæ‹’ç»æœåŠ¡ã€‚å› è€Œå¯ä»¥æ¶ˆè€—èµ„æºã€‚ HTTP POSTç”¨å¾ˆæ…¢çš„é€Ÿåº¦å‘åŒ…ï¼Œè¿æ¥ä¸æ–­å¼€ï¼Œå¯èƒ½å¯¼è‡´èµ„æºè€—å°½ã€‚ ä½¿ç”¨XSSï¼Œå†™å…¥ä¸€ä¸ªè¶…é•¿cookieå¯¼è‡´æ— æ³•è®¿é—®ï¼Œä¹Ÿä¼šå¯¼è‡´æ‹’ç»æœåŠ¡ã€‚ æ­£åˆ™å†™çš„ä¸å¥½ä¹Ÿå¯èƒ½å¯¼è‡´èµ„æºå¤§é‡æ¶ˆè€—ï¼Œå¯èƒ½å¯¼è‡´æ­£åˆ™è®¡ç®—å¤æ‚åº¦è¿‡é«˜ï¼Œä»è€Œæ”»å‡»ã€‚ ç¬¬åå››ç«  PHPå®‰å…¨æ–‡ä»¶åŒ…å«æ¼æ´ PHPï¼šinclude include_once require require_once fopen readfile JSP :java.io.File java.io.FileReader ASPï¼šinclude file include virtual å½“ä½¿ç”¨includeï¼Œä¼šè¢«ä½œä¸ºphpä»£ç æ‰§è¡Œï¼Œä¸ä¼šåœ¨æ„åŒ…å«æ–‡ä»¶ç±»å‹ã€‚å½“includeé€šè¿‡åŠ¨æ€å˜é‡åŒ…å«æ–‡ä»¶ï¼Œè€Œä¸”ç”¨æˆ·å¯ä»¥æ§åˆ¶è¯¥å˜é‡ï¼Œåˆ™å¯ä»¥åˆ©ç”¨ã€‚ phpå†…æ ¸ä½¿ç”¨cè¯­è¨€ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨0å­—ç¬¦æˆªæ–­ã€‚æ­¤å¤–è¿˜å¯ä»¥åˆ©ç”¨æœ€å¤§å­—ç¬¦é•¿åº¦ï¼Œç”¨./æ¥æ„é€ ç›®å½•ã€‚æ„é€ ç›®å½•æ–¹æ³•å¯ä»¥ç”¨ç¼–ç æ¥åˆ©ç”¨ã€‚ fopen fcloseåŒæ ·å±é™©ï¼Œå› ä¸ºå¯ä»¥è¯»å–æ•æ„Ÿæ–‡ä»¶ã€‚ å¯ä»¥åˆ©ç”¨å­—ç¬¦æ¥éå†ç›®å½•æ¼æ´ã€‚å¯ä»¥ç”¨Open_basediræ¥é™åˆ¶ã€‚ PHPè¿˜èƒ½åŠ è½½è¿œç¨‹æ–‡ä»¶ï¼Œæ„é€ URLæ¥æ‰§è¡Œã€‚ åŒ…å«æœ¬åœ°æ–‡ä»¶éœ€è¦çŸ¥é“å…·ä½“ä½ç½®ï¼Œå¯ä»¥åŒ…å«sessionæ–‡ä»¶ï¼Œä»–åœ¨/tmpç›®å½•ä¸‹ã€‚ä¹Ÿå¯ä»¥ç”¨åŒ…å«æ—¥å¿—æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å‡Œæ™¨å»æ”»å‡»æ—¥å¿—ã€‚ ä½ç½®å¯ä»¥ç”¨é»˜è®¤å®‰è£…ï¼Œè‡ªå®šä¹‰å®‰è£…çš„å„ç§ç›®å½•æ¥çŒœæµ‹ã€‚å¯ä»¥ç”¨è‡ªåŠ¨åŒ–è„šæœ¬æ¥æ‰“ã€‚ ç›®å½•ä½ç½®å®Œå…¨çŒœä¸åˆ°ï¼Œå¯ä»¥å°è¯•é”™è¯¯å›æ˜¾ï¼Œæˆ–è€…åˆ©ç”¨/proc/self/environï¼Œçœ‹ç¯å¢ƒå˜é‡æ¥å®Œæˆæ”»å‡»ã€‚ ä¸´æ—¶æ–‡ä»¶å¯ä»¥æš´åŠ›çŒœæ–‡ä»¶åï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ã€‚ å˜é‡è¦†ç›–æ¼æ´ å˜é‡æœªåˆå§‹åŒ–è€Œä¸”èƒ½è¢«æ§åˆ¶ï¼Œåˆ™å¾ˆä¸å®‰å…¨ã€‚å¯ä»¥åœ¨urlé‡Œé¢è¦†ç›–å…¨å±€å˜é‡ã€‚ extractå¯ä»¥å°†å˜é‡ä»æ•°ç»„å¯¼å…¥ç¬¦å·è¡¨ï¼Œå¯ä»¥overwriteã€‚ é˜²å¾¡ï¼šå…ˆä¿è¯register_globals = OFF é˜²æ­¢å„ç§å¯èƒ½é€ æˆå˜é‡è¦†ç›–çš„å‡½æ•°ï¼Œè®°å¾—åˆå§‹åŒ–å˜é‡ã€‚ ä»£ç æ‰§è¡Œæ¼æ´ å°å¿ƒå±é™©å‡½æ•°ï¼Œæ¯”å¦‚popen system passthru exec evalç­‰ã€‚ ç¬¬åäº”ç«  WebServeré…ç½®å®‰å…¨Apache httpd æ£€æŸ¥Moduleå®‰è£…æƒ…å†µï¼Œæ³¨æ„æœ€å°æƒé™ï¼Œå‡å°‘ä¸å¿…è¦Moduleï¼Œæ³¨æ„Moduleçš„å®‰å…¨æ¼æ´ã€‚ ä¸è¦ä»¥é«˜æƒé™èº«ä»½è¿è¡ŒApacheï¼Œå…¥ä¾µåä¼šè·å¾—é«˜æƒé™shellï¼Œapacheæœ¬èº«ä¼šåšå±é™©æ“ä½œã€‚ Nginx Nginxè¦æ³¨æ„è‡ªèº«è½¯ä»¶ç‰ˆæœ¬ï¼Œåˆç†é…ç½®æ–‡ä»¶ï¼Œå¤„ç†UAä¹‹ç±»çš„æ¥ç®¡æ§æœåŠ¡ã€‚ jBoss ç®¡ç†åå°åŠŸèƒ½å¼ºå¤§ï¼Œé»˜è®¤æ²¡æœ‰è®¤è¯ï¼Œæœ‰å¤šç§è¿œç¨‹æ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•ã€‚ Tomcat Tomcatåå°ä¹Ÿé»˜è®¤è·‘åœ¨8080ï¼Œéƒ¨ç½²waråŒ…éœ€è¦manageræƒé™ï¼Œå¯ä»¥è„šæœ¬è‡ªåŠ¨æ‰“ã€‚ è¯»åæ„Ÿåœ¨ç¬¬15ç« ä¹‹åï¼Œéƒ½æ˜¯ä¸€äº›æ›´é«˜å±‚é¢çš„å®‰å…¨é—®é¢˜ï¼Œæˆ‘è‡ªå·±è§‰å¾—è¿™äº›å±‚é¢çš„é—®é¢˜è™½ç„¶ä¹Ÿå¾ˆé‡è¦ï¼Œä½†ç¼ºä¹ç»†èŠ‚ï¼Œæœ‰äº›äº‹æƒ…ä¹Ÿä¸æ˜¯å¼€å‘å²—èƒ½è§£å†³çš„äº‹ã€‚æˆ‘è‡ªå·±æœ¬äººæ˜¯åç«¯å¼€å‘å²—ï¼Œæœ‰äº›æ›´é«˜å±‚æ¬¡çš„é—®é¢˜ä¸æ˜¯å±äºæˆ‘èƒ½è§£å†³çš„é—®é¢˜ï¼Œæ‰€ä»¥æ²¡æœ‰é˜è¿°ã€‚ å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘è®¤ä¸ºè¿™æœ¬ä¹¦è¿˜æ˜¯ç›¸å½“æœ‰ä»·å€¼çš„ï¼Œå°½ç®¡æˆ‘æœ¬äººä¸å†™PHPï¼Œè€Œä¸”è¿™æœ¬ä¹¦ä¹Ÿæœ‰äº›å¹´å¤´äº†ï¼Œä¸€äº›ä¸œè¥¿ä¹Ÿè¿‡æ—¶äº†ï¼Œä½†å¯¹äºæˆ‘è¿™ä¸ªå®Œå…¨æ²¡æœ‰ä»€ä¹ˆå®‰å…¨ç»éªŒçš„äººï¼Œèƒ½å¤Ÿè¯»æ‡‚ï¼Œäº†è§£ä¸€äº›å®‰å…¨çš„å†…å®¹ï¼Œè¿˜æ˜¯å¾ˆæœ‰æ„æ€ã€‚ è¿™æœ¬ä¹¦ä»‹ç»çš„ä¸€äº›ä¾‹å­å¾ˆå¥½åœ°å±•ç¤ºäº†ä¸€äº›æ”»å‡»çš„æ‰‹æ®µï¼Œâ€œé»‘å®¢â€è‡ªæˆ‘ä»å°ä»¥æ¥ä¸€ç›´æ˜¯ä¸ªå¾ˆç‚«é…·çš„ç§°å·ï¼Œåœ¨é˜…è¯»äº†è¿™äº›æ‰‹æ®µä¹‹åæˆ‘ä¹Ÿè§‰å¾—ï¼Œä¸€äº›æ‰‹æ®µç€å®æ˜¯åˆ©ç”¨äº†äººæ€§ï¼Œå……æ»¡æ™ºæ…§ï¼Œç›¸å½“å·§å¦™ã€‚èƒ½å¤Ÿæƒ³åˆ°è¿™äº›æ‰‹æ®µçš„äººæˆ–è®¸æ˜¯çµå…‰ä¸€ç°ï¼Œä½†ä¹Ÿç»å†è¿‡ç›¸å½“çš„ç§¯ç´¯ï¼Œæˆ‘å¯¹æ­¤æ— æ¯”æ„Ÿæ…¨ã€‚è¿™äº›å¥‡æ€ªçš„æ‰‹æ®µï¼Œè®©è¿™æœ¬ä¹¦ä½œä¸ºå‡æœŸçš„æ¶ˆé£å¨±ä¹ä¹Ÿç®—å¾ˆæœ‰æ„æ€ã€‚ å½“ç„¶ï¼Œå¯¹æ‰‹æ®µçš„äº†è§£ä¹Ÿæ„å‘³ç€å¯¹æ‰‹æ®µçš„é˜²èŒƒï¼Œåœ¨ä¹¦ä¸­å…¶å®æåˆ°ä¸å°‘ï¼Œç”¨ç¬¬ä¸‰æ–¹å†™å¥½ï¼Œç»å†è¿‡æ£€éªŒçš„å®‰å…¨åº“ï¼Œç”¨è®¾è®¡è‰¯å¥½çš„æ¡†æ¶æ¥ä¿æŠ¤ï¼Œè¿™ä¹Ÿæ˜¯å¼€å‘çš„ä¸€ä¸ªæŠ€å·§ã€‚åœ¨å®‰å…¨æ–¹é¢ï¼Œå¦‚æœè‡ªå·±æ°´å¹³ä¸å¤Ÿï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ³•ã€‚ æ–‡ç« æ ¼å¼æœ‰äº›æ··ä¹±ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è‡ªå·±çš„ç¬”è®°ä¹ æƒ¯ï¼Œé˜…è¯»ä¸ä¾¿è¯·è§è°…ã€‚ 2021å¹´1æœˆ15æ—¥ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%B0%88web%E5%AE%89%E5%85%A8%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"æ“ä½œç³»ç»Ÿè¯¾ç¨‹å­¦ä¹ ","text":"æœ¬æ–‡ä¸»è¦æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚ ç¬¬ä¸€ç«  æ“ä½œç³»ç»Ÿæ¦‚è¿°æ“ä½œç³»ç»Ÿæ˜¯æ§åˆ¶è½¯ä»¶ï¼Œç®¡ç†åº”ç”¨ç¨‹åºï¼Œé™åˆ¶è½¯ä»¶èµ„æºï¼Œæ€æ­»åº”ç”¨ç¨‹åºã€‚ èµ„æºç®¡ç†ï¼Œå¤–è®¾ç®¡ç†ï¼Œèµ„æºåˆ†é…ã€‚ å±‚æ¬¡åœ¨ç¡¬ä»¶ä¹‹ä¸Šï¼Œåº”ç”¨ç¨‹åºä¹‹ä¸‹ã€‚ ç»„ä»¶åŒ…æ‹¬ï¼šCPUè°ƒåº¦ï¼Œç‰©ç†å†…å­˜ç®¡ç†ï¼Œè™šæ‹Ÿå†…å­˜ç®¡ç†ï¼Œæ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼Œä¸­æ–­å¤„ç†å’Œè®¾å¤‡é©±åŠ¨ã€‚ Kernelç‰¹å¾ï¼š å¹¶å‘ï¼šä¸€æ®µæ—¶é—´å†…å¤šä¸ªç¨‹åºè¿è¡Œã€‚ å¹¶è¡Œï¼šä¸€ä¸ªæ—¶é—´ç‚¹è¿è¡Œå¤šä¸ªç¨‹åºã€‚ å…±äº«èµ„æºï¼Œç»™ä¸åŒçš„åº”ç”¨ç¨‹åºã€‚åŒæ—¶è®¿é—®ï¼Œäº’æ–¥å…±äº«ã€‚ è™šæ‹Ÿï¼šå¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½è§‰å¾—è®¡ç®—æœºä¸“é—¨æœåŠ¡ã€‚ å¼‚æ­¥ï¼šç¨‹åºæ‰§è¡Œèµ°èµ°åœåœï¼Œä½†è¿è¡Œç¯å¢ƒç›¸åŒï¼ŒOSä¿è¯è¿è¡Œç»“æœç›¸åŒã€‚ å¾®å†…æ ¸ï¼šåªæŠŠæœ€åŸºç¡€æœåŠ¡æ”¾å…¥å†…æ ¸ï¼Œå…¶ä»–æœåŠ¡æ”¾å…¥ç”¨æˆ·æ€ã€‚ å¤–æ ¸ï¼šç”±åº”ç”¨ç¨‹åºè€Œä¸æ˜¯æ“ä½œç³»ç»Ÿç®¡ç†ç¡¬ä»¶èµ„æºã€‚ VMMï¼šè™šæ‹Ÿæœºç›‘è§†å™¨ï¼Œè·‘åœ¨ä¼ ç»ŸOSä¹‹ä¸‹ï¼Œè™šæ‹Ÿå‡ºæ•´ä¸ªè®¡ç®—æœºï¼ŒåŒ…å«å„ç§å¤–è®¾ã€‚å› ç¡¬ä»¶èµ„æºè¿‡å‰©è€Œè¯ç”Ÿã€‚ ç¬¬äºŒç«  æ“ä½œç³»ç»ŸåŸºç¡€æ“ä½œå¯åŠ¨ DISKå­˜æ”¾OSã€‚ BIOSåŸºæœ¬IOç³»ç»Ÿï¼Œè®©è®¡ç®—æœºå¯åŠ¨åæ£€æµ‹å„ç§å¤–è®¾ã€‚æ£€æµ‹å®Œæˆåæ‰èƒ½å®ŒæˆåŠ è½½å“åº”è½¯ä»¶ã€‚ Bootloaderï¼šåŠ è½½OSã€‚ BIOSåŠ å…¸åä»ç‰¹å®šåœ°å€ï¼ˆx86 CS:IP = 0xf000:fff0 CSæ®µå¯„å­˜å™¨ IPæŒ‡ä»¤å¯„å­˜å™¨ï¼‰åŠ è½½bootloaderã€‚ BIOSåŠ ç”µåå…ˆPOSTåŠ ç”µè‡ªæ£€ï¼Œå¯»æ‰¾æ˜¾å¡å’Œæ‰§è¡ŒBIOSã€‚ ç„¶åä»ç¡¬ç›˜ä¸ŠåŠ è½½Bootloaderï¼Œåœ¨ç¡¬ç›˜ç¬¬ä¸€ä¸ªå¼•å¯¼æ‰‡åŒº512KBã€‚ä¸»è¦åŠŸèƒ½æŠŠOSä»ç¡¬ç›˜åŠ è½½åˆ°å†…å­˜ã€‚ x86ä¸Šï¼Œå°†bootloaderä»å¼•å¯¼æ‰‡åŒºåŠ è½½åˆ°0x7c00ã€‚CPUæ§åˆ¶æƒäº¤ç»™bootloaderã€‚ bootloaderï¼šæ‰¾åˆ°ç¡¬ç›˜æ‰‡åŒºï¼Œäº†è§£osé•¿åº¦ï¼ŒåŠ è½½åˆ°å†…å­˜ã€‚å®Œæˆåè·³åˆ°osèµ·å§‹åœ°å€ï¼Œæ§åˆ¶æƒäº¤ç»™osã€‚ ä¸­æ–­ å¼‚å¸¸ ç³»ç»Ÿè°ƒç”¨ æ“ä½œç³»ç»Ÿï¼šç³»ç»Ÿè°ƒç”¨ï¼Œå¼‚å¸¸ï¼Œä¸­æ–­ã€‚ ç³»ç»Ÿè°ƒç”¨ï¼šä¸»åŠ¨å‘æ“ä½œç³»ç»Ÿå‘å‡ºæœåŠ¡è¯·æ±‚ã€‚ å¼‚å¸¸ï¼šéæ³•æŒ‡ä»¤æˆ–è€…åçš„å¤„ç†çŠ¶æ€ã€‚ ä¸­æ–­ï¼šæ¥è‡ªå¤–è®¾ï¼Œè®¡æ—¶å™¨æˆ–ç½‘ç»œçš„ä¸­æ–­ã€‚ å†…æ ¸æ˜¯è¢«ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹ï¼Œåªæœ‰OSå¯ä»¥æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ã€‚ ä¸‰è€…æºå¤´ä¸åŒï¼Œå¤„ç†æ—¶é—´ä¸åŒã€‚ ä¸­æ–­å¼‚æ­¥ï¼Œå¼‚å¸¸åŒæ­¥ï¼Œç³»ç»Ÿè°ƒç”¨å¼‚æ­¥æˆ–è€…åŒæ­¥ã€‚ å“åº”ï¼šä¸­æ–­å¯¹åº”ç”¨ç¨‹åºä¸å¯è§ï¼Œå¼‚å¸¸ä¼šæ€æ­»åº”ç”¨ç¨‹åºæˆ–è€…é‡æ–°æ‰§è¡Œã€‚ç³»ç»Ÿè°ƒç”¨ä¼šç­‰å¾…å’ŒæŒç»­ã€‚ é¦–å…ˆè¦çŸ¥é“ä¸­æ–­æˆ–è€…å¼‚å¸¸æ˜¯è°äº§ç”Ÿçš„ã€‚æ”¶åˆ°ä¸­æ–­åæŸ¥æ‰¾ä¸­æ–­è¡¨ï¼Œä¿ç•™ç°åœºï¼Œè½¬åˆ°ç›®æ ‡åœ°å€ã€‚ ç¡¬ä»¶éœ€è¦è®¾ç½®å„ç§äº‹ä»¶ä¸­æ–­æ ‡è®°ï¼Œæä¾›ä¸­æ–­IDã€‚ è½¯ä»¶éœ€è¦ä¿å­˜å¤„ç†ç°åœºï¼Œå¤„ç†ä¸­æ–­æœåŠ¡ï¼Œæ¸…é™¤ä¸­æ–­æ ‡è®°ï¼Œé‡æ–°æ‰§è¡ŒæœåŠ¡ã€‚ å¼‚å¸¸ä¹Ÿæœ‰å¼‚å¸¸ç¼–å·ï¼Œç„¶åå¤„ç†å¼‚å¸¸ï¼ˆæ€æ­»æˆ–é‡æ–°æ‰§è¡Œï¼‰ï¼Œç„¶åæ¢å¤ç°åœºã€‚ ç³»ç»Ÿè°ƒç”¨ï¼šç¨‹åºè®¿é—®é«˜å±‚æ¬¡APIè€Œéç³»ç»Ÿè°ƒç”¨ã€‚å¦‚WIN32-API POSIX-API Java-APIï¼ˆéç³»ç»Ÿè°ƒç”¨ï¼Œè€Œæ˜¯JVMï¼‰ã€‚ ç³»ç»Ÿè°ƒç”¨éœ€è¦ç»´æŠ¤åºå·ï¼Œå»ºç«‹ç´¢å¼•ï¼Œç³»ç»Ÿè°ƒç”¨æ¥å£è¿›è¡Œè°ƒç”¨ï¼Œè¿”å›ç³»ç»Ÿè°ƒç”¨çš„çŠ¶æ€ä»¥åŠå…¶ä»–è¿”å›å€¼ã€‚ç”¨æˆ·ä¸éœ€è¦çŸ¥é“ç³»ç»Ÿè°ƒç”¨å¦‚ä½•å®ç°ã€‚ ç”¨æˆ·æ€ï¼šç‰¹æƒçº§ä½ï¼Œæ— æ³•è®¿é—®ç‰¹æ®ŠæŒ‡ä»¤ã€‚å†…æ ¸æ€ï¼šå¯ä»¥æ‰§è¡Œä»»ä½•æŒ‡ä»¤ã€‚ åº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿå­˜åœ¨å„è‡ªçš„å †æ ˆï¼Œæœ‰è½¬æ¢çš„å¼€é”€ã€‚ å†…æ ¸æ ¸å¿ƒè½¬æ¢çš„å¼€é”€ï¼šæ‰¾åˆ°ä¸­æ–­/å¼‚å¸¸/ç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶åˆå§‹åŒ–å¼€é”€ã€‚å»ºç«‹å †æ ˆå¼€é”€ã€‚éªŒè¯å‚æ•°çš„å¼€é”€ï¼Œå†…æ ¸æ€æ˜ å°„åˆ°ç”¨æˆ·æ€çš„åœ°å€ç©ºé—´çš„å¼€é”€ï¼Œéœ€è¦æ›´æ–°é¡µé¢æ˜ å°„æƒé™ã€‚å†…æ ¸æ€æœ‰ç€è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚å†…å­˜æ‹·è´å­˜åœ¨å¼€é”€ã€‚ ç¬¬ä¸‰ç«  è¿ç»­å†…å­˜åˆ†é…å±‚æ¬¡ è®¡ç®—æœºä¸»è¦ç»“æ„æœ‰CPU å†…å­˜ å¤–è®¾ã€‚ å†…å­˜æœ‰å±‚æ¬¡ç»“æ„ï¼Œæ“ä½œç³»ç»Ÿæ— æ³•æ›´æ”¹L1 L2è¿™äº›CPUçš„cacheã€‚ ç®¡ç†ç›®æ ‡ï¼š æŠ½è±¡ï¼šä¸ç”¨è€ƒè™‘ç‰©ç†å†…å­˜ï¼Œç½®ç”¨é€»è¾‘åœ°å€ç©ºé—´ã€‚ ä¿æŠ¤ï¼šç‹¬ç«‹åœ°å€ç©ºé—´ã€‚ å…±äº«ï¼šè®¿é—®ç›¸åŒå†…å­˜ã€‚ è™šæ‹ŸåŒ–ï¼šæœ‰ç€æ›´å¤šçš„åœ°å€ç©ºé—´ã€‚ ç®¡ç†å†…å­˜ä¸åŒæ–¹æ³•ï¼šç¨‹åºé‡å®šä½ï¼Œåˆ†æ®µï¼Œåˆ†é¡µï¼Œè™šæ‹Ÿå†…å­˜ï¼ŒæŒ‰éœ€åˆ†é¡µè™šæ‹Ÿå†…å­˜ã€‚ æ“ä½œç³»ç»Ÿä¾èµ–ç¡¬ä»¶ï¼Œå¦‚MMUã€‚ åœ°å€ç©ºé—´ åœ°å€ç”Ÿæˆ ç‰©ç†åœ°å€ç©ºé—´ï¼šç¡¬ä»¶æ”¯æŒçš„åœ°å€ç©ºé—´ã€‚ é€»è¾‘åœ°å€ç©ºé—´ï¼šä¸€ä¸ªè¿è¡Œçš„ç¨‹åºæ‰€æ‹¥æœ‰çš„å†…å­˜èŒƒå›´ã€‚ è¿è¡Œç¨‹åºå¯¹ç¨‹åºè€Œè¨€åœ°å€ä»ç„¶æ˜¯é€»è¾‘åœ°å€ã€‚æœ‰æ˜ å°„å…³ç³»ã€‚ MMUç”¨æ¥è¡¨ç¤ºæ˜ å°„å…³ç³»ã€‚ æ“ä½œç³»ç»Ÿéœ€è¦ç¡®ä¿åœ°å€åˆæ³•ï¼Œæ‰¾åˆ°ç•Œé™å¯„å­˜å™¨ï¼Œä¿è¯æ˜¯å¦å°äºç›®æ ‡ç•Œé™ï¼Œå¦åˆ™äº§ç”Ÿå¼‚å¸¸ã€‚ è¿ç»­å†…å­˜åˆ†é… å¤–ç¢ç‰‡ï¼šåˆ†é…å•å…ƒä¹‹é—´æ— æ³•ä½¿ç”¨çš„å†…å­˜ã€‚ å†…ç¢ç‰‡ï¼šåˆ†é…å•å…ƒå†…æ— æ³•ä½¿ç”¨çš„å†…å­˜ã€‚ fist fit/best fit/worst fit/ å‹ç¼©å¼ç¢ç‰‡æ•´ç†ï¼šè°ƒæ•´ä½ç½®ï¼ŒæŠŠç¨‹åºæŒªåˆ°ä¸€äº›æŒ¨ç´§ï¼Œå¼€é”€å¤§ä¸å¤§ã€‚ äº¤æ¢å¼ï¼šæŠŠç¡¬ç›˜å½“ä½œå†…å­˜åå¤‡ï¼ŒæŠ¢å ç­‰å¾…çš„ç¨‹åºå¹¶å›æ”¶å†…å­˜ï¼Œäº¤æ¢åˆ°ç¡¬ç›˜ã€‚ ç¬¬å››ç«  éè¿ç»­å†…å­˜åˆ†é…åˆ†æ®µï¼Œåˆ†é¡µï¼Œé¡µè¡¨ã€‚ éè¿ç»­åˆ†é…ä¼˜ç‚¹ï¼šç‰©ç†åœ°å€ç©ºé—´éè¿ç»­ï¼Œæ›´å¥½çš„å†…å­˜åˆ©ç”¨å’Œç®¡ç†ï¼Œå…è®¸å…±äº«ä»£ç å’Œæ•°æ®ï¼Œå…è®¸åŠ¨æ€åŠ è½½åŠ¨æ€é“¾æ¥ã€‚ ç¼ºç‚¹ï¼šå¼€é”€å¤§ï¼Œè½¯ä»¶æˆ–ç¡¬ä»¶è½¬æ¢è™šæ‹Ÿåœ°å€-ç‰©ç†åœ°å€ã€‚ ç¡¬ä»¶æ–¹æ³•ï¼šåˆ†æ®µåˆ†é¡µã€‚ åˆ†æ®µ åˆ†ç¦»å’Œå…±äº«ï¼Œå°†ä¸åŒçš„æ®µåˆ†æ•£åˆ°ä¸åŒçš„ç‰©ç†åœ°å€ç©ºé—´ï¼Œå¦‚å †ï¼Œæ ˆï¼Œæ•°æ®ï¼Œtextæ®µã€‚ åˆ†æ®µå¯»å€æ–¹æ¡ˆï¼šè®¿é—®å†…å­˜éœ€è¦æ®µå·å’Œæ®µå†…åç§»ï¼Œè¿™ä¿©å¯ä»¥æ”¾åœ¨ä¸¤ä¸ªå¯„å­˜å™¨ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨å•ä¸€åœ°æ–¹ã€‚ æ®µæœ‰æ®µè¡¨ï¼Œç”±æ“ä½œç³»ç»Ÿå»ºç«‹ï¼Œå­˜é€»è¾‘æ®µå·å’Œç‰©ç†æ®µå·æ˜ å°„ã€‚ å…ˆæ£€æµ‹Limitï¼Œå†åŠ ä¸Šåç§»å½¢æˆç‰©ç†åœ°å€ã€‚ åˆ†é¡µ æ®µå°ºå¯¸å¯å˜ï¼Œé¡µå¤§å°ä¸å˜ã€‚é¡µåˆ’åˆ†ç‰©ç†å†…å­˜åˆ°å›ºå®šçš„å¤§å°ï¼Œ2çš„å¹‚ã€‚frameè¡¨ç¤ºç‰©ç†ï¼Œpageè¡¨ç¤ºé€»è¾‘ã€‚ MMUå’ŒTLBè½¬æ¢é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€ã€‚ å¸§åŒ…å«å¸§å·ï¼ˆf æœ‰2eFä¸ªå¸§ï¼‰å’Œå¸§å†…åç§»ï¼ˆSä½ï¼‰ï¼ˆf,o) ï¼Œå¾—å‡ºç‰©ç†åœ°å€2eSÃ—f + oã€‚ é¡µä¸å¸§è®¡ç®—ç±»ä¼¼ï¼Œä½†é¡µå·å’Œå¸§å·å¤§å°ä¸ä¸€å®šå¯¹åº”ã€‚ é¡µè¡¨ å¤§æ•°ç»„ã€‚å…ˆæŸ¥è¯¢flagï¼Œè®¿é—®ä¸å­˜åœ¨çš„é¡µæ—¶å€™ä¼šç¼ºé¡µå¼‚å¸¸ï¼Œå¦åˆ™æŸ¥åˆ°é¡µå·å¯¹åº”å¸§å·ã€‚ å­˜åœ¨é—®é¢˜ï¼Œè®¿é—®ä¸€ä¸ªå†…å­˜å•å…ƒéœ€è¦ä¸¤æ¬¡å†…å­˜è®¿é—®ã€‚é¡µè¡¨å¯èƒ½éå¸¸å¤§ã€‚ è§£å†³æ–¹æ³•ï¼šç¼“å­˜ã€‚é—´æ¥è®¿é—®ï¼Œå¤šçº§é¡µè¡¨ã€‚ TLBï¼šç¼“å­˜è¿‘æœŸè®¿é—®çš„é¡µå¸§è½¬æ¢è¡¨é¡¹ã€‚å¿«è¡¨ï¼Œåœ¨CPUä¸­ã€‚é¡µè¡¨å­˜åœ¨å†…å­˜ä¸­ï¼Œä¼šæ…¢ã€‚ å¤šçº§é¡µè¡¨ï¼Œå¯¹å¤§åœ°å€å¯»å€å¯ä»¥å˜æˆå¤šçº§å¯»å€ã€‚ä½¿å¾—æŸä¸€äº›ä¸å­˜åœ¨å…³ç³»çš„æ•°æ®ä¸éœ€è¦å ç”¨å†…å­˜ã€‚ å¤§åœ°å€ç©ºé—´é—®é¢˜ï¼šæ˜ å°„å˜å¾—ç¹çï¼Œè®©é¡µè¡¨ä¸ç‰©ç†åœ°å€ç©ºé—´ç›¸å¯¹åº”ï¼Œè€Œéé€»è¾‘åœ°å€ç©ºé—´å¤§å°ç›¸å¯¹åº”ã€‚ é¡µå¯„å­˜å™¨ï¼šæ ¹æ®ç‰©ç†å¸§å·å¯¹åº”é¡µå·ã€‚ç©ºé—´å°ï¼Œä½†åŒå¯¹åº”å…³ç³»è¦æ›´æ–°ã€‚ å¯ä»¥ä½¿ç”¨å…³è”å­˜å‚¨ï¼Œä½†å…³è”å­˜å‚¨ç¡¬ä»¶æˆæœ¬å¤§ã€‚éš¾ä»¥åœ¨å•ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å®Œæˆã€‚è€—ç”µã€‚ å¯ä»¥ä½¿ç”¨å“ˆå¸Œè®¡ç®—ï¼Œå¯ä»¥ç¡¬ä»¶åŠ é€Ÿã€‚æŸ¥æ‰¾æ—¶å€™å¯èƒ½ç¢°æ’ï¼Œè¿˜éœ€è¦ç±»ä¼¼TLBåŠ é€Ÿã€‚ ç¬¬äº”ç«  è™šæ‹Ÿå†…å­˜èµ·å›  æ›´å¤šçš„ç¨‹åºèƒ½è·‘åœ¨æœ‰é™çš„å†…å­˜å†…ã€‚è½¯ä»¶å¢é•¿é€Ÿåº¦æ¯”å†…å­˜å¢é•¿é€Ÿåº¦å¿«ã€‚ æœ‰æ‰‹åŠ¨çš„è¦†ç›–æŠ€æœ¯ï¼Œè‡ªåŠ¨çš„äº¤æ¢æŠ€æœ¯å’Œè‡ªåŠ¨çš„è™šæ‹Ÿå­˜å‚¨æŠ€æœ¯ã€‚ è¦†ç›–æŠ€æœ¯ åœ¨æ¯”è¾ƒå°çš„å†…å­˜ä¸­è¿è¡Œæ¯”è¾ƒå¤§çš„ç¨‹åºã€‚å°†ç¨‹åºæ ¹æ®é€»è¾‘åˆ†ç±»ï¼Œåˆ’åˆ†ä¸ºå¿…è¦éƒ¨åˆ†å’Œå¯é€‰éƒ¨åˆ†ã€‚å¿…è¦ä¸æ”¾å‘¢å¸¸é©»å†…å­˜ï¼Œå¯é€‰éƒ¨åˆ†å¿…è¦æ—¶å€™æ‰è£…å…¥å†…å­˜ï¼Œä¸å­˜åœ¨è°ƒç”¨å…³ç³»çš„æ¨¡å—ä¸å¿…è¦åŒæ—¶è£…å…¥å†…å­˜ï¼Œå› æ­¤ç›¸äº’è¦†ç›–ï¼Œå…±ç”¨åˆ†åŒºã€‚ äº¤æ¢æŠ€æœ¯ å°†æš‚æ—¶ä¸èƒ½è¿è¡Œçš„ç¨‹åºé€åˆ°å¤–å­˜ï¼Œè·å¾—ç©ºé—²å†…å­˜ã€‚ éœ€è¦è€ƒè™‘ä»€ä¹ˆæ—¶å€™äº¤æ¢ï¼Œåªæœ‰ä¸å¤Ÿä¸”å±é™©çš„æ—¶å€™äº¤æ¢ã€‚è€ƒè™‘äº¤æ¢åŒºåŸŸçš„å¤§å°ï¼Œèƒ½å¤Ÿå¤Ÿå¤§ã€‚éœ€è¦é‡å®šä½ï¼Œå› æ­¤è¦åŠ¨æ€åœ°å€æ˜ å°„ã€‚ è™šå­˜æŠ€æœ¯ ç›®æ ‡ï¼šåƒè¦†ç›–æŠ€æœ¯ä¸€æ ·ï¼ŒåªæŠŠä¸€éƒ¨åˆ†æ”¾åœ¨å†…å­˜ä¸­ï¼Œä»è€Œè¿è¡Œæ¯”å½“å‰ç©ºé—²å†…å­˜è¿˜è¦å¤§çš„ç¨‹åºã€‚ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨å®Œæˆã€‚åƒäº¤æ¢æŠ€æœ¯ä¸€æ ·ï¼Œå¯¼å‡ºå¯¼å…¥å­˜å‚¨ç©ºé—´ï¼Œè·å¾—æ›´å¤šç©ºé—²å†…å­˜ç©ºé—´ï¼Œä½†åšå¾—æ›´å¥½ï¼Œåªå¯¹è¿›ç¨‹éƒ¨åˆ†è¿›è¡Œäº¤æ¢ã€‚ ç¨‹åºéœ€è¦æœ‰å±€éƒ¨æ€§ã€‚æ ·ä¾‹ï¼ˆäºŒç»´æ•°ç»„éå†ï¼Œç¼ºé¡µç‡é—®é¢˜ï¼‰ã€‚ åŸºæœ¬ç‰¹å¾ï¼š ç©ºé—´å¤§ï¼Œé€šè¿‡ç¡¬ç›˜è¡¥å……ã€‚ éƒ¨åˆ†äº¤æ¢ ä¸è¿ç»­æ€§ è™šæ‹Ÿé¡µå¼å†…å­˜ç®¡ç†ï¼šå°†éƒ¨åˆ†æ”¾å…¥å†…å­˜ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™å‘é€ç¼ºé¡µå¼‚å¸¸ï¼Œä»å¤–å­˜ä¸­è°ƒå…¥å†…å­˜ã€‚ éœ€è¦åœ¨è™šæ‹Ÿé¡µè¡¨è¡¨é¡¹å¢åŠ è¡¨é¡¹ï¼Œå¦‚é©»ç•™ä½ï¼ˆåœ¨å†…å­˜è¿˜æ˜¯å¤–å­˜ï¼‰ï¼Œä¿æŠ¤ä½ï¼ˆèƒ½å¦è®¿é—®ï¼Œå¦‚åªè¯»ï¼‰ï¼Œä¿®æ”¹ä½ï¼ˆè¯¥é¡µæ˜¯å¦è¢«å†™è¿‡ï¼Œé‚£ä¹ˆå’Œåœ¨ç¡¬ç›˜ä¸­å†…å­˜æ•°æ®ä¸ä¸€æ ·ï¼‰ï¼Œè®¿é—®ä½ï¼ˆç”¨äºç½®æ¢ç®—æ³•ï¼‰ã€‚ ç¼ºé¡µä¸­æ–­ï¼šæ‰¾ç©ºé—²ç©ºé—´ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ‰§è¡Œé¡µé¢ç½®æ¢ç®—æ³•ï¼Œé€‰æ‹©é¡µé¢ï¼Œå¦‚æœä¿®æ”¹è¿‡åˆ™å†™å…¥å¤–å­˜ï¼Œæ²¡å†™è¿‡å°±æŠ›å¼ƒï¼Œç„¶åä¿®æ”¹é¡µè¡¨è¡¨é¡¹ï¼Œä¹‹åå°†å¯¹åº”é¡µå†™å…¥åˆ°ç‰©ç†é¡µé¢fä¸­ï¼Œä¿®æ”¹é©»ç•™ä½ï¼Œå›åˆ°è¢«ä¸­æ–­çš„æŒ‡ä»¤ã€‚ å¦‚ä½•ä¿å­˜æœªè¢«æ˜ å°„çš„é¡µï¼šèƒ½å¤Ÿç®€å•è¯†åˆ«åœ¨äºŒçº§å­˜å‚¨å™¨ä¸­çš„é¡µï¼Œæˆ–è€…ç”¨äº¤æ¢ç©ºé—´ï¼Œç”¨äºå­˜å‚¨æœªè¢«æ˜ å°„çš„é¡µé¢ã€‚ åå¤‡å­˜å‚¨ï¼šè™šæ‹Ÿåœ°å€ç©ºé—´é¡µé¢å¯ä»¥è¢«æ˜ å°„åˆ°ä¸€ä¸ªæ–‡ä»¶æŸä¸ªä½ç½®ï¼Œæœ‰ä»£ç æ®µï¼ŒåŠ¨æ€é“¾æ¥æ®µï¼Œå…¶ä»–æ®µã€‚ æ€§èƒ½è¯„ä¼°ï¼šè®¿å­˜æ—¶é—´Ã—é¡µè¡¨å‘½ä¸­å‡ ç‡+ç¼ºé¡µå¤„ç†æ—¶é—´Ã—ç¼ºé¡µå‡ ç‡ã€‚ ç¬¬å…­ç«  é¡µé¢ç½®æ¢ç®—æ³•åŠŸèƒ½ï¼šé€‰æ‹©é¡µé¢è¢«ç½®æ¢ã€‚ é¡µé¢é”å®šï¼šæ ‡å¿—é”å®šä½ï¼Œä¸å»ç®¡ã€‚ æœ€ä¼˜é¡µé¢ç½®æ¢ï¼šåŸºæœ¬æ€è·¯ï¼Œè®¡ç®—åœ¨å®ƒä¸‹ä¸€æ¬¡è®¿é—®ä¹‹å‰ï¼Œè¿˜éœ€è¦ç­‰å¾…å¤šå°‘æ—¶é—´ã€‚ç”¨æ¨¡æ‹Ÿå™¨è·‘ä¸€éæ¥æ¢ã€‚ FIFOç®—æ³•ï¼šé©»ç•™æœ€é•¿çš„é¡µé¢æ·˜æ±°ã€‚ç»´æŠ¤é“¾è¡¨ã€‚æ€§èƒ½è¾ƒå·®ï¼Œè°ƒå‡ºçš„å¯èƒ½æ˜¯ç»å¸¸è¦è®¿é—®çš„é¡µé¢ã€‚ä¼šæœ‰beladyç°è±¡ Beladyç°è±¡ï¼šä½¿ç”¨FIFOæ—¶å€™ï¼Œåˆ†é…çš„ç‰©ç†é¡µé¢å¢å¤šï¼Œç¼ºé¡µç‡åè€Œæé«˜ã€‚ç®—æ³•æ²¡æœ‰è€ƒè™‘åŠ¨æ€ç‰¹å¾ã€‚ LRUï¼šæœ€ä¹…æœªè¢«ä½¿ç”¨ã€‚å¼€é”€è¾ƒå¤§ã€‚ Clocké¡µé¢ç½®æ¢ç®—æ³•ï¼šLRUçš„è¿‘ä¼¼ï¼Œå¯¹FIFOçš„æ”¹è¿›ã€‚ç¯å½¢é“¾è¡¨ï¼Œä»æœ€è€çš„é¡µé¢å¼€å§‹è®¿é—®ï¼Œå¦‚æœè®¿é—®ä½æ˜¯0åˆ™ç½®æ¢ï¼Œå¦‚æœè®¿é—®ä½æ˜¯1åˆ™ç½®ä¸º0ï¼Œå¹¶ä¸”ç»§ç»­ã€‚ äºŒæ¬¡æœºä¼šæ³•ï¼šè„é¡µæ›¿æ¢ä»£ä»·å¾ˆå¤§ï¼Œéœ€è¦ä¿®æ”¹clockç®—æ³•ï¼ŒåŸºäºä¿®æ”¹ä½å’Œè®¿é—®ä½ï¼Œå‡å°‘å†™å›çš„æ¬¡æ•°ã€‚ç¬¬ä¸€æ¬¡æŠŠä¸¤ä¸ª0çš„æ¢å›å»ï¼ŒæŠŠ01å’Œ10ä¼šå˜æˆ00ï¼Œç¬¬äºŒæ¬¡å†æ¢ã€‚ æœ€ä¸å¸¸ç”¨ç®—æ³•ï¼šLFUï¼Œç®—é¢‘ç‡æ·˜æ±°ã€‚ LRUç®—æ³•ç¬¦åˆæ ˆç®—æ³•ç‰¹æ€§ï¼ŒFIFOä¸ç¬¦åˆï¼Œæ‰€ä»¥ä¼šæœ‰Beladyç®—æ³•ã€‚ å…¨å±€é¡µé¢ç½®æ¢ç®—æ³•ï¼šæ ¹æ®ä¸åŒçš„é¡µé¢ç®—æ³•æ‰©å±•é¡µå®¹é‡ã€‚ å·¥ä½œé›†æ¨¡å‹èƒ½ç”¨æ¥è¡¨ç¤ºå±€éƒ¨æ€§ã€‚ å·¥ä½œé›†ï¼šå½“å‰æ­£åœ¨ä½¿ç”¨çš„é€»è¾‘é¡µé¢çš„é›†åˆï¼Œå‚æ•°ä¸ºæ—¶é—´å’Œçª—å£é•¿åº¦ã€‚ å¸¸é©»é›†ï¼šè¿›ç¨‹å®é™…é©»ç•™å†å†…å­˜ä¸­çš„é¡µé¢é›†åˆã€‚ æˆ‘ä»¬å¸Œæœ›è¿™ä¸¤ä¸ªé›†åˆå°½é‡äº¤å‰ã€‚å½“å¸¸é©»é›†å¤§å°è¾¾åˆ°æŸä¸ªæ•°ç›®ï¼Œåˆ†é…è¿‡å¤šç‰©ç†é¡µé¢ç¼ºé¡µç‡ä¹Ÿä¸ä¼šæ˜æ˜¾ä¸‹é™ã€‚ åªè¦ä¸å±äºå·¥ä½œé›†æ›¿æ¢ç®—æ³•ï¼Œå°±ä¸ä¿ç•™ï¼Œå³ä½¿ä¸ç¼ºé¡µã€‚ æ ¹æ®ç¼ºé¡µç‡åŠ¨æ€è°ƒæ•´é¡µç¼ºå¤±ã€‚ OSéœ€è¦é€‰æ‹©åˆé€‚çš„å¸¸é©»é›†ï¼Œæ¥é˜²æ­¢æŠ–åŠ¨ã€‚ ç¬¬ä¸ƒç«  è¿›ç¨‹ç®¡ç†è¿›ç¨‹ï¼šä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ã€‚ è¿›ç¨‹ç»„æˆï¼šä»£ç ï¼Œæ•°æ®ï¼ŒPCè®¡æ•°å™¨ï¼Œå¯„å­˜å™¨ï¼Œå †æ ˆï¼Œç³»ç»Ÿèµ„æºå¦‚æ‰“å¼€çš„æ–‡ä»¶ã€‚ ç¨‹åºæ˜¯äº§ç”Ÿè¿›ç¨‹çš„åŸºç¡€ï¼Œç¨‹åºå¯ä»¥å¤šæ¬¡è¿è¡Œï¼Œè¿›ç¨‹æ˜¯ç¨‹åºåŠŸèƒ½çš„ä½“ç°ï¼Œä¸€ä¸ªç¨‹åºå¯å¯¹åº”å¤šä¸ªè¿›ç¨‹ï¼Œé€šè¿‡è°ƒç”¨ä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥åŒ…æ‹¬å¤šä¸ªç¨‹åºã€‚ è¿›ç¨‹æœ‰æ ¸å¿ƒæ€å’Œç”¨æˆ·æ€åŒºåˆ«ã€‚ è¿›ç¨‹å¯åŠ¨æ€åˆ›å»ºï¼Œç»“æŸï¼Œå¯ä»¥å¹¶å‘ï¼Œç‹¬ç«‹æ€§ï¼Œåˆ¶çº¦æ€§ï¼ˆèµ„æºæŠ¢å ï¼‰ è¿›ç¨‹æ§åˆ¶å—ï¼šç®¡ç†æ§åˆ¶è¿›ç¨‹æ‰€ç”¨çš„ä¿¡æ¯é›†åˆã€‚åŒ…å«è¿›ç¨‹æ ‡è¯†ä¿¡æ¯ï¼ˆæœ¬è¿›ç¨‹æ ‡è¯†ï¼Œäº§ç”Ÿè€…æ ‡è¯†ï¼Œç”¨æˆ·æ ‡è¯†ï¼‰ï¼Œå¤„ç†æœºçŠ¶æ€ä¿¡æ¯ä¿å­˜åŒºï¼ˆä¿å­˜è¿›ç¨‹è¿è¡Œç°åœºï¼ŒåŒ…æ‹¬æ•°æ®ï¼Œåœ°å€ï¼ŒPCï¼ŒçŠ¶æ€ï¼Œæ ˆæŒ‡é’ˆï¼‰ï¼Œè¿›ç¨‹æ§åˆ¶ä¿¡æ¯ï¼ˆè°ƒåº¦å’ŒçŠ¶æ€ä¿¡æ¯ï¼Œè¿›ç¨‹é—´é€šä¿¡ä¿¡æ¯ï¼Œå­˜å‚¨ç®¡ç†ä¿¡æ¯ï¼Œè¿›ç¨‹æ‰€ç”¨èµ„æºï¼Œæœ‰å…³æ•°æ®ç»“æ„é“¾æ¥ä¿¡æ¯ã€‚ï¼‰ æ§åˆ¶å—ä¸€èˆ¬ç”¨é“¾è¡¨æ¥ç»„ç»‡ï¼Œå¯ä»¥åŠ¨æ€åˆ é™¤åŠ¨æ€åˆ›å»ºã€‚ è¿›ç¨‹çŠ¶æ€ï¼šè¿›ç¨‹åˆ›å»ºï¼Œè¿›ç¨‹è¿è¡Œï¼Œè¿›ç¨‹ç­‰å¾…ï¼Œè¿›ç¨‹å”¤é†’ï¼Œè¿›ç¨‹ç»“æŸã€‚ åˆ›å»ºï¼šç³»ç»Ÿåˆå§‹åŒ–æ—¶å€™ï¼Œç”¨æˆ·è¯·æ±‚åˆ›å»ºæ–°è¿›ç¨‹ï¼Œæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ‰§è¡Œäº†åˆ›å»ºè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ã€‚ è¿›ç¨‹è¿è¡Œï¼šè®©æ“ä½œç³»ç»Ÿé€‰æ‹©å°±ç»ªè¿›ç¨‹ï¼Œéœ€è¦è°ƒåº¦ã€‚ è¿›ç¨‹ç­‰å¾…ï¼ˆé˜»å¡ï¼‰ï¼šç³»ç»ŸæœåŠ¡æ— æ³•é©¬ä¸Šå®Œæˆï¼Œæ“ä½œæ— æ³•é©¬ä¸Šå®Œæˆï¼Œéœ€è¦çš„æ•°æ®æ²¡æœ‰åˆ°è¾¾ã€‚è¿›ç¨‹åªèƒ½è‡ªå·±é˜»å¡è‡ªå·±ï¼Œå› ä¸ºåªæœ‰è‡ªå·±æ‰çŸ¥é“åˆé€‚éœ€è¦ç­‰å¾…äº‹ä»¶å‘ç”Ÿã€‚ è¿›ç¨‹å”¤é†’ï¼šè¢«é˜»å¡è¿›ç¨‹èµ„æºå¯æ»¡è¶³ï¼Œç­‰å¾…äº‹ä»¶åˆ°è¾¾ï¼ŒPCBè¢«åŠ å…¥å°±ç»ªé˜Ÿåˆ—ã€‚è¿›ç¨‹åªèƒ½è¢«OSæˆ–å…¶ä»–è¿›ç¨‹å”¤é†’ã€‚ è¿›ç¨‹ç»“æŸï¼šæ­£å¸¸ï¼Œé”™è¯¯ï¼Œè‡´å‘½é”™è¯¯ï¼ˆå¼ºåˆ¶ï¼‰ï¼Œè¢«å…¶ä»–è¿›ç¨‹æ‰€æ€ï¼ˆå¼ºåˆ¶ï¼‰ã€‚ åŸºæœ¬çŠ¶æ€ï¼šè¿è¡Œï¼Œå°±ç»ªï¼Œç­‰å¾…ã€‚é˜»å¡åœ¨äº‹ä»¶å‘ç”Ÿèƒ½å˜åˆ°å°±ç»ªï¼Œå°±ç»ªåœ¨è¢«è°ƒåº¦èƒ½åˆ°è¿è¡Œï¼Œè¿è¡Œåœ¨æ—¶é—´è°ƒåº¦åè½¬åˆ°å°±ç»ªï¼Œè¿è¡Œåœ¨ç¼ºå°‘èµ„æºåé˜»å¡ã€‚ è¿›ç¨‹ä¸å å†…å­˜ç©ºé—´ ç§°ä¸ºè¿›ç¨‹æŒ‚èµ· æŒ‚èµ·:é˜»å¡æŒ‚èµ·çŠ¶æ€ -ç­‰å¾…äº‹ä»¶å‡ºç° å°±ç»ªæŒ‚èµ·-åªè¦è¿›å…¥å†…å­˜ï¼Œå°±èƒ½è¿è¡Œ é˜»å¡åˆ°é˜»å¡æŒ‚èµ·:è¯·æ±‚æ›´å¤šå†…å­˜èµ„æºæ—¶å€™ï¼Œä¼šè¿›è¡Œè¿™ç§è½¬æ¢ å°±ç»ªåˆ°å°±ç»ªæŒ‚èµ·:é«˜ä¼˜å…ˆçº§é˜»å¡è¿›ç¨‹å’Œä½ä¼˜å…ˆçº§å°±ç»ªè¿›ç¨‹ï¼Œä¼šæŒ‚èµ·ä½ä¼˜å…ˆçº§å°±ç»ªè¿›ç¨‹ è¿è¡Œåˆ°è¿è¡ŒæŒ‚èµ·:é«˜ä¼˜å…ˆçº§è¿›ç¨‹å› ä¸ºäº‹ä»¶å‡ºç°è€Œè¿›å…¥å°±ç»ªæŒ‚èµ·ï¼Œå¯èƒ½è½¬åˆ°æŒ‚èµ·çŠ¶æ€ é˜»å¡æŒ‚èµ·å¯èƒ½è½¬æ¢ä¸ºå°±ç»ªæŒ‚èµ·ï¼Œä½†å…¨åœ¨å¤–å­˜ä¸Šï¼Œä»…ä»…å˜äº†çŠ¶æ€ å°±ç»ªæŒ‚èµ·åˆ°å°±ç»ª:æ²¡æœ‰å°±ç»ªè¿›ç¨‹æˆ–è€…æŒ‚èµ·è¿›ç¨‹ä¼˜å…ˆçº§é«˜äºå°±ç»ªè¿›ç¨‹ é˜»å¡æŒ‚èµ·åˆ°é˜»å¡:å½“ä¸€ä¸ªè¿›ç¨‹é‡Šæ”¾è¶³å¤Ÿå†…å­˜ï¼Œä¼šæŠŠé«˜ä¼˜å…ˆçº§é˜»å¡æŒ‚èµ·è¿›ç¨‹æ”¾è¿›å†…å­˜ æ“ä½œç³»ç»Ÿéœ€è¦ç»´æŠ¤ä¸€ç»„é˜Ÿåˆ—ï¼Œæ¥è¡¨ç¤ºç³»ç»Ÿå½“ä¸­æ‰€æœ‰è¿›ç¨‹çš„å½“å‰çŠ¶æ€ ä¸åŒçŠ¶æ€ç”¨ä¸åŒé˜Ÿåˆ—ç®¡ç† å°±ç»ªé˜Ÿåˆ— æŒ‚èµ·é˜Ÿåˆ— çŠ¶æ€å˜åŒ–ä¹‹åï¼Œä»é˜Ÿåˆ—å‡ºæ¥æ”¾è¿›å¦ä¸€ä¸ªé˜Ÿåˆ— çº¿ç¨‹ ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ å¹¶å‘æ‰§è¡Œå¹¶ä¸”å…±äº«åœ°å€ç©ºé—´ è¿›ç¨‹æ‰§è¡ŒåŠŸèƒ½äº¤ç»™çº¿ç¨‹ç®¡ç† ä¸€ä¸ªçº¿ç¨‹å´©æºƒï¼Œæ‰€æœ‰çº¿ç¨‹å´©æºƒã€‚ è¿›ç¨‹åˆ›å»ºéœ€è¦ä¸€äº›ç®¡ç†ä¿¡æ¯ï¼Œè¿›ç¨‹å¯ä»¥ç›´æ¥é‡ç”¨ å±äºåŒä¸€è¿›ç¨‹çš„çº¿ç¨‹æœ‰ç€ä¸€æ ·çš„åœ°å€ç©ºé—´ï¼Œåˆ‡æ¢çº¿ç¨‹å¾ˆå¿«ï¼Œä¸éœ€è¦åˆ‡æ¢é¡µè¡¨ã€‚ åŒä¸€è¿›ç¨‹å…±äº«èµ„æºï¼Œä¸éœ€è¦é€šè¿‡å†…æ ¸é€šä¿¡ã€‚ ç”¨æˆ·çº¿ç¨‹:æ“ä½œç³»ç»Ÿçœ‹ä¸åˆ°çš„çº¿ç¨‹ï¼Œç”±ç”¨æˆ·çº¿ç¨‹åº“æ¥ç®¡ç† å†…æ ¸çº¿ç¨‹:æ“ä½œç³»ç»Ÿçœ‹å¾—åˆ°ï¼Œç”±æ“ä½œç³»ç»Ÿç®¡ç† ç”¨æˆ·çº¿ç¨‹:åœ¨åº“ä¸­å®ç°çº¿ç¨‹æ§åˆ¶å—ï¼Œä¸ä¾èµ–å†…æ ¸ï¼Œç”±å‡½æ•°å®Œæˆåˆ›å»º ç»ˆæ­¢ åŒæ­¥ è°ƒåº¦ æ“ä½œç³»ç»Ÿæ— æ³•ç®¡ç†ã€‚æœ‰è‡ªå®šä¹‰ç®—æ³•ï¼Œä¸éœ€è¦ç”¨æˆ·æ€æ ¸å¿ƒæ€è½¬æ¢ ç¼ºç‚¹:å¦‚æœä¸€ä¸ªçº¿ç¨‹å‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½ä¼šç­‰å¾…ã€‚é™¤éä¸»åŠ¨äº¤å‡ºCPUä½¿ç”¨æƒï¼Œå¦åˆ™å…¶ä»–çº¿ç¨‹æ— æ³•è¿è¡Œã€‚å¤šçº¿ç¨‹æ—¶é—´ç‰‡åˆ†å¾—å°‘ã€‚ å†…æ ¸çº¿ç¨‹:æœ‰æ“ä½œç³»ç»Ÿå®Œæˆå†…æ ¸åˆ›å»ºï¼Œç»ˆæ­¢å’Œå®ç°ï¼Œç”±å†…æ ¸ç»´æŠ¤è¿›ç¨‹å’Œçº¿ç¨‹ä¸Šä¸‹æ–‡ï¼Œå¦‚windowsã€‚åˆ‡æ¢å¼€é”€å¤§ã€‚ è½»é‡çº§è¿›ç¨‹: å†…æ ¸æ”¯æŒçš„ç”¨æˆ·çº¿ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªè½»é‡çº§è¿›ç¨‹ã€‚ ä¸Šä¸‹æ–‡åˆ‡æ¢:CPUçŠ¶æ€ï¼Œå¯„å­˜å™¨ï¼Œæ ˆæŒ‡é’ˆç­‰å¯„å­˜å™¨ forkä¹‹åè¿”å›ä¿©è¿”å›å€¼ï¼ŒexecåŠ è½½ç¨‹åºå–ä»£å½“å‰è¿›ç¨‹ï¼Œå †æ ˆéƒ½ä¼šè¦†ç›– forkå¼€é”€é«˜ï¼Œexecåå¼€é”€æ›´é«˜ï¼Œå› ä¸ºforkéœ€è¦æ‹·è´å†…å­˜ä¿¡æ¯ï¼Œå­è¿›ç¨‹å¯èƒ½å…³é—­æ‰“å¼€çš„æ–‡ä»¶å’Œè¿æ¥ã€‚ å¯ä»¥ç”¨vforkã€‚ä¹Ÿå¯ä»¥é€šè¿‡è™šå­˜ç®¡ç†COWï¼Œæ¥å®ç°ã€‚å¹¶ä¸çœŸå®å¤åˆ¶ã€‚ waitç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå½“å­è¿›ç¨‹exitæ—¶å€™waitç­‰å¾…ã€‚å½“exitè™½ç„¶æ— æ³•åœ¨ç”¨æˆ·ç©ºé—´æ‰§è¡Œï¼Œçˆ¶è¿›ç¨‹waitå¸®åŠ©é‡Šæ”¾å­è¿›ç¨‹ã€‚ è¿›ç¨‹ç»“æŸåè°ƒç”¨exitï¼Œå°†ç»“æœä½œä¸ºå‚æ•°ï¼Œå…³é—­æ‰€æœ‰æ–‡ä»¶ï¼Œè¿æ¥ï¼Œé‡Šæ”¾å†…å­˜ï¼Œé‡Šæ”¾å¤§éƒ¨åˆ†æ“ä½œç³»ç»Ÿç»“æ„ï¼Œæ£€æŸ¥çˆ¶è¿›ç¨‹æ˜¯å¦å­˜æ´»(å¦‚æœæ˜¯ï¼Œåˆ™è¿›å…¥åƒµå°¸çŠ¶æ€ï¼Œä¼šä¿ç•™ç»“æœã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™é‡Šæ”¾æ‰€æœ‰ï¼Œè¿›ç¨‹æ­»äº¡) è¿›ç¨‹ç»ˆæ­¢æ˜¯æœ€ç»ˆçš„åƒåœ¾æ”¶é›†ã€‚ ç¬¬å…«ç«  cpuè°ƒåº¦é€‰æ‹©è¿›ç¨‹ï¼Œè°ƒåº¦ç¨‹åºï¼Œä»€ä¹ˆæ—¶å€™è°ƒåº¦ã€‚ è°ƒåº¦æ¡ä»¶:è¿è¡Œåˆ‡æ¢åˆ°ç­‰å¾…ï¼Œæˆ–è€…è¢«ç»ˆç»“ ä¸å¯æŠ¢å :å¿…é¡»ç­‰å¾…äº‹ä»¶ç»“æŸ å¯æŠ¢å :è°ƒåº¦ç¨‹åºåœ¨ä¸­æ–­è¢«å“åº”åæ‰§è¡Œï¼Œä»è¿è¡Œåˆ‡æ¢åˆ°å°±ç»ªï¼Œä»ç­‰å¾…åˆ‡æ¢åˆ°å°±ç»ªï¼Œå¯ä»¥è¢«æ¢å‡ºã€‚ æ‰§è¡Œæ¨¡å‹ï¼šç¨‹åºåœ¨CPUçªå‘å’ŒIOä¸­äº¤æ›¿ï¼ŒCPUç¹å¿™è¿˜æ˜¯IOç¹å¿™ã€‚CPUå ç”¨ç‡æ³¢åŠ¨ã€‚ è°ƒåº¦ç®—æ³•ï¼šCPUå ç”¨ç‡ï¼ˆCPUå¿™çš„æ—¶é—´æ¯”ï¼‰ï¼Œååé‡ï¼ˆå•ä½æ—¶é—´å®Œæˆçš„è¿›ç¨‹ç†Ÿç»ƒï¼‰ï¼Œå‘¨è½¬æ—¶é—´ï¼ˆä¸€ä¸ªè¿›ç¨‹ä»åˆå§‹åŒ–åˆ°ç»“æŸï¼ŒåŒ…æ‹¬ç­‰å¾…æ—¶é—´çš„æ‰€æœ‰æ—¶é—´ï¼Œç­‰å¾…æ—¶é—´ï¼ˆå°±ç»ªé˜Ÿåˆ—ä¸­çš„æ€»æ—¶é—´ï¼‰ï¼Œå“åº”æ—¶é—´ï¼ˆå“åº”èŠ±è´¹çš„æ€»æ—¶é—´ï¼‰ æ›´å¿«ï¼šé«˜å¸¦å®½ï¼Œä½å»¶è¿Ÿã€‚ å‡å°‘å“åº”æ—¶é—´ï¼ˆè¾“å‡ºå°½å¿«æä¾›ï¼‰ï¼Œå‡å°‘å¹³å‡å“åº”æ—¶é—´æ³¢åŠ¨ï¼ˆå¯é¢„æµ‹æ€§æ›´é‡è¦ï¼‰ï¼Œå¢åŠ ååé‡ï¼ˆå¼€é”€å‡å°‘ï¼Œç³»ç»Ÿèµ„æºé«˜æ•ˆåˆ©ç”¨ï¼‰ï¼Œå‡å°‘ç­‰å¾…æ—¶é—´ã€‚ ä½å»¶è¿Ÿå¢åŠ äº¤äº’ï¼Œé«˜ååé‡ä¿è¯æ•ˆç‡ã€‚ FCFSå…ˆæ¥å…ˆæœåŠ¡ã€‚ç®€å•ï¼Œä½†æ—¶é—´æ³¢åŠ¨è¾ƒå¤§ï¼ŒèŠ±è´¹æ—¶é—´å°‘çš„ä»»åŠ¡å¯èƒ½æ’åœ¨èŠ±è´¹æ—¶é—´é•¿çš„å‰é¢ï¼ŒIOå’ŒCPUä¹‹é—´å¯èƒ½é‡å ã€‚ çŸ­ä»»åŠ¡ä¼˜å…ˆï¼šä¸å¯æŠ¢å ï¼ˆçŸ­ä»»åŠ¡åˆ°æ¥ä¹‹åä¸ç®¡ï¼Œå¡æœ€å‰é¢ï¼‰ï¼ŒæŠ¢å ï¼ˆçŸ­ä»»åŠ¡æ¥çš„æ—¶å€™è°ƒåº¦ï¼‰ã€‚ æœ‰æœ€ä¼˜å¹³å‡ç­‰å¾…æ—¶é—´ï¼Œè¿ç»­çŸ­ä»»åŠ¡å¯èƒ½ä¼šè®©é•¿ä»»åŠ¡é¥¥é¥¿ï¼ŒçŸ­ä»»åŠ¡å¯ç”¨æ—¶å€™ä»»ä½•é•¿ä»»åŠ¡CPUæ—¶é—´ä¼šå¢åŠ å¹³å‡ç­‰å¾…æ—¶é—´ã€‚éœ€è¦çŸ¥é“è¿›ç¨‹çš„æ‰§è¡Œæ—¶é—´ï¼Œéœ€è¦é¢„çŸ¥æœªæ¥ã€‚ å¯ä»¥ç”¨å…¬å¼é¢„ä¼°è¿›ç¨‹æ‰§è¡Œæ—¶é—´ã€‚ æœ€é«˜ç›¸åº”æ¯”ä¼˜å…ˆï¼šè€ƒè™‘ç­‰å¾…æ—¶é—´ï¼Œé˜²æ­¢æ— é™æœŸå»¶è¿Ÿã€‚ è½®è¯¢ï¼šè®©è¿›ç¨‹è½®æµå CPUï¼Œè®¾ç½®æ—¶é—´ç‰‡ã€‚æ—¶é—´ç‰‡è®¾ç½®å›°éš¾ï¼Œç»éªŒï¼šç»´æŒä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€å¤„äº1%ã€‚ å¤šçº§é˜Ÿåˆ—ï¼Œä¸åŒé˜Ÿåˆ—ç”¨ä¸åŒè°ƒåº¦ç®—æ³•ã€‚å‰å°è½®è¯¢ï¼Œåå°FCFSä¹‹ç±»çš„ã€‚ å¤šçº§åé¦ˆé˜Ÿåˆ—ï¼Œæ—¶é—´ç‰‡éšä¼˜å…ˆçº§åˆ«å¢åŠ è€Œå¢åŠ ï¼Œå¦‚æœæ²¡æœ‰å®Œæˆåˆ™é™ä½ä¼˜å…ˆçº§ã€‚IOå¯†é›†å‹ä¼šå¾ˆå¿«æ‰§è¡Œï¼ŒCPUå¯†é›†å‹åˆ™ä¼˜å…ˆçº§ä¸‹é™å¾ˆå¿«ã€‚ å…¬å¹³å…±äº«æœåŠ¡FFSï¼šä¸€äº›ç”¨æˆ·ç»„æ¯”å…¶ä»–ç”¨æˆ·æ›´é‡è¦ï¼Œä¿è¯ä¸é‡å¤çš„ç»„æ— æ³•å„æ–­èµ„æºã€‚ å®æ—¶è°ƒåº¦ï¼ˆé¢å‘å®æ—¶ç³»ç»Ÿï¼‰ï¼Œæ­£ç¡®æ€§ä¾èµ–äºæ—¶é—´å’ŒåŠŸèƒ½çš„OSã€‚ å¼ºå®æ—¶ç³»ç»Ÿï¼ˆå¿…é¡»å®Œæˆï¼‰ï¼Œå¼±å®æ—¶ç³»ç»Ÿï¼ˆå°½é‡å®Œæˆï¼‰ã€‚ å¤šå¤„ç†å™¨è°ƒåº¦ï¼šéœ€è¦è´Ÿè½½å‡è¡¡ã€‚ ä¼˜å…ˆçº§åè½¬ï¼šç¯å¢ƒå¼ºåˆ¶é«˜ä¼˜å…ˆçº§ ç¬¬ä¹ç«  åŒæ­¥è¿›ç¨‹ç›¸å¯¹ç‹¬ç«‹ï¼Œåˆ™æ‰§è¡Œåç¡®å®šçš„ã€‚ä¸ç‹¬ç«‹ä¸”ä¸å¯é‡ç°ï¼Œæ„å‘³ç€bugå¯èƒ½é—´æ­‡æ€§å‘ç”Ÿã€‚ ä¸´ç•ŒåŒºï¼šè®¿é—®å…±äº«èµ„æºçš„ä»£ç ç§°ä¸ºä¸´ç•ŒåŒºã€‚ äº’æ–¥ï¼šæ²¡æœ‰å¤šä¸ªèµ„æºè®¿é—®ä¸´ç•ŒåŒºåŸŸã€‚ æ­»é”ï¼šéƒ½æ— æ³•è¿›è¡Œä¸‹å» é¥¥é¥¿ï¼šæ— é™ç­‰å¾… è¿›å…¥ä¸´ç•ŒåŒºaquireé”ï¼Œç¦»å¼€ä¸´ç•ŒåŒºreleaseã€‚ è¿›å…¥ä¸´ç•ŒåŒºç¦ç”¨ä¸­æ–­ï¼Œç¦»å¼€ä¸´ç•ŒåŒºå¼€å¯ä¸­æ–­ã€‚ä½†å¤–éƒ¨äº‹ä»¶å¯èƒ½æ— æ³•åŠæ—¶å“åº”ã€‚ä¸´ç•ŒåŒºæ‰§è¡Œé•¿çŸ­ä¹Ÿæ— æ³•ç¡®å®šã€‚ åŸºäºè½¯ä»¶ï¼šè¿›å…¥ä¸´ç•ŒåŒº å½“ç¡¬ä»¶å¯ä»¥ç”¨åŸå­æ“ä½œï¼Œå¯ä»¥æŠ½è±¡ç¡¬ä»¶ã€‚ test and setï¼šè¯»å–å€¼ï¼Œæµ‹è¯•å€¼æ˜¯å¦ä¸º1ï¼Œè¿”å›å€¼ä¸”è®¾ç½®ä¸º1ã€‚ äº¤æ¢ï¼šäº¤æ¢ä¸¤ä¸ªå†…å­˜é‡Œçš„å€¼ã€‚ ä¸Šè¿°2ä¸ªæœºå™¨æŒ‡ä»¤ä¸å…è®¸è¢«æ‰“æ–­ã€‚ 123456789//å¿™ç­‰å¾…void acquire(){ while(test_and_set(value)){ spin(); }}void release(){ value = 0;} æ— å¿™ç­‰å¾…ï¼šspinæ—¶å€™åŠ å…¥é˜Ÿåˆ—ï¼Œreleaseæ—¶å€™å–å‡ºé˜Ÿåˆ—ã€‚ ç¬¬åç«  ä¿¡å·é‡ä¸ç®¡ç¨‹ä¿¡å·é‡ï¼šp(): sem-1 é™¤ésem&lt;0 v(): sem+1 å¦‚æœsem&lt;=0åˆ™å”¤é†’ä¸€ä¸ªpã€‚ ä¿¡å·é‡æ˜¯æ•´æ•°ï¼Œè¢«ä¿æŠ¤ï¼ˆåªèƒ½è¢«pï¼Œvæ“ä½œï¼‰ï¼Œpèƒ½é˜»å¡ï¼Œvä¸ä¼šã€‚ä¿¡å·é‡æ˜¯å…¬å¹³çš„ã€‚ æœ‰äºŒè¿›åˆ¶ä¿¡å·é‡å’Œæ•´æ•°ä¿¡å·é‡ï¼Œç»™å®šä¸€ä¸ªå¯ä»¥å®ç°å¦ä¸€ä¸ªã€‚ ä¿¡å·é‡å¯ä»¥å®ç°åŒæ­¥ï¼Œçº¿ç¨‹çš„æ‰§è¡Œéœ€è¦å¦ä¸€ä¸ªçº¿ç¨‹æä¾›çš„ç»“æœï¼Œåˆå§‹åŒ–ä¸º0ï¼Œå®ç°è°ƒåº¦çº¦æŸã€‚ ç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹ï¼šä»»ä½•æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ“ä½œç¼“å†²åŒºï¼Œç¼“å†²åŒºä¸ºç©ºï¼Œæ¶ˆè´¹è€…å¿…é¡»ç­‰å¾…ç”Ÿäº§è€…ã€‚ç¼“å†²åŒºæ»¡ï¼Œç”Ÿäº§è€…å¿…é¡»ç­‰å¾…æ¶ˆè´¹è€…ã€‚ æ¯ä¸ªçº¦æŸéƒ½éœ€è¦å•ç‹¬çš„ä¿¡å·é‡ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/"},{"title":"æ¿å­","text":"æ¿å­ MathJax.Hub.Config({ tex2jax: { skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'], inlineMath: [['$','$']] } }); ç›®å½• 1. æ•°å­¦ 1.1. gcd 1.2. exgcd 1.3. æ±‚è§£çº¿æ€§åŒä½™æ–¹ç¨‹ 1.4. æ¬§æ‹‰å®šç†(æ‰©å±•ï¼Œ ä¸é€‚ç”¨äºçŸ©é˜µ) 1.5. çŸ©é˜µ 1.6. å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—å¾ªç¯èŠ‚ 1.7. æ•´é™¤åˆ†å— 1.8. è«æ¯”ä¹Œæ–¯åæ¼” 1.9. Lucas 1.10. é€†å…ƒ 1.11. BMç®—æ³• 1.12. äºŒæ¬¡å‰©ä½™ 1.13. kæ¬¡å¹‚å’Œ 1.14. æœæ•™ç­› 2. æ•°æ®ç»“æ„ 2.1. kdæ ‘ 3. dp 3.1. åŒºé—´dp 3.2. çŠ¶å‹dp 3.3. æ•°ä½dp 4. è®¡ç®—å‡ ä½• 4.1. çº¢ä¹¦ 4.2. ä¸‰ç»´å‘é‡æ—‹è½¬ 5. åšå¼ˆ 6. å›¾è®º 7. é»‘ç§‘æŠ€ 7.1. é«˜ç²¾ 8. tips è¯¥æ¿å­è¡¥å……çº¢ä¹¦ä¸Šæ²¡æœ‰æˆ–è€…æ›¿æ¢æˆè‡ªå·±ç†Ÿæ‚‰çš„æ¿å­ 1. æ•°å­¦1.1. gcd $gcd(a, b) = gcd(b, a % b)$ ç­‰å¼(1) 12345678910ll gcd(ll a,ll b){ return b?gcd(b,a%b):a;}æˆ–è€…inline ll gcd(ll a,ll b){ if(!b) return a; while(b^=a^=b^=a%=b);//å…ˆåšä¸€æ¬¡å–æ¨¡ï¼Œç„¶åäº¤æ¢ä¸¤ä¸ªå…ƒç´  return a;} 1.2. exgcd æ±‚è§£ $ax + by = c$çš„xçš„æœ€å°æ­£æ•´æ•°è§£ é¦–å…ˆæ±‚è§£$ax + by = gcd(a, b)$(2) ç”±ç­‰å¼(1)å¯å¾— $bx1 + a % b * y1 = gcd(b, a % b) = ay1 + b * (-\\lfloor \\frac{a}{b} \\rfloor +x1) * y1$ (3) è”ç«‹ç­‰å¼(2), (3)å¾—åˆ° $x=y_1, y=-\\lfloor \\frac{a}{b} \\rfloor +x1$ å°†æ‰€å¾—å¼å­ä¸æ–­é€’å½’è‡³$b=0$, è¿”å›æœ€åç»“æœ 1234567891011ll exgcd(ll a, ll b, ll &amp;x, ll &amp;y){ if(b == 0) { x = 1, y = 0; return a; } ll d = exgcd(b, a % b, y, x); y -= a / b * x; return d;} è®¾$d=gcd(a, b)$, ç­‰å¼ä¸¤è¾¹åˆ™åŒæ—¶ä¹˜ä¸Š$\\frac{c}{d}$åˆ™å¯ä»¥è·å¾—ä¸€ç»„ç‰¹è§£ $x1=x0 * \\frac{c}{d}ï¼Œy1=y0 * \\frac{c}{d}$ æ¯æ¬¡å°†x0å‡å°‘xï¼Œy0åˆ™ç›¸åº”å¢åŠ $\\frac{ax}{b}$, è‹¥éœ€è¦ä¿è¯yä¾ç„¶ä¸ºæ­£æ•´æ•°ï¼Œåˆ™ $\\frac{ax}{b}=\\frac{a}{d}, x=\\frac{b}{d}$ ä¿è¯$0 &lt; x1 &lt; x$æ—¶ï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚ è‹¥$x &lt; 0$ï¼Œåˆ™å°†xå–ç»å¯¹å€¼ è‹¥$x0 &lt; 0$ï¼Œåˆ™å°†x0åŠ ä¸Šxå³å¯ã€‚ 123456789d = exgcd(a, b, x, y);if(c% d== 0){ x *= c / d; t = b / d; t = abs(t); x = (x % t + t) % t; printf(\"%d\\n\", x);} 1.3. æ±‚è§£çº¿æ€§åŒä½™æ–¹ç¨‹ ç»™å‡ºnä¸ªåŒä½™æ–¹ç¨‹$N \\equiv a_1\\mod p_1, N \\equiv a_n\\mod p_n$ æ±‚xçš„æœ€å°æ­£æ•´æ•°è§£, $p_i$ä¸äº’è´¨ æ˜¾ç„¶å¯ä»¥åŒ–ä¸º $k1 * p1+a1=k2 * p2+a2-&gt;k1 * p1+(-k2 * p2)=a2-a1$ è®¾$a=p1, b=p2, x=k1, y=(-k2), c=a2-a1$æ–¹ç¨‹å¯å†™ä¸º$ax+by=c$ åˆ™é—®é¢˜è½¬å˜ä¸ºä¸Šä¸€ä¸ªé¢˜ç›® é‚£ä¹ˆå°†xåŒ–ä¸ºåŸæ–¹ç¨‹çš„æœ€å°æ­£æ•´æ•°è§£ï¼Œ$x=(x * (\\frac{c}{d})%(\\frac{b}{d})+(\\frac{b}{d}))%(\\frac{b}{d})$ æ‰€ä»¥$N=a * (x+z * (\\frac{b}{d}))+r1-&gt;N=(\\frac{ab}{d}) * z+(a * x+r1)$ ç°åœ¨åªæœ‰zæ˜¯æœªçŸ¥æ•°ï¼Œæ‰€ä»¥å˜æˆ$N\\equiv (a * x+r1) mod (\\frac{ab}{d}))$çš„é—®é¢˜ ç»§ç»­åˆå¹¶åŒä½™æ–¹ç¨‹å³å¯ 12345678910111213141516171819202122232425ll M[55], A[55];ll China(int r){ ll dm, i, a, b, x, y, d; ll c, c1, c2; a=M[0]; c1=A[0]; for(i = 1; i &lt; r; i++){ b = M[i]; c2 = A[i]; exgcd(a, b ,d, x, y); c = c2 - c1; if(c % d) return -1;//cä¸€å®šæ˜¯dçš„å€æ•°ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è‚¯å®šæ— è§£ dm = b / d; x = ((x * (c / d)) % dm + dm) % dm;//ä¿è¯xä¸ºæœ€å°æ­£æ•°//c/dmæ˜¯ä½™æ•°ï¼Œç³»æ•°æ‰©å¤§ c1 = a * x + c1; a = a * dm; } if(c1 == 0){//ä½™æ•°ä¸º0ï¼Œè¯´æ˜M[]æ˜¯ç­‰æ¯”æ•°åˆ—ã€‚ä¸”ä½™æ•°éƒ½ä¸º0 c1 = 1; for(i = 0; i &lt; r; i++) c1 = c1 * M[i] / gcd(c1, M[i]); } return c1;} ä¸­å›½å‰©ä½™å®šç† 12345678910//nä¸ªæ–¹ç¨‹ï¼šx=a[i](mod m[i]) (0&lt;=i&lt;n)LL china(int n, LL *a, LL *m){ LL M = 1, ret = 0; for(int i = 0; i &lt; n; i ++) M *= m[i]; for(int i = 0; i &lt; n; i ++){ LL w = M / m[i]; ret = (ret + w * inv(w, m[i]) * a[i]) % M; } return (ret + M) % M;} è¿›é˜¶: ç»™å‡ºkä¸ªæ¨¡æ–¹ç¨‹ç»„ï¼šx mod ai = riã€‚æ±‚xçš„æœ€å°æ­£å€¼ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„xï¼Œé‚£ä¹ˆè¾“å‡º-1. 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include&lt;cstdio&gt;#include&lt;algorithm&gt;using namespace std;typedef long long LL;typedef pair&lt;LL, LL&gt; PLL;LL a[100000], b[100000], m[100000];LL gcd(LL a, LL b){ return b ? gcd(b, a%b) : a;}void ex_gcd(LL a, LL b, LL &amp;x, LL &amp;y, LL &amp;d){ if (!b) {d = a, x = 1, y = 0;} else{ ex_gcd(b, a % b, y, x, d); y -= x * (a / b); }}LL inv(LL t, LL p){//å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›-1 LL d, x, y; ex_gcd(t, p, x, y, d); return d == 1 ? (x % p + p) % p : -1;}PLL linear(LL A[], LL B[], LL M[], int n) {//æ±‚è§£A[i]x = B[i] (mod M[i]),æ€»å…±nä¸ªçº¿æ€§æ–¹ç¨‹ç»„ LL x = 0, m = 1; for(int i = 0; i &lt; n; i ++) { LL a = A[i] * m, b = B[i] - A[i]*x, d = gcd(M[i], a); if(b % d != 0) return PLL(0, -1);//ç­”æ¡ˆï¼Œä¸å­˜åœ¨ï¼Œè¿”å›-1 LL t = b/d * inv(a/d, M[i]/d)%(M[i]/d); x = x + m*t; m *= M[i]/d; } x = (x % m + m ) % m; return PLL(x, m);//è¿”å›çš„xå°±æ˜¯ç­”æ¡ˆï¼Œmæ˜¯æœ€åçš„lcmå€¼}int main(){ int n; while(scanf(\"%d\", &amp;n) != EOF){ for(int i = 0; i &lt; n; i ++){ a[i] = 1; scanf(\"%d%d\", &amp;m[i], &amp;b[i]); } PLL ans = linear(a, b, m, n); if(ans.second == -1) printf(\"-1\\n\"); else printf(\"%I64d\\n\", ans.first); }} 1.4. æ¬§æ‹‰å®šç†(æ‰©å±•ï¼Œ ä¸é€‚ç”¨äºçŸ©é˜µ) $a^{b} \\equiv a^{b \\mod \\varphi(p)} \\mod p$ (aä¸päº’è´¨) $a^{b} \\equiv a^{b \\mod \\varphi(p) + \\varphi(p)} \\mod p$ (aä¸pä¸äº’è´¨) 1234567891011121314151617181920212223242526272829303132ll ph(ll x){ ll res = x, a = x; for(ll i = 2; i * i &lt;= x; i++){ if(a % i == 0){ res = res / i * (i - 1); while(a % i == 0) a /= i; } } if(a &gt; 1) res = res / a * (a - 1); return res;}ll quick_pow(ll a, ll b, ll mod){ ll ans = 1; while(b) { if(b &amp; 1) ans = (ans * a) % mod; a = (a * a) % mod; b &gt;&gt;= 1; } return ans;}ll ph_pow(ll a, ll b, ll mod){ if(gcd(b, mod) == 1){ return quick_pow(a, b % (mod - 1), mod); } else { ll phi = ph(mod); return quick_pow(a, b % (phi) + phi, mod); }} 1.5. çŸ©é˜µ æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚è§£ $F[n] = F[n-1] + F[n-2]$ åˆ™å¯ä»¥çœ‹ä½œçŸ©é˜µ$$ \\left[\\begin{matrix}F[n] \\ F[n-1]\\end{matrix} \\right] = \\left[\\begin{matrix}1&amp;1 \\ 1&amp;0\\end{matrix} \\right] * \\left[\\begin{matrix}F[n-1] \\ F[n-2]\\end{matrix} \\right]$$ è®¾$$A = \\left[\\begin{matrix}1&amp;1 \\ 1&amp;0\\end{matrix} \\right] B = \\left[\\begin{matrix}1 \\ 1\\end{matrix} \\right]$$, åˆ™è®¡ç®—F[n]å°±æ˜¯è®¡ç®—$A^{n-1}*B$, å†å–å‡ºçŸ©é˜µç¬¬ä¸€é¡¹å³å¯ã€‚ ä¸Šè¿°ç›¸å¯¹åº”çš„æ“ä½œåœ¨çŸ©é˜µä¸Šå‡å¯è¿ç”¨ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041struct Matrix{ int n, m; ll a[maxn][maxn]; void clear() { n = m = 0; memset(a, 0, sizeof(a)); } void init (int x) { n = m = maxn; memset(a, 0, sizeof(a)); if(x) for(int i = 0; i &lt; 3; i++) a[i][i] = 1; } Matrix operator *(const Matrix &amp;b) const { Matrix tmp; tmp.clear(); tmp.n = n; tmp.m = b.m; for(int i = 0; i &lt; n; i++) for(int j = 0; j &lt; b.m; j++) for(int k = 0; k &lt; m; k++) (tmp.a[i][j] += a[i][k] * b.a[k][j] % mod) %= mod; return tmp; } Matrix qpow(ll b) { Matrix ans, p = *this; ans.n = p.n; ans.init(1); while (b){ if (b &amp; 1) ans = ans * p; p = p * p; b &gt;&gt;= 1; } return ans; }}; 1.6. å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—å¾ªç¯èŠ‚123456789101112131415161718192021222324252627282930313233typedef long long ll;typedef __int128 i16;const int N = 1e5 + 7;int pr[N], pn;bitset&lt;N&gt; np;void init() { for(int i = 2; i &lt; N; i++) { if(!np[i]) pr[pn++] = i; for(int j = 0; j &lt; pn &amp;&amp; i * pr[j] &lt; N; j++) { np[i * pr[j]] = 1; if(i % pr[j] == 0) break; } }}ll getpp(int p) { ll ret = 1; for(int i = 0; i &lt; pn &amp;&amp; pr[i] * pr[i] &lt;= p; i++) { if(p % pr[i] == 0) { ret *= (pr[i] - 1ll) * (pr[i] + 1); p /= pr[i]; while(p % pr[i] == 0) p /= pr[i], ret *= pr[i]; } } if(p != 1) ret *= (p - 1ll) * (p + 1); return ret;}//ä½¿ç”¨æ–¹å¼scanf(\"%s%d\", s, &amp;mod);int len = strlen(s);ll ord = getpp(mod), r = 0;//ordä¸ºå¾ªç¯èŠ‚é•¿åº¦for(int i = 0; i &lt; len; i++) { r = ((i16)r * 10 + s[i] - '0') % ord;//ç®€åŒ–rçš„å¤§å°} 1.7. æ•´é™¤åˆ†å—æ­£å¸¸æ•´é™¤åˆ†å—ä¸º $ans = (ans + ((n / l) * (r â€“ l + 1) mod m) mod m$ æ±‚$\\sum_{i=1}^n \\lfloor n/i\\rfloor * i^2 mod 1e9+7$ 1234567891011121314151617181920212223242526272829303132333435#include &lt;cstdio&gt;typedef long long LL;const LL mod = 1e9 + 7;const LL inv = 166666668;const LL inv2 = 500000004;LL f(LL x){ return ((((x * (x + 1)) % mod) * (2 * x + 1) % mod) % mod) * inv % mod;}LL call(LL n, LL m){ LL ans = 0, ans1 = 0, t1 = ((((n * n) % mod) * (n + 1)) % mod) * inv2 % mod, t2 = ((((m * m) % mod) * (m + 1)) % mod) * inv2 % mod; for(LL l = 1, r; l &lt;= n; l = r + 1){ r = n / (n / l); LL tmp = (f(r) - f(l - 1) + mod) % mod; ans = (ans + ((n / l) * tmp) % mod) % mod; } ans = (t1 + mod - ans) % mod; for(LL l = 1, r; l &lt;= m; l = r + 1){ r = m / (m / l); LL tmp = (f(r) - f(l - 1) + mod) % mod; ans1 = (ans1 + ((m / l) * tmp) % mod) % mod; } ans1 = (t2 + mod - ans1) % mod; return (ans * ans1) % mod;}int main(){ LL n, m; while(~scanf(\"%lld %lld\", &amp;n, &amp;m)){ printf(\"%lld\\n\", call(n, m)); } return 0;} 1.8. è«æ¯”ä¹Œæ–¯åæ¼” è¿™é‡Œçš„ansåé¢å°‘äº†muå‡½æ•°ï¼Œä»£ç æ˜¯å¯¹çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include&lt;cstdio&gt;#include&lt;iostream&gt;#include&lt;cstring&gt;using namespace std;const long long MAXN=1e6+5;//çº¿æ€§ç­›æ³•æ±‚è«æ¯”ä¹Œæ–¯å‡½æ•°bool check[MAXN+10];long long prime[MAXN+10];int mu[MAXN+10];void Moblus(){ memset(check,false,sizeof(check)); mu[1] = 1; long long tot = 0; for(long long i = 2; i &lt;= MAXN; i++) { if( !check[i] ){ prime[tot++] = i; mu[i] = -1; } for(long long j = 0; j &lt; tot; j++) { if(i * prime[j] &gt; MAXN) break; check[i * prime[j]] = true; if( i % prime[j] == 0){ mu[i * prime[j]] = 0; break; }else{ mu[i * prime[j]] = -mu[i]; } } }}int main(){ Moblus(); int t; scanf(\"%d\",&amp;t); while(t--) { long long n; scanf(\"%lld\",&amp;n); long long ans=3; for(long long i=1;i&lt;=n;i++) ans+=mu[i]*(n/i)*(n/i)*(n/i+3); printf(\"%lld\\n\",ans); }} 1.9. Lucas1234567891011121314151617181920212223242526272829303132333435363738//Lucaså®šç†å®ç°C(n,m)%pçš„ä»£ç ï¼špä¸ºç´ æ•°LL exp_mod(LL a, LL b, LL p){ //å¿«é€Ÿå¹‚å–æ¨¡ LL res = 1; while(b != 0) { if(b&amp;1) res = (res * a) % p; a = (a*a) % p; b &gt;&gt;= 1; } return res;}LL Comb(LL a, LL b, LL p){ //æ±‚ç»„åˆæ•°C(a,b)%p if(a &lt; b) return 0; if(a == b) return 1; if(b &gt; a - b) b = a - b; LL ans = 1, ca = 1, cb = 1; for(LL i = 0; i &lt; b; ++i) { ca = (ca * (a - i))%p; cb = (cb * (b - i))%p; } ans = (ca*exp_mod(cb, p - 2, p)) % p; return ans;}LL Lucas(LL n,LL m,LL p){ //Lucaså®šç†æ±‚C(n,m)%p LL ans = 1; while(n&amp;&amp;m&amp;&amp;ans) { ans = (ans*Comb(n%p, m%p, p)) % p; n /= p; m /= p; } return ans;} ç»„åˆæ•°å–æ¨¡ 123456789typedef long long LL;const LL maxn(1000005), mod(1e9 + 7);LL Jc[maxn];void calJc() //æ±‚maxnä»¥å†…çš„æ•°çš„é˜¶ä¹˜{ Jc[0] = Jc[1] = 1; for(LL i = 2; i &lt; maxn; i++) Jc[i] = Jc[i - 1] * i % mod;} 1.10. é€†å…ƒ è´¹é©¬å°å®šç†æ±‚é€†å…ƒ 12345678910111213141516171819202122LL pow(LL a, LL n, LL p) //å¿«é€Ÿå¹‚ a^n % p{ LL ans = 1; while(n) { if(n &amp; 1) ans = ans * a % p; a = a * a % p; n &gt;&gt;= 1; } return ans;}LL niYuan(LL a, LL b) //è´¹é©¬å°å®šç†æ±‚é€†å…ƒ{ return pow(a, b - 2, b);}LL C(LL a, LL b) //è®¡ç®—C(a, b){ return Jc[a] * niYuan(Jc[b], mod) % mod * niYuan(Jc[a - b], mod) % mod;} æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚é€†å…ƒ 123456789101112131415void exgcd(LL a, LL b, LL &amp;x, LL &amp;y) //æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•{ if(!b) x = 1, y = 0; else { exgcd(b, a % b, y, x); y -= x * (a / b); }}LL niYuan(LL a, LL b) //æ±‚aå¯¹bå–æ¨¡çš„é€†å…ƒ{ LL x, y; exgcd(a, b, x, y); return (x + b) % b;} çº¿æ€§æ±‚é€†å…ƒ 1234567891011121314#include&lt;cstdio&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt;#define maxn 3000006#define LL long longusing namespace std;int n,p,inv[maxn];int main(){ scanf(\"%d%d\",&amp;n,&amp;p); inv[1]=1; for(int i=2;i&lt;=n;i++)inv[i]=(p-(LL)p/i*inv[p%i]%p)%p; for(int i=1;i&lt;=n;i++)printf(\"%d\\n\",inv[i]); return 0;} 1.11. BMç®—æ³• ç»™å‡ºå‰ké¡¹ï¼Œå³å¯æ±‚å‡ºç¬¬né¡¹ï¼Œåªèƒ½ç”¨äºç¬¦åˆé€’æ¨æ–¹ç¨‹å½¢å¼çš„æ–¹ç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;map&gt;#include &lt;set&gt;#include &lt;cassert&gt;using namespace std;#define rep(i,a,n) for (int i=a;i&lt;n;i++)#define per(i,a,n) for (int i=n-1;i&gt;=a;i--)#define pb push_back#define mp make_pair#define all(x) (x).begin(),(x).end()#define fi first#define se second#define SZ(x) ((int)(x).size())typedef vector&lt;int&gt; VI;typedef long long ll;typedef pair&lt;int,int&gt; PII;const ll mod=1000000007;ll powmod(ll a,ll b) {ll res=1;a%=mod; assert(b&gt;=0); for(;b;b&gt;&gt;=1){if(b&amp;1)res=res*a%mod;a=a*a%mod;}return res;}// headint _;ll n;namespace linear_seq { const int N=10010; ll res[N],base[N],_c[N],_md[N]; vector&lt;int&gt; Md; void mul(ll *a,ll *b,int k) { rep(i,0,k+k) _c[i]=0; rep(i,0,k) if (a[i]) rep(j,0,k) _c[i+j]=(_c[i+j]+a[i]*b[j])%mod; for (int i=k+k-1;i&gt;=k;i--) if (_c[i]) rep(j,0,SZ(Md)) _c[i-k+Md[j]]=(_c[i-k+Md[j]]-_c[i]*_md[Md[j]])%mod; rep(i,0,k) a[i]=_c[i]; } int solve(ll n,VI a,VI b) { // a ç³»æ•° b åˆå€¼ b[n+1]=a[0]*b[n]+... // printf(\"%d\\n\",SZ(b)); ll ans=0,pnt=0; int k=SZ(a); assert(SZ(a)==SZ(b)); rep(i,0,k) _md[k-1-i]=-a[i];_md[k]=1; Md.clear(); rep(i,0,k) if (_md[i]!=0) Md.push_back(i); rep(i,0,k) res[i]=base[i]=0; res[0]=1; while ((1ll&lt;&lt;pnt)&lt;=n) pnt++; for (int p=pnt;p&gt;=0;p--) { mul(res,res,k); if ((n&gt;&gt;p)&amp;1) { for (int i=k-1;i&gt;=0;i--) res[i+1]=res[i];res[0]=0; rep(j,0,SZ(Md)) res[Md[j]]=(res[Md[j]]-res[k]*_md[Md[j]])%mod; } } rep(i,0,k) ans=(ans+res[i]*b[i])%mod; if (ans&lt;0) ans+=mod; return ans; } VI BM(VI s) { VI C(1,1),B(1,1); int L=0,m=1,b=1; rep(n,0,SZ(s)) { ll d=0; rep(i,0,L+1) d=(d+(ll)C[i]*s[n-i])%mod; if (d==0) ++m; else if (2*L&lt;=n) { VI T=C; ll c=mod-d*powmod(b,mod-2)%mod; while (SZ(C)&lt;SZ(B)+m) C.pb(0); rep(i,0,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod; L=n+1-L; B=T; b=d; m=1; } else { ll c=mod-d*powmod(b,mod-2)%mod; while (SZ(C)&lt;SZ(B)+m) C.pb(0); rep(i,0,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod; ++m; } } return C; } int gao(VI a,ll n) { VI c=BM(a); c.erase(c.begin()); rep(i,0,SZ(c)) c[i]=(mod-c[i])%mod; return solve(n,c,VI(a.begin(),a.begin()+SZ(c))); }};int main() { for (scanf(\"%d\",&amp;_);_;_--) { scanf(\"%lld\",&amp;n); vector&lt;int&gt;a; a.push_back(1); a.push_back(3); a.push_back(5); a.push_back(7); printf(\"%d\\n\",linear_seq::gao(a,n-1)); }} 1.12. äºŒæ¬¡å‰©ä½™123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long long#define re register#define gc getchar#define pc putchar#define puts put_s#define cs constnamespace IO{ namespace READONLY{ cs int Rlen=1&lt;&lt;18|1; char buf[Rlen],*p1,*p2; char obuf[Rlen],*p3=obuf; char ch[23]; } inline char get_char(){ using namespace READONLY; return (p1==p2)&amp;&amp;(p2=(p1=buf)+fread(buf,1,Rlen,stdin),p1==p2)?EOF:*p1++; } inline void put_char(cs char &amp;c){ using namespace READONLY; *p3++=c; if(p3==obuf+Rlen)fwrite(obuf,1,Rlen,stdout),p3=obuf; } inline void put_s(cs char *s){ for(;*s;++s)pc(*s); pc('\\n'); } inline void FLUSH(){ using namespace READONLY; fwrite(obuf,1,p3-obuf,stdout); p3=obuf; } inline ll getint(){ re ll num; re char c; while(!isdigit(c=gc()));num=c^48; while(isdigit(c=gc()))num=(num+(num&lt;&lt;2)&lt;&lt;1)+(c^48); return num; } inline void outint(ll a){ using namespace READONLY; if(a==0)pc('0'); if(a&lt;0)pc('-'),a=-a; while(a)ch[++ch[0]]=a-a/10*10,a/=10; while(ch[0])pc(ch[ch[0]--]^48); }}using namespace IO;namespace Linear_sieves{ cs int P=300005; int prime[P],pcnt; bool mark[P]; inline void init(int len=P-5){ mark[1]=true; for(int re i=2;i&lt;=len;++i){ if(!mark[i])prime[++pcnt]=i; for(int re j=1;j&lt;=pcnt&amp;&amp;i*prime[j]&lt;=len;++j){ mark[i*prime[j]]=true; if(i%prime[j]==0)break; } } }}namespace Find_root{ #define complex COMPLEX using namespace Linear_sieves; inline ll mul(cs ll &amp;a,cs ll &amp;b,cs ll &amp;mod){ return (a*b-(ll)((long double)a/mod*b)*mod+mod)%mod; } inline ll quickpow(ll a,ll b,cs ll &amp;mod,ll res=1){ for(;b;b&gt;&gt;=1,a=mul(a,a,mod))if(b&amp;1)res=mul(res,a,mod); return res; } inline ll ex_gcd(cs ll &amp;a,cs ll &amp;b,ll &amp;x,ll &amp;y){ if(!b){ y=0; x=1; return a; } ll t=ex_gcd(b,a-a/b*b,y,x); y-=(a/b)*x; return t; } inline ll inv(cs ll a,cs ll mod){ ll x,y; ll t=ex_gcd(a,mod,x,y); return (x%mod+mod)%mod; } ll W,Mod; class complex{ public: ll x,y; complex(cs ll &amp;_x=0,cs ll &amp;_y=0):x(_x),y(_y){} inline friend complex operator*(cs complex &amp;a,cs complex &amp;b){ return complex( (mul(a.x,b.x,Mod)+mul(mul(a.y,b.y,Mod),W,Mod))%Mod, (mul(a.x,b.y,Mod)+mul(a.y,b.x,Mod))%Mod); } }; complex quickpow(complex a,ll b){ complex res(1,0); for(;b;b&gt;&gt;=1,a=a*a)if(b&amp;1)res=res*a; return res; } inline bool isprime(ll x){ if(x&lt;=P-5)return !mark[x]; if(x%2==0||x%3==0||x%5==0||x%7==0||x%31==0||x%24251==0)return false; re ll t=x-1,s; t&gt;&gt;=(s=__builtin_ctzll(t)); for(int re i=1;i&lt;=5;++i){ re ll p=prime[rand()%pcnt+1]; re ll num=quickpow(p,t,x),pre=num; for(int re j=0;j&lt;s;++j){ num=mul(num,num,x); if(num==1&amp;&amp;pre!=x-1&amp;&amp;pre!=1)return false; pre=num; if(num==1)break; } if(num^1)return false; } return true; } inline ll Pollard_rho(ll x){ if(x%2==0)return 2; if(x%3==0)return 3; if(x%5==0)return 5; if(x%7==0)return 7; if(x%31==0)return 31; if(x%24251==0)return 24251; re ll n=0,m=0,t=1,q=1,c=rand()%(x-2)+2; for(int re k=2;;k&lt;&lt;=1,m=n,q=1){ for(int re i=1;i&lt;=k;++i){ n=(mul(n,n,x)+c)%x; q=mul(q,abs(n-m),x); } if((t=__gcd(q,x))&gt;1)return t; } } ll fact[60],cntf; inline void sieves(ll x){ if(x==1)return ; if(isprime(x)){fact[++cntf]=x;return;} re ll p=x; while(p==x)p=Pollard_rho(p); sieves(p); while(x%p==0)x/=p; sieves(x); } inline ll solve_2k(ll a,ll k){ if(a%(1&lt;&lt;k)==0)return 0; a%=(1&lt;&lt;k); re ll t=0,res=1; a&gt;&gt;=(t=__builtin_ctzll(a)); if((a&amp;7)^1)return -1; if(t&amp;1)return -1; k-=t; for(int re i=4;i&lt;=k;++i){ res=(res+(a%(1&lt;&lt;i)-res*res)/2)%(1&lt;&lt;k); } res%=1&lt;&lt;k; if(res&lt;0)res+=1&lt;&lt;k; return res&lt;&lt;(t&gt;&gt;1); } inline ll solve_p(ll a,ll p){ a%=p; if(quickpow(a,(p-1)&gt;&gt;1,p)==p-1)return -1; re ll b; Mod=p; while(true){ b=rand()%p; W=(mul(b,b,p)-a+p)%p; if(quickpow(W,(p-1)&gt;&gt;1,p)==p-1)break; } re ll ans=quickpow(complex(b,1),(p+1)&gt;&gt;1).x; return min(ans,p-ans); } inline ll solve_pk(ll a,ll k,ll p,ll mod){ if(a%mod==0)return 0; re ll t=0,hmod=1; while(a%p==0)a/=p,++t,hmod*=(t&amp;1)?p:1; if(t&amp;1)return -1; k-=t; mod/=hmod*hmod; re ll res=solve_p(a,p); if(res==-1)return -1; complex tmp(res,1); W=a; Mod=mod; tmp=quickpow(tmp,k); res=mul(tmp.x,inv(tmp.y,Mod),Mod); return res*hmod; } ll remain[20],mod[20],p; inline ll CRT(){ re ll ans=0; for(int re i=1;i&lt;=cntf;++i){ ans=(ans+mul(mul(p/mod[i],inv(p/mod[i],mod[i]),p),remain[i],p))%p; } return ans; } inline ll solve(ll a,ll pmod){ a%=pmod; cntf=0; p=pmod; sieves(pmod); if(cntf&gt;1)sort(fact+1,fact+cntf+1); if(cntf&gt;1)cntf=unique(fact+1,fact+cntf+1)-fact-1; for(int re i=1;i&lt;=cntf;++i){ re ll now=0,rmod=1; while(pmod%fact[i]==0)pmod/=fact[i],++now,rmod*=fact[i]; mod[i]=rmod; if(fact[i]==2)remain[i]=solve_2k(a,now); else remain[i]=solve_pk(a,now,fact[i],rmod); if(remain[i]==-1)return -1; } return CRT(); } #undef complex}int T;signed main(){ srand(time(0)); Linear_sieves::init(); T=getint(); const ll p = 1e9+7; while(T--){ re ll b=getint(),c=getint(),ans; ans=Find_root::solve(b * b - 4 * c,4*p); if(ans == -1){ b += p; ans=Find_root::solve(b * b - 4 * c,4*p); if(ans == -1){ printf(\"-1 -1\\n\"); continue; } } ll x = ans + b; x &gt;&gt;= 1; x %= p; ll y = (b - x + p) % p; if(x &gt; y){ swap(x, y); } printf(\"%lld %lld\\n\", x, y); } FLUSH(); return 0;} 1.13. kæ¬¡å¹‚å’Œ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include&lt;cstdio&gt;#include&lt;cstdlib&gt;#include&lt;algorithm&gt;using namespace std;typedef long long ll;const int P=1000000009;const int INV2=500000005;const int SQRT5=383008016;const int INVSQRT5=276601605;const int A=691504013;const int B=308495997;const int N=100005;ll n,K;ll fac[N],inv[N];ll pa[N],pb[N];inline void Pre(int n){ fac[0]=1; for (int i=1;i&lt;=n;i++) fac[i]=fac[i-1]*i%P; inv[1]=1; for (int i=2;i&lt;=n;i++) inv[i]=(P-P/i)*inv[P%i]%P; inv[0]=1; for (int i=1;i&lt;=n;i++) inv[i]=inv[i]*inv[i-1]%P; pa[0]=1; for (int i=1;i&lt;=n;i++) pa[i]=pa[i-1]*A%P; pb[0]=1; for (int i=1;i&lt;=n;i++) pb[i]=pb[i-1]*B%P;}inline ll C(int n,int m){ return fac[n]*inv[m]%P*inv[n-m]%P;}inline ll Pow(ll a,ll b){ ll ret=1; for (;b;b&gt;&gt;=1,a=a*a%P) if (b&amp;1) ret=ret*a%P; return ret;}inline ll Inv(ll x){ return Pow(x,P-2);}inline void Solve(){ ll Ans=0; for (int j=0;j&lt;=K;j++){ ll t=pa[K-j]*pb[j]%P,tem; tem=t==1?n%P:t*(Pow(t,n)-1+P)%P*Inv(t-1)%P; if (~j&amp;1) Ans+=C(K,j)*tem%P,Ans%=P; else Ans+=P-C(K,j)*tem%P,Ans%=P; } Ans=Ans*Pow(INVSQRT5,K)%P; printf(\"%lld\\n\",Ans);}int main(){ int T; freopen(\"t.in\",\"r\",stdin); freopen(\"t.out\",\"w\",stdout); Pre(100000); scanf(\"%d\",&amp;T); while (T--){ scanf(\"%lld%lld\",&amp;n,&amp;K); Solve(); } return 0;} 1.14. æœæ•™ç­› ç­›$\\mu$å’Œ$\\varphi$çš„æ¿å­,æ ¹æ®å†…å­˜æ¥é™åˆ¶å…ˆé¢„å¤„ç†å¤šå°‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778#include&lt;bits/stdc++.h&gt;#include&lt;tr1/unordered_map&gt;#define N 6000010using namespace std;template&lt;typename T&gt;inline void read(T &amp;x){ x=0; static int p;p=1; static char c;c=getchar(); while(!isdigit(c)){if(c=='-')p=-1;c=getchar();} while(isdigit(c)) {x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c-48);c=getchar();} x*=p;}bool vis[N];int mu[N],sum1[N],phi[N];long long sum2[N];int cnt,prim[N];tr1::unordered_map&lt;long long,long long&gt;w1;tr1::unordered_map&lt;int,int&gt;w;void get(int maxn){ phi[1]=mu[1]=1; for(int i=2;i&lt;=maxn;i++) { if(!vis[i]) { prim[++cnt]=i; mu[i]=-1;phi[i]=i-1; } for(int j=1;j&lt;=cnt&amp;&amp;prim[j]*i&lt;=maxn;j++) { vis[i*prim[j]]=1; if(i%prim[j]==0) { phi[i*prim[j]]=phi[i]*prim[j]; break; } else mu[i*prim[j]]=-mu[i],phi[i*prim[j]]=phi[i]*(prim[j]-1); } } for(int i=1;i&lt;=maxn;i++)sum1[i]=sum1[i-1]+mu[i],sum2[i]=sum2[i-1]+phi[i];}int djsmu(int x){ if(x&lt;=6000000)return sum1[x]; if(w[x])return w[x]; int ans=1; for(int l=2,r;l&gt;=0&amp;&amp;l&lt;=x;l=r+1) { r=x/(x/l); ans-=(r-l+1)*djsmu(x/l); } return w[x]=ans;}long long djsphi(long long x){ if(x&lt;=6000000)return sum2[x]; if(w1[x])return w1[x]; long long ans=x*(x+1)/2; for(long long l=2,r;l&lt;=x;l=r+1) { r=x/(x/l); ans-=(r-l+1)*djsphi(x/l); } return w1[x]=ans;}int main(){ int t,n; read(t); get(6000000); while(t--) { read(n); printf(\"%lld %d\\n\",djsphi(n),djsmu(n)); } return 0;} 2. æ•°æ®ç»“æ„2.1. kdæ ‘ xç»´æ•°ä¸º2çš„KDtreeæ¨¡æ¿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long LL;const LL INF = 0x3f3f3f3f3f3f3f3f;const int MAXN = 1e5 + 10;struct Node { int lson, rson; LL Min[2], Max[2], x[2]; int id;} kdt[MAXN &lt;&lt; 1], tmp;int root, cmp_x;LL ans, xx0, xx1;bool cmp (const Node &amp;a, const Node &amp;b) { return a.x[cmp_x] &lt; b.x[cmp_x] || (a.x[cmp_x] == b.x[cmp_x] &amp;&amp; a.x[cmp_x^1] &lt; b.x[cmp_x^1]);}// æ›´æ–°æ¯ä¸ªç»“ç‚¹çš„è¾¹ç•Œä¿¡æ¯void pushUp(int u, int v) { for (int i = 0; i &lt; 2; i++) kdt[u].Min[i] = min(kdt[u].Min[i], kdt[v].Min[i]); for (int i = 0; i &lt; 2; i++) kdt[u].Max[i] = max(kdt[u].Max[i], kdt[v].Max[i]);}int kdtBuild(int l, int r, int X) { int mid = (l + r) &gt;&gt; 1; kdt[mid].lson = kdt[mid].rson = 0; cmp_x = X; nth_element(kdt + l + 1, kdt + mid + 1, kdt + r + 1, cmp); // å°†ç¼–å·ä¸ºmidçš„å…ƒç´ æ”¾åœ¨ä¸­é—´ï¼Œæ¯”å®ƒå°çš„æ”¾åœ¨å‰é¢ï¼Œæ¯”å®ƒå¤§çš„æ”¾åé¢ kdt[mid].Min[0] = kdt[mid].Max[0] = kdt[mid].x[0]; kdt[mid].Min[1] = kdt[mid].Max[1] = kdt[mid].x[1]; if (l != mid) kdt[mid].lson = kdtBuild(l, mid - 1, X ^ 1); if (r != mid) kdt[mid].rson = kdtBuild(mid + 1, r, X ^ 1); if (kdt[mid].lson) pushUp(mid, kdt[mid].lson); if (kdt[mid].rson) pushUp(mid, kdt[mid].rson); return mid;}// æ’å…¥æ–°çš„ç»“ç‚¹void kdtInsert(int now) { int X = 0, p = root; while (true) { pushUp(p, now); if (kdt[now].x[X] &lt; kdt[p].x[X]) { if (!kdt[p].lson) { kdt[p].lson = now; return; } else p = kdt[p].lson; } else { if (!kdt[p].rson) { kdt[p].rson = now; return; } else p = kdt[p].rson; } }}// ç‚¹(x,y)åœ¨ç»“ç‚¹idçš„è¾¹ç•ŒèŒƒå›´å†…èƒ½å¾—åˆ°çš„æœ€å¤§è·ç¦»ä¸Šç•ŒLL getMaxDis(int id, LL x0, LL x1) { LL res = 0; if (x0 &lt; kdt[id].Min[0]) res += (kdt[id].Min[0] - x0) * (kdt[id].Min[0] - x0); if (x0 &gt; kdt[id].Max[0]) res += (kdt[id].Max[0] - x0) * (kdt[id].Max[0] - x0); if (x1 &lt; kdt[id].Min[1]) res += (kdt[id].Min[1] - x1) * (kdt[id].Min[1] - x1); if (x1 &gt; kdt[id].Max[1]) res += (kdt[id].Max[1] - x1) * (kdt[id].Max[1] - x1); return res;}LL dist(int id, LL x0, LL x1) { return (kdt[id].x[0] - x0) * (kdt[id].x[0] - x0) + (kdt[id].x[1] - x1) * (kdt[id].x[1] - x1);}void kdtQuery(int p) { LL dl = INF, dr = INF, d; d = dist(p, xx0, xx1); if (kdt[p].x[0] == xx0 &amp;&amp; kdt[p].x[1] == xx1) d = INF; // æŸ¥è¯¢(x,y)æ—¶è¦å°†(x,y)åˆ°è‡ªå·±çš„è·ç¦»è®¾ä¸ºINF ans = min(ans, d); if (kdt[p].lson) dl = getMaxDis(kdt[p].lson, xx0, xx1); if (kdt[p].rson) dr = getMaxDis(kdt[p].rson, xx0, xx1); if (dl &lt; dr) { if (dl &lt; ans) kdtQuery(kdt[p].lson); if (dr &lt; ans) kdtQuery(kdt[p].rson); } else { if (dr &lt; ans) kdtQuery(kdt[p].rson); if (dl &lt; ans) kdtQuery(kdt[p].lson); }}LL answer[MAXN];int main() { //freopen(\"in.txt\", \"r\", stdin); int T; scanf(\"%d\", &amp;T); while (T--) { int n; scanf(\"%d\", &amp;n); for (int i = 1; i &lt;= n; i++) { scanf(\"%I64d%I64d\", &amp;kdt[i].x[0], &amp;kdt[i].x[1]); kdt[i].id = i; } root = kdtBuild(1, n, 0); for (int i = 1; i &lt;= n; i++) { ans = INF; xx0 = kdt[i].x[0]; xx1 = kdt[i].x[1]; kdtQuery(root); answer[kdt[i].id] = ans; // printf(\"---%d\\n\", ans); } for (int i = 1; i &lt;= n; i++) printf(\"%I64d\\n\", answer[i]); } return 0;} 3. dp3.1. åŒºé—´dp1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;cstdio&gt;#include &lt;queue&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;#define mst(a,b) memset((a),(b),sizeof(a))#define rush() int T;scanf(\"%d\",&amp;T);while(T--)typedef long long ll;const int maxn = 205;const ll mod = 1e9+7;const ll INF = 1e18;const double eps = 1e-9;int n,x;int sum[maxn];int dp[maxn][maxn];int main(){ while(~scanf(\"%d\",&amp;n)) { sum[0]=0; mst(dp,0x3f); for(int i=1;i&lt;=n;i++) { scanf(\"%d\",&amp;x); sum[i]=sum[i-1]+x; dp[i][i]=0; } for(int len=2;len&lt;=n;len++) for(int i=1;i&lt;=n;i++) { int j=i+len-1; if(j&gt;n) continue; for(int k=i;k&lt;j;k++) { dp[i][j]=min(dp[i][j],dp[i][k]+dp[k+1][j]+sum[j]-sum[i-1]); } } printf(\"%d\\n\",dp[1][n]); } return 0;} 3.2. çŠ¶å‹dp123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;queue&gt;#include&lt;cstdio&gt;#include&lt;cstring&gt;using namespace std;int RD(){ int out = 0,flag = 1;char c = getchar(); while(c &lt; '0' || c &gt;'9'){if(c == '-')flag = -1;c = getchar();} while(c &gt;= '0' &amp;&amp; c &lt;= '9'){out = out * 10 + c - '0';c = getchar();} return flag * out; }const int maxn = 2048;int num,m,numd;struct Node{ int dp,step; };int vis[maxn];int map[maxn][maxn];void BFS(int n){ queue&lt;Node&gt;Q; Node fir;fir.step = 0,fir.dp = n;//åˆå§‹çŠ¶æ€å…¥é˜Ÿ Q.push(fir); while(!Q.empty()){//BFS Node u = Q.front(); Q.pop(); int pre = u.dp; for(int i = 1;i &lt;= m;i++){//æšä¸¾æ¯ä¸ªæ“ä½œ int now = pre; for(int j = 1;j &lt;= num;j++){ if(map[i][j] == 1){ if( (1 &lt;&lt; (j - 1)) &amp; now){ now = now ^ (1 &lt;&lt; (j - 1));//å¯¹çŠ¶æ€è¿›è¡Œæ“ä½œ } } else if(map[i][j] == -1){ now = ( (1 &lt;&lt; (j - 1) ) | now);//å¯¹çŠ¶æ€è¿›è¡Œæ“ä½œ } } fir.dp = now,fir.step = u.step + 1;//è®°å½•æ­¥æ•° if(vis[now] == true){ continue; } if(fir.dp == 0){//è¾¾åˆ°ç›®æ ‡çŠ¶æ€ vis[0] = true;//ç›¸å½“äºä¸€ä¸ªæ ‡è®°flag cout&lt;&lt;fir.step&lt;&lt;endl;//è¾“å‡º return ;//é€€å‡ºå‡½æ•° } Q.push(fir);//æ–°çŠ¶æ€å…¥é˜Ÿ vis[now] = true;//è¡¨ç¤ºè¿™ä¸ªçŠ¶æ€æ“ä½œè¿‡äº†ï¼ˆä»¥ååœ¨æœ‰è¿™ä¸ªçŠ¶æ€å°±ä¸ç”¨è¯•äº†ï¼‰ } } }int main(){ num = RD();m = RD(); int n = (1 &lt;&lt; (num)) - 1; for(int i = 1;i &lt;= m;i++){ for(int j = 1;j &lt;= num;j++){ map[i][j] = RD(); } } BFS(n); if(vis[0] == false) cout&lt;&lt;-1&lt;&lt;endl; return 0;} 3.3. æ•°ä½dp12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849typedef long long ll; int a[20]; ll dp[20][state];//ä¸åŒé¢˜ç›®çŠ¶æ€ä¸åŒll dfs(int pos,/*stateå˜é‡*/,bool lead/*å‰å¯¼é›¶*/,bool limit/*æ•°ä½ä¸Šç•Œå˜é‡*/)//ä¸æ˜¯æ¯ä¸ªé¢˜éƒ½è¦åˆ¤æ–­å‰å¯¼é›¶ { //é€’å½’è¾¹ç•Œï¼Œæ—¢ç„¶æ˜¯æŒ‰ä½æšä¸¾ï¼Œæœ€ä½ä½æ˜¯0ï¼Œé‚£ä¹ˆpos==-1è¯´æ˜è¿™ä¸ªæ•°æˆ‘æšä¸¾å®Œäº† if(pos==-1) return 1;/*è¿™é‡Œä¸€èˆ¬è¿”å›1ï¼Œè¡¨ç¤ºä½ æšä¸¾çš„è¿™ä¸ªæ•°æ˜¯åˆæ³•çš„ï¼Œé‚£ä¹ˆè¿™é‡Œå°±éœ€è¦ä½ åœ¨æšä¸¾æ—¶å¿…é¡»æ¯ä¸€ä½éƒ½è¦æ»¡è¶³é¢˜ç›®æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰æšä¸¾åˆ°posä½ï¼Œä¸€å®šè¦ä¿è¯å‰é¢å·²ç»æšä¸¾çš„æ•°ä½æ˜¯åˆæ³•çš„ã€‚ä¸è¿‡å…·ä½“é¢˜ç›®ä¸åŒæˆ–è€…å†™æ³•ä¸åŒçš„è¯ä¸ä¸€å®šè¦è¿”å›1 */ //ç¬¬äºŒä¸ªå°±æ˜¯è®°å¿†åŒ–(åœ¨æ­¤å‰å¯èƒ½ä¸åŒé¢˜ç›®è¿˜èƒ½æœ‰ä¸€äº›å‰ªæ) if(!limit &amp;&amp; !lead &amp;&amp; dp[pos][state]!=-1) return dp[pos][state]; /*å¸¸è§„å†™æ³•éƒ½æ˜¯åœ¨æ²¡æœ‰é™åˆ¶çš„æ¡ä»¶è®°å¿†åŒ–ï¼Œè¿™é‡Œä¸ä¸‹é¢è®°å½•çŠ¶æ€æ˜¯å¯¹åº”ï¼Œå…·ä½“ä¸ºä»€ä¹ˆæ˜¯æœ‰æ¡ä»¶çš„è®°å¿†åŒ–åé¢ä¼šè®²*/ int up=limit?a[pos]:9;//æ ¹æ®limitåˆ¤æ–­æšä¸¾çš„ä¸Šç•Œup;è¿™ä¸ªçš„ä¾‹å­å‰é¢ç”¨213è®²è¿‡äº† ll ans=0; //å¼€å§‹è®¡æ•° for(int i=0;i&lt;=up;i++)//æšä¸¾ï¼Œç„¶åæŠŠä¸åŒæƒ…å†µçš„ä¸ªæ•°åŠ åˆ°anså°±å¯ä»¥äº† { if() ... else if()... ans+=dfs(pos-1,/*çŠ¶æ€è½¬ç§»*/,lead &amp;&amp; i==0,limit &amp;&amp; i==a[pos]) //æœ€åä¸¤ä¸ªå˜é‡ä¼ å‚éƒ½æ˜¯è¿™æ ·å†™çš„ /*è¿™é‡Œè¿˜ç®—æ¯”è¾ƒçµæ´»ï¼Œä¸è¿‡åšå‡ ä¸ªé¢˜å°±è§‰å¾—è¿™é‡Œä¹Ÿæ˜¯å¥—è·¯äº† å¤§æ¦‚å°±æ˜¯è¯´ï¼Œæˆ‘å½“å‰æ•°ä½æšä¸¾çš„æ•°æ˜¯iï¼Œç„¶åæ ¹æ®é¢˜ç›®çš„çº¦æŸæ¡ä»¶åˆ†ç±»è®¨è®º å»è®¡ç®—ä¸åŒæƒ…å†µä¸‹çš„ä¸ªæ•°ï¼Œè¿˜æœ‰è¦æ ¹æ®stateå˜é‡æ¥ä¿è¯içš„åˆæ³•æ€§ï¼Œæ¯”å¦‚é¢˜ç›® è¦æ±‚æ•°ä½ä¸Šä¸èƒ½æœ‰62è¿ç»­å‡ºç°,é‚£ä¹ˆå°±æ˜¯stateå°±æ˜¯è¦ä¿å­˜å‰ä¸€ä½pre,ç„¶ååˆ†ç±»ï¼Œ å‰ä¸€ä½å¦‚æœæ˜¯6é‚£ä¹ˆè¿™æ„å‘³å°±ä¸èƒ½æ˜¯2ï¼Œè¿™é‡Œä¸€å®šè¦ä¿å­˜æšä¸¾çš„è¿™ä¸ªæ•°æ˜¯åˆæ³•*/ } //è®¡ç®—å®Œï¼Œè®°å½•çŠ¶æ€ if(!limit &amp;&amp; !lead) dp[pos][state]=ans; /*è¿™é‡Œå¯¹åº”ä¸Šé¢çš„è®°å¿†åŒ–ï¼Œåœ¨ä¸€å®šæ¡ä»¶ä¸‹æ—¶è®°å½•ï¼Œä¿è¯ä¸€è‡´æ€§ï¼Œå½“ç„¶å¦‚æœçº¦æŸæ¡ä»¶ä¸éœ€è¦è€ƒè™‘leadï¼Œè¿™é‡Œå°±æ˜¯leadå°±å®Œå…¨ä¸ç”¨è€ƒè™‘äº†*/ return ans; } ll solve(ll x) { int pos=0; while(x)//æŠŠæ•°ä½éƒ½åˆ†è§£å‡ºæ¥ { a[pos++]=x%10;//ä¸ªäººè€æ˜¯å–œæ¬¢ç¼–å·ä¸º[0,pos),çœ‹ä¸æƒ¯çš„å°±æŒ‰è‡ªå·±ä¹ æƒ¯æ¥ï¼Œåæ­£æ³¨æ„æ•°ä½è¾¹ç•Œå°±è¡Œ x/=10; } return dfs(pos-1/*ä»æœ€é«˜ä½å¼€å§‹æšä¸¾*/,/*ä¸€ç³»åˆ—çŠ¶æ€ */,true,true);//åˆšå¼€å§‹æœ€é«˜ä½éƒ½æ˜¯æœ‰é™åˆ¶å¹¶ä¸”æœ‰å‰å¯¼é›¶çš„ï¼Œæ˜¾ç„¶æ¯”æœ€é«˜ä½è¿˜è¦é«˜çš„ä¸€ä½è§†ä¸º0å˜› } int main() { ll le,ri; while(~scanf(\"%lld%lld\",&amp;le,&amp;ri)) { //åˆå§‹åŒ–dpæ•°ç»„ä¸º-1,è¿™é‡Œè¿˜æœ‰æ›´åŠ ä¼˜ç¾çš„ä¼˜åŒ–,åé¢è®² printf(\"%lld\\n\",solve(ri)-solve(le-1)); } } 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;vector&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;string&gt;#include &lt;cstring&gt;#include &lt;map&gt;using namespace std;typedef long long ll;int a[20];ll dp[20][2];ll dfs(int pos, int pre, int state, bool limit)//ä¸æ˜¯æ¯ä¸ªé¢˜éƒ½è¦åˆ¤æ–­å‰å¯¼é›¶{ if(pos==-1) return 1; if(!limit &amp;&amp; dp[pos][state]!=-1) return dp[pos][state]; int up=limit?a[pos]:9; ll ans=0; for(int i=0;i&lt;=up;i++) { if(i == 4) continue; else if(pre == 6 &amp;&amp; i == 2) continue; ans+=dfs(pos-1, i, i == 6 ? 1 : 0, limit &amp;&amp; i==a[pos]); } if(!limit) dp[pos][state]=ans; return ans;}ll solve(ll x){ int pos=0; while(x) { a[pos++]=x%10; x/=10; } return dfs(pos - 1, 0, 0, true);}int main(){ ll le,ri; while(~scanf(\"%lld%lld\",&amp;le,&amp;ri) &amp;&amp; (le || ri)) { memset(dp, -1, sizeof(dp)); printf(\"%lld\\n\",solve(ri)-solve(le-1)); } return 0;} 4. è®¡ç®—å‡ ä½•4.1. çº¢ä¹¦4.2. ä¸‰ç»´å‘é‡æ—‹è½¬1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495#include&lt;bits/stdc++.h&gt;#define eps 1e-10#define pi acos(-1.0)using namespace std;int dcmp(double x){if (fabs(x)&lt;eps)return 0;else return x&lt;0?-1:1;}struct Point3{ double x,y,z; Point3(double x=0,double y=0,double z=0):x(x),y(y),z(z){};};typedef Point3 Vector3;Vector3 operator + (Vector3 a,Vector3 b){return Vector3(a.x+b.x,a.y+b.y,a.z+b.z);}Vector3 operator - (Vector3 a,Vector3 b){return Vector3(a.x-b.x,a.y-b.y,a.z-b.z);}Vector3 operator * (Vector3 a,double b){return Vector3(a.x*b,a.y*b,a.z*b);}Vector3 operator / (Vector3 a,double b){return Vector3(a.x/b,a.y/b,a.z/b);}bool operator == (Vector3 a,Vector3 b){return a.x==b.x &amp;&amp; a.y==b.y &amp;&amp; a.z==b.z;}double Dot3(Vector3 a,Vector3 b){return a.x*b.x+a.y*b.y+a.z*b.z;} //ç‚¹ç§¯double Length3(Vector3 a){return sqrt(Dot3(a,a));}Vector3 Cross3(Vector3 a,Vector3 b) //å‰ç§¯{return Vector3(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x);}double Angle3(Vector3 a,Vector3 b){return acos(Dot3(a,b)/Length3(a)/Length3(b));}// èŒƒå›´[0,180]//ç‚¹åˆ°çº¿æ®µçš„è·ç¦»double DistanceToSeg3(Point3 p,Point3 a,Point3 b){ if(a==b) return Length3(p-a); Vector3 v1=b-a,v2=p-a,v3=p-b; if(dcmp(Dot3(v1,v2))&lt;0) return Length3(v2); else if(dcmp(Dot3(v1,v3))&gt;0) return Length3(v3); else return Length3(Cross3(v1,v2))/Length3(v1);}//ç‚¹pç»•å‘é‡ovæ—‹è½¬angè§’åº¦ï¼Œæ—‹è½¬æ–¹å‘æ˜¯å‘é‡ovå‰ä¹˜å‘é‡opPoint3 rotate3(Point3 p,Vector3 v,double ang){ double ret[3][3],a[3]; v = v / Length3(v); ret[0][0] = (1.0 - cos(ang)) * v.x * v.x + cos(ang); ret[0][1] = (1.0 - cos(ang)) * v.x * v.y - sin(ang) * v.z; ret[0][2] = (1.0 - cos(ang)) * v.x * v.z + sin(ang) * v.y; ret[1][0] = (1.0 - cos(ang)) * v.y * v.x + sin(ang) * v.z; ret[1][1] = (1.0 - cos(ang)) * v.y * v.y + cos(ang); ret[1][2] = (1.0 - cos(ang)) * v.y * v.z - sin(ang) * v.x; ret[2][0] = (1.0 - cos(ang)) * v.z * v.x - sin(ang) * v.y; ret[2][1] = (1.0 - cos(ang)) * v.z * v.y + sin(ang) * v.x; ret[2][2] = (1.0 - cos(ang)) * v.z * v.z + cos(ang); for (int i=0;i&lt;3;i++) a[i]=ret[i][0]*p.x+ret[i][1]*p.y+ret[i][2]*p.z; return Point3(a[0],a[1],a[2]);}Point3 face,head,st,en,a,vx=Point3(1,0,0),vy=Point3(0,1,0),vz=Point3(0,0,1);int main(){ int T,n; scanf(\"%d\",&amp;T); while (T--) { double ans=1e8,ang,dx,dy,dz,d; char x[3]; face=Point3(1,0,0); head=Point3(0,0,1); scanf(\"%lf%lf%lf\",&amp;st.x,&amp;st.y,&amp;st.z); scanf(\"%lf%lf%lf\",&amp;en.x,&amp;en.y,&amp;en.z); scanf(\"%d\",&amp;n); while (n--) { scanf(\"%lf %s %lf\",&amp;d,x,&amp;ang); dx=d*cos(Angle3(vx,face)); dy=d*cos(Angle3(vy,face)); dz=d*cos(Angle3(vz,face)); a=st+Point3(dx,dy,dz); ans=min(ans,DistanceToSeg3(en,st,a)); st=a; if (x[0]=='U') { Vector3 v=Cross3(face,head); face=rotate3(face,v,ang); head=rotate3(head,v,ang); }else if (x[0]=='D') { Vector3 v=Cross3(head,face); face=rotate3(face,v,ang); head=rotate3(head,v,ang); }else if (x[0]=='L') { face=rotate3(face,head,ang); }else if (x[0]=='R') { Vector3 v=head*(-1); face=rotate3(face,v,ang); } } printf(\"%.2f\\n\",ans); } return 0;} 5. åšå¼ˆ6. å›¾è®º7. é»‘ç§‘æŠ€7.1. é«˜ç²¾123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145struct Wint:vector&lt;int&gt;{ Wint(int n=0) { push_back(n); check(); } Wint&amp; check() { while(!empty()&amp;&amp;!back())pop_back(); if(empty())return *this; for(int i=1; i&lt;size(); ++i) { (*this)[i]+=(*this)[i-1]/10; (*this)[i-1]%=10; } while(back()&gt;=10) { push_back(back()/10); (*this)[size()-2]%=10; } return *this; }};istream&amp; operator&gt;&gt;(istream &amp;is,Wint &amp;n){ string s; is&gt;&gt;s; n.clear(); for(int i=s.size()-1; i&gt;=0; --i)n.push_back(s[i]-'0'); return is;}ostream&amp; operator&lt;&lt;(ostream &amp;os,const Wint &amp;n){ if(n.empty())os&lt;&lt;0; for(int i=n.size()-1; i&gt;=0; --i)os&lt;&lt;n[i]; return os;}bool operator!=(const Wint &amp;a,const Wint &amp;b){ if(a.size()!=b.size())return 1; for(int i=a.size()-1; i&gt;=0; --i) if(a[i]!=b[i])return 1; return 0;}bool operator==(const Wint &amp;a,const Wint &amp;b){ return !(a!=b);}bool operator&lt;(const Wint &amp;a,const Wint &amp;b){ if(a.size()!=b.size())return a.size()&lt;b.size(); for(int i=a.size()-1; i&gt;=0; --i) if(a[i]!=b[i])return a[i]&lt;b[i]; return 0;}bool operator&gt;(const Wint &amp;a,const Wint &amp;b){ return b&lt;a;}bool operator&lt;=(const Wint &amp;a,const Wint &amp;b){ return !(a&gt;b);}bool operator&gt;=(const Wint &amp;a,const Wint &amp;b){ return !(a&lt;b);}Wint&amp; operator+=(Wint &amp;a,const Wint &amp;b){ if(a.size()&lt;b.size())a.resize(b.size()); for(int i=0; i!=b.size(); ++i)a[i]+=b[i]; return a.check();}Wint operator+(Wint a,const Wint &amp;b){ return a+=b;}Wint&amp; operator-=(Wint &amp;a,Wint b){ if(a&lt;b)swap(a,b); for(int i=0; i!=b.size(); a[i]-=b[i],++i) if(a[i]&lt;b[i]) { int j=i+1; while(!a[j])++j; while(j&gt;i) { --a[j]; a[--j]+=10; } } return a.check();}Wint operator-(Wint a,const Wint &amp;b){ return a-=b;}Wint operator*(const Wint &amp;a,const Wint &amp;b){ Wint n; n.assign(a.size()+b.size()-1,0); for(int i=0; i!=a.size(); ++i) for(int j=0; j!=b.size(); ++j) n[i+j]+=a[i]*b[j]; return n.check();}Wint&amp; operator*=(Wint &amp;a,const Wint &amp;b){ return a=a*b;}Wint divmod(Wint &amp;a,const Wint &amp;b){ Wint ans; for(int t=a.size()-b.size(); a&gt;=b; --t) { Wint d; d.assign(t+1,0); d.back()=1; Wint c=b*d; while(a&gt;=c) { a-=c; ans+=d; } } return ans;}Wint operator/(Wint a,const Wint &amp;b){ return divmod(a,b);}Wint&amp; operator/=(Wint &amp;a,const Wint &amp;b){ return a=a/b;}Wint&amp; operator%=(Wint &amp;a,const Wint &amp;b){ divmod(a,b); return a;}Wint operator%(Wint a,const Wint &amp;b){ return a%=b;} 8. tips å”¯ä¸€åˆ†è§£å®šç†ï¼šnçš„å› å­ä¸ªæ•°Num(n) = (1 + a1) * (1 + a2) * â€¦ * (1 + an)a &gt; b ä¸” gcd(a, b) == 1, æœ‰$(gcd(a^n - b^n, a^m - b^m)) = a^{gcd(n, m)} - b^{gcd(n, m)}$$\\mu(n)$â€”â€”è«æ¯”ä¹Œæ–¯å‡½æ•°$\\varphi(n)$â€”â€”æ¬§æ‹‰å‡½æ•°ã€‚è¡¨ç¤ºä¸å¤§äºnä¸”ä¸näº’è´¨çš„æ­£æ•´æ•°ä¸ªæ•°ï¼Œååˆ†å¸¸è§çš„æ•°è®ºå‡½æ•°ã€‚ç”¨æ•°å­¦å¼å­è¡¨ç¤ºå³ï¼š$\\varphi(n)=\\sum_{i=1}^{n}[gcd(n,i) == 1]$$d(n)$â€”â€”çº¦æ•°ä¸ªæ•°ã€‚è¡¨ç¤ºnçš„çº¦æ•°çš„ä¸ªæ•°ã€‚ç”¨å¼å­è¡¨ç¤ºä¸º:$d(n)=\\sum_{d|n}1$,ä¹Ÿå¯ä»¥å†™ä½œ:$d(n)=\\sum_{d=1}^{n}[d|n]$$\\sigma(n)$â€”â€”çº¦æ•°å’Œå‡½æ•°ã€‚å³nçš„å„ä¸ªçº¦æ•°ä¹‹å’Œã€‚è¡¨ç¤ºä¸º$\\sigma(n)=\\sum_{d|n}d=\\sum_{d=1}^{n}[d|n] * d$ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/%E6%9D%BF%E5%AD%90/"},{"title":"uCore lab 1","text":"æœ¬ç³»åˆ—æ—¨åœ¨å®ŒæˆuCoreå®éªŒï¼Œé€šè¿‡å®éªŒäº†è§£æ“ä½œç³»ç»Ÿçš„æ¦‚å¿µï¼Œä»æ±‡ç¼–ï¼Œcè¯­è¨€ç¼–ç¨‹çš„è§’åº¦ï¼Œä»¥å¾®è§‚çš„è§†è§’äº†è§£æ“ä½œç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ã€‚æœ¬æ–‡ä¸ºæœ¬ç³»åˆ—ç¬¬ä¸€ç¯‡ï¼Œä»‹ç»æœºå™¨å¯åŠ¨åˆ°å¯åŠ¨osçš„è¿‡ç¨‹ã€‚ ä»æœºå™¨å¯åŠ¨åˆ°æ“ä½œç³»ç»Ÿè¿è¡ŒBIOS å¯åŠ¨è®¡ç®—æœºåŠ ç”µåå…ˆå®ŒæˆåŸºæœ¬IOåˆå§‹åŒ–å’Œå¼•å¯¼åŠ è½½åŠŸèƒ½ã€‚ç³»ç»Ÿè½¯ä»¶åˆå§‹åŒ–ç”±BIOSä¸OS Bootloaderå®Œæˆã€‚ BIOSæ˜¯å›ºåŒ–åœ¨è®¡ç®—æœºROMä¸Šçš„è½¯ä»¶ï¼Œä¸ºä¸Šå±‚è½¯ä»¶æä¾›æœ€ä¸ºåº•å±‚çš„ç¡¬ä»¶æ§åˆ¶ä¸æ”¯æŒã€‚CPUä»0XFFFFFFF0å¼€å§‹æ‰§è¡Œï¼Œå­˜æ”¾ä¸€æ¡è·³è½¬æŒ‡ä»¤ï¼Œè·³è½¬åˆ°BIOSä¾‹è¡Œç¨‹åºèµ·å§‹ç‚¹ï¼Œå®Œæˆç¡¬ä»¶è‡ªæ£€å’Œåˆå§‹åŒ–åï¼Œé€‰æ‹©å¯åŠ¨è®¾å¤‡è¯»å–ç¬¬ä¸€æ‰‡åŒºåˆ°å†…å­˜çš„ç‰¹æ®Šä½ç½®0x7c00å¤„ï¼ŒCPUæ§åˆ¶æƒäº¤ç»™è¯¥åœ°å€ï¼Œå¼€å§‹æ‰§è¡Œã€‚ Bootloaderå¯åŠ¨è¿‡ç¨‹Bootloaderå·¥ä½œåŒ…æ‹¬ï¼š åˆ‡æ¢åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¯ç”¨åˆ†æ®µæœºåˆ¶ã€‚ è¯»å–ELFæ‰§è¡Œæ–‡ä»¶çš„ucoreæ“ä½œç³»ç»Ÿåˆ°å†…å­˜ã€‚ æ˜¾ç¤ºå­—ç¬¦ä¸²ä¿¡æ¯ã€‚ æŠŠæ§åˆ¶æƒäº¤ç»™æ“ä½œç³»ç»Ÿã€‚ ä¿æŠ¤æ¨¡å¼ä¸åˆ†æ®µæœºåˆ¶ å½“Intel 80386è¿›å…¥ä¿æŠ¤æ¨¡å¼åæ‰èƒ½å……åˆ†å‘æŒ¥åŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„ä¿æŠ¤ä¸æ›´å¤§çš„å¯»å€ç©ºé—´ã€‚ å®æ¨¡å¼ å½“Bootloaderæ¥æ‰‹å·¥ä½œåï¼ŒPCå¤„äºå®æ¨¡å¼ï¼Œå¯è®¿é—®çš„ç‰©ç†å†…å­˜ç©ºé—´ä¸è¶…è¿‡1MBï¼Œå°†å†…å­˜çœ‹ä¸ºåˆ†æ®µçš„åŒºåŸŸï¼Œä»£ç å’Œæ•°æ®ä½äºä¸åŒåŒºåŸŸï¼Œæ­¤æ—¶æŒ‡é’ˆæŒ‡å‘çš„æ˜¯å®é™…çš„åœ°å€ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹A20åœ°å€çº¿æ¥å®Œæˆè½¬æ¢ã€‚ ä¿æŠ¤æ¨¡å¼ ä¿æŠ¤æ¨¡å¼åœ°å€çº¿æ‰å…¨éƒ¨æœ‰æ•ˆï¼Œå¯é‡‡ç”¨åˆ†æ®µå­˜å‚¨ç®¡ç†å’Œåˆ†é¡µå­˜å‚¨ç®¡ç†ï¼Œä¸ºå­˜å‚¨ç®¡ç†ä¿æŠ¤æä¾›äº†ç¡¬ä»¶æ”¯æŒã€‚é€šè¿‡æä¾›ç‰¹æƒçº§å’Œç‰¹æƒæ£€æŸ¥æœºåˆ¶ï¼Œå®ç°èµ„æºå…±äº«åˆèƒ½ä¿è¯å®‰å…¨ã€‚ åœ¨ä¿æŠ¤æ¨¡å¼ä¸‹æœ‰ä¸¤ä¸ªæ®µè¡¨GDTå’ŒLDTå¯ä»¥æœ‰64TBé€»è¾‘ç©ºé—´ï¼Œä½†å®é™…ç©ºé—´è¿˜æ˜¯åªæœ‰4GBï¼Œucoreåªç”¨åˆ°äº†GDTã€‚ åˆ†æ®µå­˜å‚¨ç®¡ç†æœºåˆ¶ åˆ†æ®µæœºåˆ¶æ¶‰åŠ4ä¸ªå…³é”®å†…å®¹ï¼šé€»è¾‘åœ°å€ï¼Œæ®µæè¿°ç¬¦ï¼Œæ®µæè¿°ç¬¦è¡¨ï¼Œæ®µé€‰æ‹©å­ï¼ˆæ®µå¯„å­˜å™¨ï¼‰ã€‚ åˆ†æ®µåœ°å€è½¬æ¢ï¼šCPUå°†é€»è¾‘åœ°å€ä¸­æ®µé€‰æ‹©å­ä½œä¸ºæ®µæè¿°ç¬¦å·è¡¨çš„ç´¢å¼•ï¼Œæ‰¾åˆ°æ®µæè¿°ç¬¦ï¼Œä¹‹ååŠ ä¸Šåç§»å€¼å¾—åˆ°çº¿æ€§åœ°å€ï¼Œåç»­å¯ä»¥å°†çº¿æ€§åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ã€‚ æ®µæè¿°ç¬¦å†…å®¹å¦‚ä¸‹ï¼š æ®µåŸºåœ°å€ï¼šçº¿æ€§ç©ºé—´ä¸­æ®µçš„èµ·å§‹åœ°å€ï¼Œ80386ä¿æŠ¤æ¨¡å¼ä¸­ä»»ä½•ä¸€ä¸ªæ®µéƒ½å¯ä»¥ä»ä»»ä½•ä¸€ä¸ªå­—èŠ‚å¼€å§‹ã€‚ æ®µç•Œé™ï¼šè§„å®šæ®µçš„å¤§å°ï¼Œ80386ä¿æŠ¤æ¨¡å¼ä¸‹ä»¥20ä½è¡¨ç¤ºï¼Œå¯ä»¥ç”¨å­—èŠ‚ä¸ºå•ä½æˆ–è€…4Kå­—èŠ‚ä¸ºå•ä½ã€‚ æ®µå±æ€§ï¼š ç²’åº¦ä½ï¼šå³ä»¥å­—èŠ‚ä¸ºå•ä½æˆ–4Kå­—èŠ‚ä¸ºå•ä½ã€‚ ç±»å‹ï¼šä»£ç æ®µè¿˜æ˜¯æ•°æ®æ®µã€‚è¯»å†™æ‰§è¡Œæƒé™ã€‚æ®µçš„æ‰©å±•æ–¹å‘ã€‚ æè¿°ç¬¦ç‰¹æƒçº§ä½ï¼šç”¨äºå®ç°ä¿æŠ¤æœºåˆ¶ã€‚ æ®µå­˜åœ¨ä½ï¼šå¦‚æœéæ³•åˆ™ä¸èƒ½ç”¨æ¥å®ç°åœ°å€è½¬æ¢ï¼Œäº§ç”Ÿå¼‚å¸¸ã€‚ å·²è®¿é—®ä½ï¼šå¤„ç†å™¨è®¿é—®è¯¥æ®µæ—¶å€™è‡ªåŠ¨è®¾ç½®ã€‚ å…¨å±€æè¿°ç¬¦å·è¡¨ï¼šä¿å­˜å¤šä¸ªæ®µæè¿°ç¬¦çš„æ•°ç»„ï¼Œä½†ç”±äºGDTä¸èƒ½æœ‰è‡ªå·±ä¹‹å†…çš„æè¿°å®šä¹‰ï¼Œå› æ­¤å®šä¹‰äº†ç‰¹æ®Šçš„æ®µGDTRã€‚ é€‰æ‹©å­ï¼šåŒ…å«ç´¢å¼•ï¼Œè¡¨æŒ‡ç¤ºä½ï¼ˆGDTè¿˜æ˜¯LDTï¼‰å’Œç‰¹æƒçº§ã€‚ ä¿æŠ¤æ¨¡å¼ä¸‹çš„ç‰¹æƒçº§ ä¿æŠ¤æ¨¡å¼ä¸‹æœ‰å››ä¸ªï¼Œä»0åˆ°3,ä¸»è¦ä¿æŠ¤å†…å­˜ï¼ŒIOç«¯å£ä»¥åŠæ‰§è¡Œç‰¹æ®Šæœºå™¨æŒ‡ä»¤çš„èƒ½åŠ›ã€‚å¯¹äºring 0ä¹‹å¤–è¿è¡Œè¿™äº›æŒ‡ä»¤ä¼šå¯¼è‡´å¼‚å¸¸ã€‚ ä»£ç æ®µå¯„å­˜å™¨çš„å†…å®¹ä¸èƒ½ç”±movç­‰æŒ‡ä»¤ç›´æ¥è®¾ç½®ï¼Œåªèƒ½è¢«å¦‚JMPï¼ŒINTï¼ŒCALLæŒ‡ä»¤é—´æ¥è®¾ç½®ã€‚ ä»£ç æ®µCPLå­—æ®µçš„å€¼åŒæ—¶ç­‰äºå½“å‰çš„ç‰¹æƒçº§åˆ«ã€‚ ç‰¹æƒçº§æ¯”è¾ƒï¼šæ¯”è¾ƒå½“å‰ç‰¹æƒçº§ä¸è¯·æ±‚ç‰¹æƒçº§çš„æœ€å¤§å€¼ï¼Œå¹¶ä¸æè¿°ç¬¦ç‰¹æƒçº§ç›¸æ¯”è¾ƒã€‚ åœ°å€ç©ºé—´ é€»è¾‘åœ°å€ï¼Œç‰©ç†åœ°å€ï¼Œæ®µæè¿°ç¬¦è¡¨ï¼Œæ®µæè¿°ç¬¦ï¼Œæ®µé€‰æ‹©å­ã€‚ é€»è¾‘åœ°å€-&gt;åˆ†æ®µåœ°å€è½¬æ¢-&gt;çº¿æ€§åœ°å€-&gt;åˆ†é¡µåœ°å€è½¬æ¢-&gt;ç‰©ç†åœ°å€ã€‚ ç¡¬ç›˜è®¿é—®æ¦‚è¿° bootloaderè¿›å…¥ä¿æŠ¤æ¨¡å¼åä¸‹ä¸€æ­¥ä»ç¡¬ç›˜åŠ è½½å¹¶è¿è¡ŒOSã€‚IOæ“ä½œé€šè¿‡CPUè®¿é—®ç¡¬ç›˜çš„IOåœ°å€å¯„å­˜å™¨å®Œæˆã€‚ è®¿é—®ç¡¬ç›˜æµç¨‹ï¼š ç­‰å¾…ç¡¬ç›˜å‡†å¤‡å¥½ å‘èµ·è¯»å–æ‰‡åŒºå‘½ä»¤ ç­‰å¾…ç¡¬ç›˜å‡†å¤‡å¥½ æ‰‡åŒºè¯»åˆ°æŒ‡å®šå†…å­˜ ELFæ ¼å¼æ¦‚è¿° ELFæœ‰ä¸‰ç§ä¸»è¦ç±»å‹ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯é‡å®šä½æ–‡ä»¶ä¸å…±äº«ç›®æ ‡æ–‡ä»¶ï¼ˆåŠ¨æ€åº“ï¼‰ã€‚ link addressä¸ºé“¾æ¥å™¨é…ç½®çš„å†…å­˜åœ°å€ï¼ŒLoad addressä¸ºå®é™…è¢«åŠ è½½åˆ°å†…å­˜çš„ä½ç½®ï¼Œè¿™ä¿©ä¸åŒä¼šå¯¼è‡´ç›´æ¥è·³è½¬ä½ç½®é”™è¯¯ï¼Œç›´æ¥å†…å­˜è®¿é—®ï¼ˆåªè¯»æ•°æ®æˆ–bssï¼‰é”™è¯¯ï¼Œå †æ ˆä½¿ç”¨ä¸å—å½±å“ï¼Œä½†å¯èƒ½ä¼šè¦†ç›–ç¨‹åºæ•°æ®æ®µã€‚åŠ¨æ€é“¾æ¥åº“ä¼šå­˜åœ¨ä¸ä¸€æ ·ã€‚ æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹åŠ è½½åˆ°å†…å­˜åï¼Œosæ¥ç®¡æ§åˆ¶æƒï¼Œå®éªŒæ‰€å®Œæˆçš„å·¥ä½œåŒ…æ‹¬ï¼š åˆå§‹åŒ–ç»ˆç«¯ æ˜¾ç¤ºå­—ç¬¦ä¸² æ˜¾ç¤ºå †æ ˆä¸­å¤šå±‚å‡½æ•°è°ƒç”¨å…³ç³» åˆ‡æ¢åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¯ç”¨åˆ†æ®µæœºåˆ¶ åˆå§‹åŒ–ä¸­æ–­æ§åˆ¶å™¨ï¼Œåˆå§‹åŒ–æ—¶é’Ÿä¸­æ–­ï¼Œå®ç°ä¸­æ–­ æ‰§è¡Œæ­»å¾ªç¯ å‡½æ•°å †æ ˆ å‡½æ•°è°ƒç”¨å¯åˆ†ä¸ºpushæŒ‡ä»¤å…¥å‚ï¼ŒcallæŒ‡ä»¤ï¼ŒcallæŒ‡ä»¤æš—å«å°†ä¸‹ä¸€è·³æŒ‡ä»¤åœ°å€å‹æ ˆåŠ¨ä½œã€‚å‡½æ•°ä½“ä¹‹å‰ä¼šæœ‰ç±»ä¼¼å¦‚ä¸‹ï¼š 12pushl %ebpmovl %esp, %ebp å‡½æ•°è°ƒç”¨å‰ä¼šæœ‰å¦‚ä¸‹æ•°æ®é¡ºåºå…¥æ ˆï¼šå‚æ•°ï¼Œè¿”å›åœ°å€ï¼Œebpå¯„å­˜å™¨ã€‚ ä¸­æ–­å’Œå¼‚å¸¸ æœ‰ä¸‰ç§ç‰¹æ®Šä¸­æ–­äº§ç”Ÿæ˜¯å¼‚æ­¥äº§ç”Ÿï¼Œäº§ç”Ÿæ—¶é—´ä¸ç¡®å®šï¼Œä¸CPUæ— å…³ï¼Œç§°ä¸ºå¼‚æ­¥ä¸­æ–­ä¹Ÿå«å¤–éƒ¨ä¸­æ–­ï¼ŒCPUæ‰§è¡ŒæœŸé—´æ£€æµ‹åˆ°è¿æ³•æŒ‡ä»¤ç§°ä¸ºå†…éƒ¨ç»ˆç«¯ï¼Œä¹Ÿå«trapã€‚ åœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ï¼Œæ”¶åˆ°ä¸­æ–­ï¼ˆ8259Aï¼‰æ—¶å€™ä¼šæš‚åœï¼Œè·³è½¬åˆ°ç›¸å…³ä¾‹ç¨‹ä¸­ï¼Œå¤„ç†å®Œæˆåå†è·³å›ï¼Œéœ€è¦ä¸­æ–­æè¿°ç¬¦å·è¡¨IDTè´Ÿè´£æ‰¾åˆ°å…³ç³»ï¼Œè€ŒIDTåœ°å€å­˜åœ¨idtrå¯„å­˜å™¨ä¸­ã€‚ IDTæ˜¯å…«å­—èŠ‚æè¿°ç¬¦æ•°ç»„ï¼Œä¸­æ–­å·ä¹˜ä»¥8ä¸ºIDTç´¢å¼•ï¼ŒLIDTå’ŒSIDTå¯ä»¥æ“ä½œIDTRã€‚ ä¿æŠ¤æ¨¡å¼ä¸‹æœ€å¤šæœ‰256ä¸ªä¸­æ–­ï¼Œ0åˆ°31è¢«å¼‚å¸¸ä½¿ç”¨ï¼Œ32åˆ°255ç”¨äºè‡ªå®šä¹‰ã€‚ IDT gate descriptionç”¨äºæ ‡è¯†ä¸­æ–­æˆ–trapï¼Œå½“ç”¨ä¸­æ–­gateæ—¶å€™ï¼Œä¼šç¦æ­¢ä¸­æ–­ï¼Œé¿å…é‡å¤ä¸­æ–­ï¼Œä½¿ç”¨trap gateæ—¶å€™ä¼šä¿æŒåŸæ ·ï¼Œä¸å»ç¦æ­¢æˆ–æ‰“å¼€ã€‚ CPUæ”¶åˆ°ä¸­æ–­äº‹ä»¶ï¼Œæ‰“æ–­å½“å‰ç¨‹åºæˆ–è€…ä»»åŠ¡æ‰§è¡Œï¼Œè·³è½¬åˆ°ä¸­æ–­ä¾‹ç¨‹åºæµç¨‹å¦‚ä¸‹ï¼š æ‰§è¡Œå®Œæ¯ä¸€æ¡æŒ‡ä»¤åï¼Œéƒ½ä¼šç¡®è®¤åœ¨æ‰§è¡Œåˆšæ‰æŒ‡ä»¤çš„è¿‡ç¨‹ä¸­ä¸­æ–­æ§åˆ¶å™¨æ˜¯å¦å‘é€è¯·æ±‚è¿‡æ¥ï¼Œæœ‰åˆ™ä¼šåœ¨ç›¸åº”çš„æ—¶é’Ÿè„‰å†²åˆ°æ¥çš„æ—¶å€™ä»æ€»çº¿è¯»å–è¯·æ±‚å¯¹åº”çš„ä¸­æ–­å‘é‡ã€‚ æ ¹æ®ä¸­æ–­å‘é‡åœ¨IDTæ‰¾åˆ°å¯¹åº”ä¸­æ–­æè¿°ç¬¦ï¼Œç¬¦å·å†…æœ‰ä¸­æ–­æœåŠ¡ä¾‹ç¨‹çš„æ®µé€‰æ‹©å­ã€‚ æ ¹æ®æ®µé€‰æ‹©å­åœ¨GDTé‡Œé¢æ‰¾åˆ°å¯¹åº”æ®µæè¿°ç¬¦ï¼Œå…¶ä¸­ä¿å­˜æœ‰æ®µåŸºå€å’Œå±æ€§ä¿¡æ¯ï¼Œå¾—åˆ°èµ·å§‹åœ°å€ï¼Œè·³è½¬åˆ°è¯¥åœ°å€ã€‚ æ ¹æ®CPLå’ŒDPLçœ‹æ˜¯å¦å‘ç”Ÿäº†ç‰¹æƒçº§è½¬æ¢ï¼Œå¦‚æœè½¬æ¢åˆ™ä»ä»»åŠ¡æè¿°ç¬¦ï¼ˆTSSï¼‰ä¸­è·å¾—è¯¥ç¨‹åºçš„å†…æ ¸æ ˆåœ°å€ï¼ŒåŒ…å«å†…æ ¸æ€çš„sså’Œspï¼ˆssï¼šspåœ°å€å½¢å¼ï¼‰ï¼Œå°†ç³»ç»Ÿå½“å‰ä½¿ç”¨çš„æ ˆæ¢æˆå†…æ ¸æ ˆï¼Œæ¢æ‰ssï¼Œspï¼Œå°†ç”¨æˆ·æ€ssï¼Œspå‹å…¥å†…æ ¸æ ˆä¿å­˜ã€‚ CPUä¿å­˜å¯„å­˜å™¨å€¼æ¥ä¿å­˜ç°åœºã€‚ å°†ä¸­æ–­æœåŠ¡ä¾‹ç¨‹çš„æ®µæè¿°ç¬¦çš„ç¬¬ä¸€æ¡æŒ‡ä»¤åŠ è½½åˆ°cså’Œeipå¯„å­˜å™¨ï¼Œå¼€å§‹æ‰§è¡Œä¾‹ç¨‹ã€‚ åœ¨ä¸­æ–­æœåŠ¡ä¾‹ç¨‹å¤„ç†å®Œæˆåéœ€è¦é€šè¿‡iretæŒ‡ä»¤æ¢å¤è¢«æ‰“æ–­çš„ç¨‹åºçš„æ‰§è¡Œæ‰§è¡Œå¦‚ä¸‹ï¼š ä»å†…æ ¸æ ˆå¼¹å‡ºç°åœºä¿¡æ¯ï¼Œå³eflagsï¼Œcsï¼Œeipç­‰ã€‚ å¦‚æœå­˜åœ¨ç‰¹æƒçº§è½¬æ¢ï¼Œåˆ™å¼¹å‡ºssï¼Œspï¼Œåˆ‡æ¢å›ç”¨æˆ·æ€æ ˆã€‚ å¦‚æœæ­¤æ¬¡å¤„ç†å¸¦é”™è¯¯ç çš„å¼‚å¸¸ï¼Œcpuæ¢å¤ç°åœºæ—¶å€™ä¸ä¼šå¼¹å‡ºé”™è¯¯ç ï¼Œéœ€è¦è½¯ä»¶ç¼–ç¨‹å¼¹å‡ºé”™è¯¯ç ã€‚ ä¸­æ–­å¤„ç†çš„ç‰¹æƒçº§è½¬æ¢é€šè¿‡é—¨æè¿°ç¬¦æ¥ç¡®å®šï¼Œäº§ç”Ÿä¸­æ–­åä¸€å®šæ˜¯å‘ç›¸ç­‰æˆ–æ›´é«˜ç‰¹æƒçº§è½¬æ¢ï¼Œç»“æœçš„CPLå¿…é¡»ç­‰äºç›®çš„ä»£ç æ®µçš„DPLã€‚å¦‚æœä¸­æ–­ç”±ç”¨æˆ·æ€æŒ‡ä»¤è§¦å‘ï¼Œåˆ™ç›®æ ‡DPLå¿…é¡»å…·æœ‰æ¯”CPLç›¸åŒæˆ–è€…æ›´ä½çš„ç‰¹æƒï¼Œé˜²æ­¢éšæ„ä¸­æ–­ã€‚ ç»ƒä¹ 1ï¼šmakefileç¼–å†™ ç†è§£makeæ‰§è¡Œæ–‡ä»¶è¿‡ç¨‹ äº†è§£ä¸»å¼•å¯¼æ‰‡åŒºmakefileåŸºæœ¬åŸåˆ™ 1234targets : prerequisites command#ç›®æ ‡ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–object fileï¼‰ï¼šä¾èµ–æ–‡ä»¶ï¼ˆä¸€ä¸ªæˆ–è€…å¤šä¸ªï¼‰# å‘½ä»¤ï¼ˆç¼–è¯‘å‘½ä»¤ï¼‰ ç¤ºä¾‹å¦‚ä¸‹ 12test:test.c gcc -o test test.c å››ç§èµ‹å€¼ï¼š 12345678910111213x:=foo #ç®€å•èµ‹å€¼x=fooy=$(x)bx=new#é€’å½’èµ‹å€¼ï¼Œä¼šæ”¹å˜ç”¨åˆ°æ­¤å€¼çš„æ‰€æœ‰å€¼x?=a#æ¡ä»¶èµ‹å€¼ï¼Œæœªå®šä¹‰åˆ™èµ‹å€¼x+=b#è¿½åŠ èµ‹å€¼ï¼Œä¼šå¢åŠ ä¸€ä¸ªç©ºæ ¼ååŠ ä¸Šå» ä¸€äº›åŸºæœ¬å‡½æ•° 1234$(call &lt;expression&gt;,&lt;parm1&gt;,&lt;parm2&gt;,&lt;parm3&gt;,...)#å°†å‚æ•°å¡«å…¥è¡¨è¾¾å¼$(if &lt;condition&gt;,&lt;then-part&gt;,&lt;else-part&gt;)#æ¡ä»¶è¯­å¥ ä¸€äº›å¸¸è§çš„è‡ªåŠ¨å˜é‡ 1234test:test.o test1.o test2.o gcc -o $@ $^# $@ä¸ºç›®æ ‡æ–‡ä»¶åï¼Œè¿™é‡Œä¸ºtest# $^ä¸ºä¾èµ–çš„æ–‡ä»¶ï¼Œè¿™é‡Œä¸ºä¸¤ä¸ªo å®æˆ˜åˆ†æ åˆ†ælab1ä¸­çš„makefileï¼Œå¯ä»¥åˆ†ä¸ºä¸€ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š 1234$(UCOREIMG): $(kernel) $(bootblock) $(V)dd if=/dev/zero of=$@ count=10000 $(V)dd if=$(bootblock) of=$@ conv=notrunc $(V)dd if=$(kernel) of=$@ seek=1 conv=notrunc ä¸Šè¿°ä¸ºucore.imgéƒ¨åˆ†ï¼Œå³ä¾èµ–kernelå’Œbootlockéƒ¨åˆ†ã€‚å‘½ä»¤ä¸­ï¼Œddç”¨äºè¯»å–ï¼Œè½¬æ¢ï¼Œè¾“å‡ºæ–‡ä»¶ï¼Œifå’Œofå³ä¸ºè¾“å…¥æ–‡ä»¶å’Œè¾“å‡ºæ–‡ä»¶ï¼Œcountä»£è¡¨æ‹·è´å—å¤§å°ï¼Œseekä»£è¡¨è·³è¿‡blocksä¸ªå—å†å¼€å§‹å¤åˆ¶ï¼Œnotruncå³ä¸æˆªæ–­è¾“å‡ºæ–‡ä»¶ã€‚è¯¥è¡Œç›®çš„ä¸ºç”Ÿæˆ10000å—çš„æ–‡ä»¶ï¼Œæ¯å—é»˜è®¤512å­—èŠ‚ï¼Œç”¨0å¡«å……ï¼Œbootblockå†™å…¥ç¬¬ä¸€å—ï¼Œkernelå†™å…¥ç¬¬äºŒå—ã€‚ å†æ¥è§‚å¯Ÿkernelï¼š 123456789101112KOBJS = $(call read_packet,kernel libs)kernel = $(call totarget,kernel)$(kernel): tools/kernel.ld$(kernel): $(KOBJS) @echo + ld $@ $(V)$(LD) $(LDFLAGS) -T tools/kernel.ld -o $@ $(KOBJS) @$(OBJDUMP) -S $@ &gt; $(call asmfile,kernel) @$(OBJDUMP) -t $@ | $(SED) '1,/SYMBOL TABLE/d; s/ .* / /; /^$$/d' &gt; $(call symfile,kernel)$(call create_target,kernel) kernel.ldä¸å¿…å¤šè¯´ï¼Œå…³æ³¨ä¸‹é¢çš„KOBJSï¼Œå³å°†objæ–‡ä»¶éƒ½é“¾æ¥èµ·æ¥ã€‚objæ–‡ä»¶æ¥è‡ªäºread_packetï¼Œè€Œpacketæ–‡ä»¶æ¥è‡ªå¦‚ä¸‹ï¼š 123$(call add_files_cc,$(call listf_cc,$(KSRCDIR)),kernel,$(KCFLAGS))add_files_cc = $(call add_files,$(1),$(CC),$(CFLAGS) $(3),$(2),$(4)) è¿™å…¶ä¸­add_files_ccä¼ å…¥CCï¼ˆç¼–è¯‘å™¨ï¼Œclangè¿˜æ˜¯gccï¼‰ï¼ŒCFLAGSç¼–è¯‘å‚æ•°ã€‚KCFLAGSå³includeçš„filesï¼ŒKSRCDIRå³è¦ç¼–è¯‘çš„æ–‡ä»¶ç›®å½•ã€‚å®é™…æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š 12345gcc -Ikern/init/ -fno-builtin -Wall -ggdb -m32 \\ -gstabs -nostdinc -fno-stack-protector \\ -Ilibs/ -Ikern/debug/ -Ikern/driver/ \\ -Ikern/trap/ -Ikern/mm/ -c kern/init/init.c \\ -o obj/kern/init/init.o å›åˆ°kernelï¼Œä¸‹é¢ä¸€è¡Œä¸ºldï¼Œå³é“¾æ¥å™¨ï¼Œé“¾æ¥æ‰€æœ‰objæ–‡ä»¶ã€‚ ä¹‹ååæ±‡ç¼–åˆ°asmæ–‡ä»¶ï¼Œå†å¤„ç†ä¸€ä¸‹å¾—åˆ°symæ–‡ä»¶ã€‚ å›åˆ°imgï¼Œé™¤äº†kernelï¼Œä¸‹ä¸€ä¸ªä¸ºbootblockï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213bootfiles = $(call listf_cc,boot)$(foreach f,$(bootfiles),$(call cc_compile,$(f),$(CC),$(CFLAGS) -Os -nostdinc))bootblock = $(call totarget,bootblock)$(bootblock): $(call toobj,$(bootfiles)) | $(call totarget,sign) @echo + ld $@ $(V)$(LD) $(LDFLAGS) -N -e start -Ttext 0x7C00 $^ -o $(call toobj,bootblock) @$(OBJDUMP) -S $(call objfile,bootblock) &gt; $(call asmfile,bootblock) @$(OBJCOPY) -S -O binary $(call objfile,bootblock) $(call outfile,bootblock) @$(call totarget,sign) $(call outfile,bootblock) $(bootblock)$(call create_target,bootblock) ç®€è¦åˆ†æï¼Œé¦–å…ˆbootblockéœ€è¦bootæ–‡ä»¶å¤¹ä¸‹çš„filesç¼–è¯‘æˆobjï¼Œç„¶åldé“¾æ¥ï¼Œç„¶åéœ€è¦åæ±‡ç¼–åˆ°asmæ–‡ä»¶ä¾¿äºæŸ¥çœ‹ï¼Œå†objcopyå»æ‰ç¬¦å·å’Œé‡å®šä½ï¼Œç”Ÿæˆåˆ°.outæ–‡ä»¶ä¸­ï¼Œæœ€åä½¿ç”¨signå·¥å…·å¤„ç†.outï¼Œå¾—åˆ°bootblockã€‚ ç®€è¦æ¥åˆ†æç¼–è¯‘æ—¶å€™å…³é”®å‚æ•°ï¼š 1234567-ggdb ç”Ÿæˆè°ƒè¯•ä¿¡æ¯-m32 ç”Ÿæˆ32ä½ç¯å¢ƒä»£ç -gstabs ç”Ÿæˆstabsæ ¼å¼è°ƒè¯•ä¿¡æ¯ï¼Œä»è€Œå¯ä»¥æ˜¾ç¤ºå‡ºä¾¿äºå¼€å‘è€…é˜…è¯»çš„å‡½æ•°è°ƒç”¨-nostdinc ä¸ä½¿ç”¨æ ‡å‡†åº“ï¼Œå› ä¸ºæ˜¯å†…æ ¸-fno-stack-protector ä¸ç”Ÿæˆæ£€æµ‹ç¼“å†²åŒºæº¢å‡ºçš„ä»£ç ï¼Œå†…æ ¸ç”¨ä¸åˆ°-Os ä¸ºå‡å°ä»£ç å¤§å°è€Œä¼˜åŒ–-I&lt;dir&gt; æ·»åŠ æœç´¢å¤´æ–‡ä»¶è·¯å¾„ ç»ƒä¹ 1.2 ä¸€ä¸ªè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯ç¬¦åˆè§„èŒƒçš„ç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºçš„ç‰¹å¾æ˜¯ä»€ä¹ˆ? ç”±æ–‡æ¡£æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œsign.cæ˜¯ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç¬¦åˆè§„èŒƒçš„ç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºçš„ã€‚è§‚å¯Ÿsign.cä»£ç å¯ä»¥çœ‹å‡ºï¼Œå®ƒæ¥æ”¶oså‚æ•°ï¼Œæ£€æµ‹å‚æ•°å¯¹åº”æ–‡ä»¶é•¿åº¦ï¼Œè¯»å…¥512çš„ç¼“å†²åŒºï¼Œå¹¶ä¸”å°†æœ€åä¸¤ä¸ªå­—èŠ‚ï¼Œå³buf[510] = 0x55;ä»¥åŠbuf[511] = 0xAA;ï¼Œä»è€Œå¾—åˆ°æ­£ç¡®çš„ç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºã€‚ 2ï¼šä½¿ç”¨qemuæ‰§è¡Œå¹¶è°ƒè¯•lab1ä¸­çš„è½¯ä»¶qemuåŸºç¡€ å®‰è£…ä¸å¿…å¤šè¨€ï¼Œå¯ä»¥ç›´æ¥sudo apt-getï¼š 123sudo apt-get install qemu-system# è½¯é“¾æ¥ä¸€ä¸‹ï¼Œä½¿ç”¨å‘½ä»¤sudo ln â€“s /usr/local/bin/qemu-system-i386 /usr/local/bin/qemu ç”±äºä¸»è¦æ˜¯i386å¹³å°ï¼Œè¿™é‡Œè½¯é“¾æ¥ä¸€ä¸‹æ–¹ä¾¿ä½¿ç”¨ã€‚ qemuæ ¼å¼å¦‚ä¸‹ï¼š 1qemu [options] [disk_image] ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§å‚æ•°ï¼š 123456789101112131415161718192021222324-hda xxfile -hdb xxfile -hdc xxfile# ä½¿ç”¨fileä½œä¸ºç¡¬ç›˜0,1,2,3é•œåƒ-boot [a|c|d]# ä»è½¯ç›˜aï¼Œå…‰ç›˜cï¼Œç¡¬ç›˜då¯åŠ¨ é»˜è®¤ç¡¬ç›˜å¯åŠ¨-snapshot# å†™å…¥ä¸´æ—¶æ–‡ä»¶è€Œä¸å†™å›ç£ç›˜é•œåƒ-m xxx# è®¾ç½®è™šæ‹Ÿå†…å­˜xxx Må­—èŠ‚-s# ç­‰å¾…gdbè¿æ¥åˆ°ç«¯å£1234-p port# æ”¹å˜è¿æ¥ç«¯å£åˆ°port-S# å¯åŠ¨æ—¶å€™ä¸å¯åŠ¨CPUï¼Œéœ€è¦åœ¨monitorä¸­è¾“å…¥c ï¼ˆcontinueï¼‰æ‰èƒ½ç»§ç»­æ¨¡æ‹Ÿå·¥ä½œ-d# è¾“å‡ºæ—¥å¿—åˆ°qemu.logæ–‡ä»¶# å¯ä»¥é‡å®šå‘åˆ°devè®¾å¤‡ï¼ŒdevåŒ…æ‹¬stdioï¼Œttyï¼Œfileç­‰-serial dev# é‡å®šå‘è™šæ‹Ÿä¸²å£åˆ°devä¸­-parallel dev# é‡å®šå‘è™šæ‹Ÿå¹¶å£åˆ°ä¸»æœºè®¾å¤‡devä¸­-monitor dev# é‡å®šå‘monitoråˆ°devä¸­ åœ¨lab 1ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å¯åŠ¨è®¾å¤‡ 1qemu -S -s -hda ucore.img -monitor stdio # ç”¨äºä¸gdbé…åˆè¿›è¡Œæºç è°ƒè¯• å®Œæˆåç”¨gdbæ‰“å¼€kernelæ–‡ä»¶ï¼Œæ‰§è¡Œå¦‚ä¸‹è¿æ¥åˆ°ç«¯å£1234ï¼š 1(gdb) target remote:1234 ä¹Ÿæœ‰æ›´ç®€ä¾¿çš„æ–¹æ³•æ¥ï¼Œå°±æ˜¯å°†å®ƒé…ç½®è¿›æ–‡ä»¶ï¼Œåœ¨makefileé‡Œé¢å¯åŠ¨æ—¶å€™åŠ è½½gdbé…ç½®æ–‡ä»¶ï¼Œå¼€å¯qemuè¿›è¡Œdebugã€‚ç®€å•æ¥è¯´å¯ä»¥åœ¨tools/gdbinitä¿®æ”¹ï¼Œå¹¶ä¸”æ‰§è¡Œmake debugè¿›è¡Œè°ƒè¯•ã€‚ 1 ä»CPUåŠ ç”µåæ‰§è¡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤å¼€å§‹ï¼Œå•æ­¥è·Ÿè¸ªBIOSçš„æ‰§è¡Œ æ›´æ”¹gdbinitæ–‡ä»¶å¦‚ä¸‹ï¼š 12set architecture i8086target remote :1234 æ„å»ºè¿è¡Œç³»ç»Ÿå¹¶è°ƒè¯•ï¼Œè¿›å…¥gdbï¼Œæ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š 10x0000fff0 in ?? () éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨å¤„äºå®æ¨¡å¼ï¼Œç›´æ¥çœ‹pcæ˜¯çœ‹ä¸å‡ºæŒ‡ä»¤çš„ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ä½äºCSï¼šipç®—å‡ºæ¥çš„ã€‚äºæ˜¯å¯ä»¥è§‚å¯Ÿcså¯„å­˜å™¨ï¼Œipå¯„å­˜å™¨ï¼Œå¦‚ä¸‹ï¼š 1234(gdb) x $cs0xf000: 0x00000000(gdb) x $eip0xfff0: 0x00000000 å¯ä»¥çœ‹åˆ°csåœ¨0xf000ï¼Œeipåœ¨0xfff0ï¼Œé€šè¿‡è®¡ç®—16*cs+ipå¯ä»¥å¾—åˆ°åœ°å€0xffff0ï¼Œè§‚å¯Ÿ0xffff0ï¼Œå¾—åˆ°å¦‚ä¸‹ï¼š 123(gdb) x /2i 0xffff0 0xffff0: ljmp $0x3630,$0xf000e05b 0xffff7: das æœ€å¼€å§‹çš„æŒ‡ä»¤æ˜¯ä¸€ä¸ªé•¿è·³è½¬ljmpï¼Œè·³è½¬åˆ°e05bã€‚å¯¹äºBIOSä»£ç ï¼Œqemué»˜è®¤æ˜¯ä»¥32ä½æ¨¡å¼è§£é‡Šä»£ç çš„ï¼Œè¿™å¯¼è‡´åœ°å€ä¸æ­£ç¡®ï¼Œåæ±‡ç¼–ä¹Ÿä¸æ­£ç¡®ã€‚å‚è€ƒè¿™ä¸ªé“¾æ¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°è§£å†³åŠæ³•ï¼Œåœ¨gdbé…ç½®ä¸­åŠ å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š 1set tdesc filename target.xml target.xmlet.xmlå¯ä»¥åœ¨ä¸Šé¢é“¾æ¥ä¸­è·å–åˆ°ï¼Œæ ¹æ®æ­¤æˆ‘ä»¬å¯ä»¥ä»¥16ä½æ–¹æ³•æ­£ç¡®åæ±‡ç¼–ä»£ç ã€‚ 2 åœ¨åˆå§‹åŒ–ä½ç½®0x7c00è®¾ç½®å®åœ°å€æ–­ç‚¹,æµ‹è¯•æ–­ç‚¹æ­£å¸¸ ç›´æ¥åœ¨gdbä¸­è®¾ç½®æ–­ç‚¹å°±è¡Œï¼Œæ ¼å¼å¦‚ä¸‹ï¼Œå¯ä»¥å†™è¿›gdbé…ç½®ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ã€‚ 1b *0x7c00 3 ä»0x7c00å¼€å§‹è·Ÿè¸ªä»£ç è¿è¡Œ,å°†å•æ­¥è·Ÿè¸ªåæ±‡ç¼–å¾—åˆ°çš„ä»£ç ä¸bootasm.Så’Œ bootblock.asmè¿›è¡Œæ¯”è¾ƒ åœ¨makefileé‡Œé¢æŠŠdebugå‘½ä»¤æ”¹æˆå¦‚ä¸‹ï¼š 1234debug: $(UCOREIMG) $(V)$(QEMU) -S -s -parallel stdio -hda $&lt; -serial null -d in_asm -D q.log&amp; $(V)sleep 2 $(V)$(TERMINAL) -e \"gdb -q -tui -x tools/gdbinit\" å…¶ä¸­in_asmä»£è¡¨ä»¥target asmå½¢å¼è¡¨ç¤ºã€‚å°†æ‰§è¡Œäº†çš„æ±‡ç¼–ç ä¿å­˜åˆ°q.logé‡Œé¢ï¼Œè¿›è¡Œå¯¹æ¯”ã€‚ 1234567891011IN: 0x00007c00: fa cli ----------------IN: 0x00007c00: fa cli 0x00007c01: fc cld 0x00007c02: 31 c0 xorw %ax, %ax0x00007c04: 8e d8 movw %ax, %ds0x00007c06: 8e c0 movw %ax, %es0x00007c08: 8e d0 movw %ax, %ss ä¸ä¹‹å‰çš„asmæ–‡ä»¶ä¸€è‡´ã€‚ 4 è‡ªå·±æ‰¾æ–­ç‚¹æµ‹è¯• æ–¹æ³•åŒä¸Šï¼Œä¸è¿‡å¤šèµ˜è¿°ã€‚ 3ï¼šåˆ†æbootloaderè¿›å…¥ä¿æŠ¤æ¨¡å¼çš„è¿‡ç¨‹é˜…è¯»bootasm.Sæºç è§£å†³ä»¥ä¸‹é—®é¢˜ ä¸ºä½•å¼€å¯A20ï¼Œä»¥åŠå¦‚ä½•å¼€å¯A20 å¦‚ä½•åˆå§‹åŒ–GDTè¡¨ å¦‚ä½•ä½¿èƒ½å’Œè¿›å…¥ä¿æŠ¤æ¨¡å¼ è§‚å¯Ÿæºç ï¼Œé¦–å…ˆä»ç¬¬ä¸€ä¸ªæ‰‡åŒºè¯»å–å†…å®¹åˆ°åœ°å€0x7c00å¤„ï¼Œæ­¤æ—¶$cs=0x0å¹¶ä¸”$ip=0x7c00ï¼Œå¾—åˆ°cs:ipã€‚å¼€å§‹è¿›å…¥æ±‡ç¼–ï¼Œå¼€å§‹ä»£ç å¦‚ä¸‹ï¼š 12345678910start:.code16 # Assemble for 16-bit mode cli # Disable interrupts cld # String operations increment # Set up the important data segment registers (DS, ES, SS). xorw %ax, %ax # Segment number zero movw %ax, %ds # -&gt; Data Segment movw %ax, %es # -&gt; Extra Segment movw %ax, %ss # -&gt; Stack Segment cliæŒ‡ä»¤å…³é—­ä¸­æ–­ï¼ŒcldæŒ‡ä»¤ä½¿å¾—æ–¹å‘æ ‡å¿—ä½å¤ä½ï¼Œä»è€ŒæŒ‰é€’å¢æ–¹å‘å¢é•¿ã€‚ xoræ“ä½œç”¨äºæ¸…é›¶ï¼Œmovæ“ä½œç”¨äºå°†æ•°æ®æ®µï¼Œä»£ç æ®µï¼Œæ ˆæ®µå¯„å­˜å™¨ä¹Ÿæ¸…é›¶ã€‚åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œå¼€å§‹æ‰“å¼€A20çº¿ã€‚ 123456789101112131415seta20.1: inb $0x64, %al # Wait for not busy(8042 input buffer empty). testb $0x2, %al jnz seta20.1 movb $0xd1, %al # 0xd1 -&gt; port 0x64 outb %al, $0x64 # 0xd1 means: write data to 8042's P2 portseta20.2: inb $0x64, %al # Wait for not busy(8042 input buffer empty). testb $0x2, %al jnz seta20.2 movb $0xdf, %al # 0xdf -&gt; port 0x60 outb %al, $0x60 # 0xdf = 11011111, means set P2's A20 bit(the 1 bit) to 1 ä½¿ç”¨8042æ§åˆ¶å™¨æ¥æ§åˆ¶A20 gateã€‚æ“ä½œç®€å•æ¥è¯´å¦‚ä¸‹ï¼š è¯»0x60ç«¯å£ï¼Œä¸ºè¯»output buffer å†™0x60ç«¯å£ï¼Œä¸ºå†™input buffer è¯»0x64ç«¯å£ï¼Œä¸ºè¯»status register æ“ä½œcontrol registerï¼šå…ˆå‘0x64å†™ä¸€ä¸ªå‘½ä»¤ï¼Œæ ¹æ®å‘½ä»¤ä»60è¯»control registerå‘½ä»¤æˆ–è€…å†™60ä¸€ä¸ªcontrol registerå‘½ä»¤ã€‚ å®é™…æ“ä½œèµ·æ¥æµç¨‹ä¸ºï¼šè¯»0x64è§‚å¯Ÿ8042æ˜¯å¦å¿™ï¼Œå¿™åˆ™ç»§ç»­è¯»ç›´åˆ°ä¸å¿™ï¼Œç„¶åå‘0x64å†™å…¥0xd1,ä»£è¡¨å³å°†å†™å…¥8042çš„è¾“å‡ºç«¯å£ã€‚ç„¶åå†æ¬¡ç­‰å¾…ï¼Œç­‰å¾…å®Œæˆåå‘0x60å†™å…¥0xdfï¼Œä»£è¡¨æ‰“å¼€A20åœ°å€çº¿ã€‚ å¯¹äºå…¨å±€æè¿°ç¬¦è¡¨GDTè€Œè¨€ï¼Œä¸‹é¢ä½¿ç”¨lgdtæŒ‡ä»¤ç›´æ¥åŠ è½½å³å¯ï¼š 1lgdt gdtdesc ç„¶åå°†æ§åˆ¶å¯„å­˜å™¨cr0çš„PEä½ç½®ç½®ä¸º1,å³å¯å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼š 123movl %cr0, %eaxorl $CR0_PE_ON, %eaxmovl %eax, %cr0 ç„¶åè·³è½¬åˆ°32ä½ä»£ç åŒºï¼š 1ljmp $PROT_MODE_CSEG, $protcseg è®¾ç½®å¯„å­˜å™¨ï¼Œå»ºç«‹å †æ ˆï¼Œè¿›å…¥bootä¸»æ–¹æ³•ï¼š 1234567891011movw $PROT_MODE_DSEG, %ax # Our data segment selectormovw %ax, %ds # -&gt; DS: Data Segmentmovw %ax, %es # -&gt; ES: Extra Segmentmovw %ax, %fs # -&gt; FSmovw %ax, %gs # -&gt; GSmovw %ax, %ss # -&gt; SS: Stack Segment#Set up the stack pointer and call into C. The stack region is from 0--start(0x7c00)movl $0x0, %ebpmovl $start, %espcall bootmain 4ï¼šåˆ†æbootloaderåŠ è½½ELFæ ¼å¼çš„OSçš„è¿‡ç¨‹bootloaderå¦‚ä½•è¯»å–æ‰‡åŒºçš„ IOæ“ä½œè¯»å–ç¡¬ç›˜åŒ…å«ä¸‰ç§æ–¹å¼ï¼Œchsæ–¹å¼ï¼ˆå°äº8GBï¼‰ï¼ŒLBA28æ–¹å¼ï¼ˆå°äº137GBï¼‰ï¼ŒLBA48æ–¹å¼ï¼ˆå°äº144000000GBï¼‰ã€‚CHSæ¨¡å¼é‡‡ç”¨ç£å¤´ï¼Œç£é“ï¼Œæ‰‡åŒºçš„æ–¹å¼ç¡®å®šä½ç½®ï¼Œè¯»å–ä¸‰ä¸ªå‚æ•°ï¼Œé€åˆ°ç£ç›˜æ§åˆ¶å™¨å»æ‰§è¡Œã€‚LBAæ–¹å¼é€šè¿‡å°†ä¸‰ç»´å¯»å€å˜æˆä¸€ç»´å¯»å€ï¼Œæé«˜äº†æ•ˆç‡ã€‚ bootloaderé‡‡ç”¨LBAçš„PIOæ¨¡å¼ï¼Œæ‰€æœ‰æ“ä½œæ˜¯é€šè¿‡CPUè®¿é—®ç¡¬ç›˜çš„IOåœ°å€å¯„å­˜å™¨å®Œæˆã€‚è¯»ç¡¬ç›˜çš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼Œä¸é”®ç›˜æ§åˆ¶å™¨ç±»ä¼¼ï¼š ç­‰å¾…ç£ç›˜å‡†å¤‡å¥½ å‘å‡ºè¯»å–æ‰‡åŒºçš„å‘½ä»¤ ç­‰å¾…ç£ç›˜å‡†å¤‡å¥½ æŠŠç£ç›˜æ‰‡åŒºæ•°æ®è¯»å–åˆ°æŒ‡å®šå†…å­˜ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ç­‰å¾…ç¡¬ç›˜å’Œè¯»å–ç¡¬ç›˜ä»£ç ï¼š 12345static voidwaitdisk(void) { while ((inb(0x1F7) &amp; 0xC0) != 0x40) /* do nothing */;} å¯ä»¥çœ‹åˆ°ï¼Œç­‰å¾…ç£ç›˜ä¸é”®ç›˜æ§åˆ¶å™¨ç±»ä¼¼ï¼Œå³æ­»å¾ªç¯æ£€æŸ¥ç£ç›˜çŠ¶æ€ï¼Œè§‚å¯Ÿç£ç›˜æ˜¯å¦å¿™ç¢Œã€‚ 12345678910111213141516171819/* readsect - read a single sector at @secno into @dst */static voidreadsect(void *dst, uint32_t secno) { // wait for disk to be ready waitdisk(); outb(0x1F2, 1); // count = 1 outb(0x1F3, secno &amp; 0xFF); outb(0x1F4, (secno &gt;&gt; 8) &amp; 0xFF); outb(0x1F5, (secno &gt;&gt; 16) &amp; 0xFF); outb(0x1F6, ((secno &gt;&gt; 24) &amp; 0xF) | 0xE0); outb(0x1F7, 0x20); // cmd 0x20 - read sectors // wait for disk to be ready waitdisk(); // read a sector insl(0x1F0, dst, SECTSIZE / 4);} å…ˆç­‰å¾…ç£ç›˜å‡†å¤‡å¥½ï¼Œå†å‘ç¡¬ç›˜æ§åˆ¶å™¨å†™å…¥æŒ‡ä»¤ï¼Œå…¶ä¸­F3åˆ°F6è¡¨ç¤ºLBAæ¨¡å¼ä¸‹åœ°å€ï¼ŒF2ä»£è¡¨è¯»å–æ‰‡åŒºæ•°ã€‚F7ä»£è¡¨è¯»å–æŒ‡ä»¤çŠ¶æ€å¯„å­˜å™¨ã€‚å…ˆå‘é€æŒ‡ä»¤ï¼Œå†ä»F0å¼€å§‹è¯»å–ã€‚ readsegå‡½æ•°ä¸ä¹‹ç±»ä¼¼ï¼Œå³ä»ç›®æ ‡ç£ç›˜ä½ç½®å¼€å§‹ï¼Œè¯»å–countæ•°çš„ç£ç›˜å­—èŠ‚ã€‚ bootloaderå¦‚ä½•åŠ è½½elfæ ¼å¼OSçš„ ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930voidbootmain(void) { // read the 1st page off disk readseg((uintptr_t)ELFHDR, SECTSIZE * 8, 0); // is this a valid ELF? if (ELFHDR-&gt;e_magic != ELF_MAGIC) { goto bad; } struct proghdr *ph, *eph; // load each program segment (ignores ph flags) ph = (struct proghdr *)((uintptr_t)ELFHDR + ELFHDR-&gt;e_phoff); eph = ph + ELFHDR-&gt;e_phnum; for (; ph &lt; eph; ph ++) { readseg(ph-&gt;p_va &amp; 0xFFFFFF, ph-&gt;p_memsz, ph-&gt;p_offset); } // call the entry point from the ELF header // note: does not return ((void (*)(void))(ELFHDR-&gt;e_entry &amp; 0xFFFFFF))();bad: outw(0x8A00, 0x8A00); outw(0x8A00, 0x8E00); /* do nothing */ while (1);} å…ˆä»ç£ç›˜ä¸­è¯»å–æ•°æ®ï¼Œè¯»å–åˆ°ç»“æ„ä½“æŒ‡é’ˆpä¸­ã€‚å†é€šè¿‡æŒ‡é’ˆæ“ä½œæ£€æŸ¥p-&gt;e_magicæ˜¯å¦æœ‰æ•ˆã€‚å†æ‰¾åˆ°æ–‡ä»¶ä¸­ä»£ç æ®µèµ·å§‹ä¸ä»£ç æ®µè¾¹ç•Œï¼Œå­˜åˆ°phå’Œephä¸­ï¼Œè¯»å–ä»£ç æ®µåˆ°ç›®æ ‡ä½ç½®ã€‚æœ€åæ ¹æ®æŒ‡é’ˆpæ‰¾åˆ°ä»£ç æ®µçš„è¿›å…¥ç‚¹ï¼Œé€šè¿‡å‡½æ•°è°ƒç”¨æ¥è°ƒç”¨è¯¥åœ°å€å‡½æ•°å¹¶ä¸”æ‰§è¡Œã€‚ 5ï¼šå®ç°å‡½æ•°è°ƒç”¨å †æ ˆè·Ÿè¸ªå‡½æ•° ï¼ˆéœ€è¦ç¼–ç¨‹ï¼‰é¦–å…ˆçŸ¥é“ï¼Œåœ¨è°ƒç”¨å‡½æ•°å‰ï¼Œä¼šå°†ebpå‹å…¥æ ˆï¼Œç„¶åå°†æ ˆé¡¶æŒ‡é’ˆçš„å€¼èµ‹å€¼ç»™ebpã€‚ç”±äºebpè¢«å‹å…¥åä½ç½®å°±æ˜¯æ ˆé¡¶ï¼Œé‚£ä¹ˆ*(ebp)å°±æ˜¯å¤–å±‚çš„ebpçš„å€¼ã€‚ eipå¯„å­˜å™¨å­˜å‚¨çš„æ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ã€‚ åœ¨ebpè¢«å‹å…¥æ ˆä¹‹å‰ï¼Œä»æ–°å‘æ—§è¢«å‹å…¥æ ˆçš„åˆ†åˆ«æ˜¯è¿”å›åœ°å€ï¼Œå‚æ•°1,å‚æ•°2â€¦â€¦ã€‚è¿”å›åœ°å€æ˜¯callæŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œé‚£ä¹ˆæ‰¾åˆ°eip-1æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°callæŒ‡ä»¤çš„åœ°å€ã€‚ ç”±äºebpå¯ä»¥çŸ¥é“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸æ–­è¿­ä»£è¿™ä¸€è¿‡ç¨‹ï¼Œç›´åˆ°ebpä¸º0æˆ–è¾¾åˆ°äº†è¿­ä»£æ·±åº¦ã€‚ ç”±æ­¤æˆ‘ä»¬å¯ä»¥å†™å‡ºå‡½æ•°å¦‚ä¸‹ï¼š 123456789101112131415voidprint_stackframe(void) { uint32_t ebp = read_ebp(),eip = read_eip();//è¯»å–eip ebp for(int i=0;ebp!=0&amp;&amp;i&lt;STACKFRAME_DEPTH;i++){ cprintf(\"ebp:0x%08x eip:0x%08x \",ebp,eip); cprintf(\"args:\"); for(int j=0;j&lt;4;j++){ cprintf(\" 0x%08x\",*(uint32_t *)(ebp+8+4*j));//æ‰“å°å››ä¸ªå‡½æ•°å‚æ•° } cprintf(\"\\n\"); print_debuginfo(eip-1);//æ ¹æ®eipæ‰“å°å¯¹åº”å‡½æ•°åï¼Œæ±‡ç¼–ä½ç½® eip = *(uint32_t*)(ebp+4);//è·å–è¿”å›åœ°å€ï¼Œä½œä¸ºeip ebp = *(uint32_t*)(ebp);//è·å–å¤–å±‚å‡½æ•°ebp }} cprintfæ˜¯ç»ˆç«¯ç›¸å…³çš„printfå‡½æ•°ï¼Œæ¯”å¦‚å¯ä»¥è‡ªå®šä¹‰æ‰“å°é¢œè‰²ç­‰ï¼Œä½†ç¼ºå°‘ç§»æ¤æ€§ã€‚ åœ¨å®Œæˆåçš„æ˜¾ç¤ºä¸­ï¼Œæœ€åä¸€è¡Œä¸ºï¼š 12ebp:0x00007bf8 eip:0x00007d72 args:0xc031fcfa 0xc08ed88e 0x64e4d08e 0xfa7502a8 &lt;unknow&gt;: -- 0x00007d71 -- è¿™æ˜¯bootloaderæ—¶å€™çš„ä»£ç ï¼Œç”±äºbootloaderè®¾ç½®çš„å †æ ˆespå€¼ä»0x7c00å¼€å§‹ï¼Œè°ƒç”¨call bootmainï¼ŒcallæŒ‡ä»¤å‹æ ˆï¼Œ7c00-0008=7bf8ï¼Œæ‰€ä»¥bootmainä¸­ebpä¸º0x7bf8 6ï¼šå®Œå–„ä¸­æ–­åˆå§‹åŒ–å’Œå¤„ç† ï¼ˆéœ€è¦ç¼–ç¨‹ï¼‰ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆä¹Ÿå¯ç®€ç§°ä¸ºä¿æŠ¤æ¨¡å¼ä¸‹çš„ä¸­æ–­å‘é‡è¡¨ï¼‰ä¸­ä¸€ä¸ªè¡¨é¡¹å å¤šå°‘å­—èŠ‚ï¼Ÿå…¶ä¸­å“ªå‡ ä½ä»£è¡¨ä¸­æ–­å¤„ç†ä»£ç çš„å…¥å£ï¼Ÿ æˆ‘ä»¬å¯ä»¥åœ¨trap.cæ‰¾åˆ°idtæ•°ç»„ï¼Œå¹¶åœ¨å¤´æ–‡ä»¶ä¸­æ‰“å¼€æ•°ç»„ç±»å‹çš„å£°æ˜ï¼š 123456789101112static struct gatedesc idt[256] = {{0}};//ç±»å‹ä¸ºgatedescï¼Œåœ¨mmu.hä¸­æ‰“å¼€è¯¥ç±»å‹struct gatedesc { unsigned gd_off_15_0 : 16; // low 16 bits of offset in segment unsigned gd_ss : 16; // segment selector unsigned gd_args : 5; // # args, 0 for interrupt/trap gates unsigned gd_rsv1 : 3; // reserved(should be zero I guess) unsigned gd_type : 4; // type(STS_{TG,IG32,TG32}) unsigned gd_s : 1; // must be 0 (system) unsigned gd_dpl : 2; // descriptor(meaning new) privilege level unsigned gd_p : 1; // Present unsigned gd_off_31_16 : 16; // high bits of offset in segment}; è¿™é‡Œæ³¨æ„å†’å·çš„ç”¨æ³•ï¼Œå†’å·åé¢çš„æ•°å­—ä»£è¡¨å å¤šå°‘å¤šå°‘ä½ï¼Œè¿™é‡Œå°±æ˜¯16+16+5+3+4+1+2+1+16=64ä½ï¼Œä¹Ÿå°±æ˜¯8ä¸ªå­—èŠ‚ã€‚ è¯·ç¼–ç¨‹å®Œå–„kern/trap/trap.cä¸­å¯¹ä¸­æ–­å‘é‡è¡¨è¿›è¡Œåˆå§‹åŒ–çš„å‡½æ•°idt_initã€‚åœ¨idt_initå‡½æ•°ä¸­ï¼Œä¾æ¬¡å¯¹æ‰€æœ‰ä¸­æ–­å…¥å£è¿›è¡Œåˆå§‹åŒ– è§‚å¯ŸSETGATEå®ï¼š 1234567891011#define SETGATE(gate, istrap, sel, off, dpl) { \\ (gate).gd_off_15_0 = (uint32_t)(off) &amp; 0xffff; \\ (gate).gd_ss = (sel); \\ (gate).gd_args = 0; \\ (gate).gd_rsv1 = 0; \\ (gate).gd_type = (istrap) ? STS_TG32 : STS_IG32; \\ (gate).gd_s = 0; \\ (gate).gd_dpl = (dpl); \\ (gate).gd_p = 1; \\ (gate).gd_off_31_16 = (uint32_t)(off) &gt;&gt; 16; \\} åœ¨è¿™é‡Œï¼Œgateå³ä¸ºidtæ•°ç»„çš„æ•°ç»„é¡¹ã€‚é™¤äº†syscallæ˜¯ä¸€ä¸ªtrapï¼Œå…¶ä»–æˆ‘ä»¬éƒ½è®¾ç½®ä¸º0ã€‚selå³ä¸ºæ®µåŸºå€ï¼Œå³OSçš„ä»£ç æ®µä½ç½®ï¼Œå¯ä»¥åœ¨memlayout.hä¸­çœ‹åˆ°ã€‚è¿™é‡Œä¹Ÿå°±æ˜¯GD_KTEXTã€‚offåˆ™æ˜¯åç§»ï¼Œåœ¨__vectors.sä¸­å¯ä»¥çœ‹åˆ°ã€‚dplæ˜¯ç‰¹æƒçº§ï¼Œsyscallä½¿ç”¨ç”¨æˆ·ç‰¹æƒçº§ï¼Œå…¶ä»–éƒ½ä½¿ç”¨å†…æ ¸ç‰¹æƒçº§ã€‚è¿™é‡Œä½¿ç”¨å®è€Œä¸è¦ç”¨æ•°å­—ã€‚ æˆ‘ä»¬å¯ä»¥å®ç°idt_initå¦‚ä¸‹ï¼š 123456789101112131415161718192021voididt_init(void) { /* LAB1 YOUR CODE : STEP 2 */ extern uintptr_t __vectors[]; for(int i=0;i&lt;sizeof(idt)/sizeof(struct gatedesc);i++){ SETGATE(idt[i],0,GD_KTEXT,__vectors[i],DPL_KERNEL); } SETGATE(idt[T_SYSCALL],1,GD_KTEXT,__vectors[T_SYSCALL],DPL_USER); lidt(&amp;idt_pd); /* (1) Where are the entry addrs of each Interrupt Service Routine (ISR)? * All ISR's entry addrs are stored in __vectors. where is uintptr_t __vectors[] ? * __vectors[] is in kern/trap/vector.S which is produced by tools/vector.c * (try \"make\" command in lab1, then you will find vector.S in kern/trap DIR) * You can use \"extern uintptr_t __vectors[];\" to define this extern variable which will be used later. * (2) Now you should setup the entries of ISR in Interrupt Description Table (IDT). * Can you see idt[256] in this file? Yes, it's IDT! you can use SETGATE macro to setup each item of IDT * (3) After setup the contents of IDT, you will let CPU know where is the IDT by using 'lidt' instruction. * You don't know the meaning of this instruction? just google it! and check the libs/x86.h to know more. * Notice: the argument of lidt is idt_pd. try to find it! */} è¯·ç¼–ç¨‹å®Œå–„trap.cä¸­çš„ä¸­æ–­å¤„ç†å‡½æ•°trapï¼Œåœ¨å¯¹æ—¶é’Ÿä¸­æ–­è¿›è¡Œå¤„ç†çš„éƒ¨åˆ†å¡«å†™trapå‡½æ•°ä¸­å¤„ç†æ—¶é’Ÿä¸­æ–­çš„éƒ¨åˆ†ï¼Œä½¿æ“ä½œç³»ç»Ÿæ¯é‡åˆ°100æ¬¡æ—¶é’Ÿä¸­æ–­åï¼Œè°ƒç”¨print_tickså­ç¨‹åºï¼Œå‘å±å¹•ä¸Šæ‰“å°ä¸€è¡Œæ–‡å­—â€100 ticksâ€ è§‚å¯Ÿtrapå‡½æ•°ï¼Œå¦‚ä¸‹ï¼š 12345voidtrap(struct trapframe *tf) { // dispatch based on what type of trap occurred trap_dispatch(tf);} ç„¶åçœ‹trap_dispatch()å‡½æ•°ï¼Œè¿™é‡Œç›´æ¥å†™å¥½äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243/* trap_dispatch - dispatch based on what type of trap occurred */static voidtrap_dispatch(struct trapframe *tf) { char c; switch (tf-&gt;tf_trapno) { case IRQ_OFFSET + IRQ_TIMER: /* LAB1 YOUR CODE : STEP 3 */ ticks++; if(ticks%TICK_NUM==0){ print_ticks(); } /* handle the timer interrupt */ /* (1) After a timer interrupt, you should record this event using a global variable (increase it), such as ticks in kern/driver/clock.c * (2) Every TICK_NUM cycle, you can print some info using a funciton, such as print_ticks(). * (3) Too Simple? Yes, I think so! */ break; case IRQ_OFFSET + IRQ_COM1: c = cons_getc(); cprintf(\"serial [%03d] %c\\n\", c, c); break; case IRQ_OFFSET + IRQ_KBD: c = cons_getc(); cprintf(\"kbd [%03d] %c\\n\", c, c); break; //LAB1 CHALLENGE 1 : YOUR CODE you should modify below codes. case T_SWITCH_TOU: case T_SWITCH_TOK: panic(\"T_SWITCH_** ??\\n\"); break; case IRQ_OFFSET + IRQ_IDE1: case IRQ_OFFSET + IRQ_IDE2: /* do nothing */ break; default: // in kernel, it must be a mistake if ((tf-&gt;tf_cs &amp; 3) == 0) { print_trapframe(tf); panic(\"unexpected trap in kernel.\\n\"); } }} çœ‹åˆ°IRQ_OFFSET + IRQ_TIMERè¿™ä¸€é¡¹ï¼Œå³æ¯ä¸ªä¸­æ–­è®¡æ•°ä¸€ä¸‹ï¼Œè®¡æ•°åˆ°äº†å°±print_ticks()ï¼Œè¿™é‡Œéƒ½ç»™ä½ å†™å¥½äº†ï¼Œå¾ˆç®€å•ã€‚ æ‰©å±•ç»ƒä¹ éœ€è¦ç‰¹æƒè½¬æ¢è¯¦ç»†çŸ¥è¯†ï¼Œå¾…åˆ°å®Œæˆlab2åå†åšã€‚ æ€»ç»“ä¸æ„Ÿæƒ³è¿™ä¸€æ¬¡ä¸»è¦å®Œæˆçš„æ˜¯ä»CPUåŠ ç”µåˆ°å®é™…åŠ è½½è¿›å…¥æ“ä½œç³»ç»Ÿï¼Œå®Œæˆå„ç§åˆå§‹åŒ–è¿™ä¸€è¿‡ç¨‹ã€‚ä¸»è¦ç†Ÿæ‚‰äº†qemuçš„debugï¼Œåæ±‡ç¼–ï¼Œç†Ÿæ‚‰äº†bootloaderçš„æ±‡ç¼–ç ï¼Œç†Ÿæ‚‰äº†è¯»å–æ‰‡åŒºä»¥åŠæ–‡ä»¶çš„è¿‡ç¨‹ï¼Œç†Ÿæ‚‰äº†gdtå…¨å±€æè¿°è¡¨ï¼Œidtä¸­æ–­æè¿°è¡¨çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œç†Ÿæ‚‰äº†å‡½æ•°å †æ ˆçš„æ„æˆã€‚å¯¹æ“ä½œç³»ç»Ÿæœ€åˆçš„çŠ¶æ€ä»é¡¶å±‚åˆ°åº•å±‚æœ‰äº†ä¸€ä¸ªå¤§è‡´çš„äº†è§£ã€‚ lab1ç¡®å®æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼Œæ²¡æœ‰éå¸¸åŠé€€ï¼Œå¯¹äºä»£ç ç¼–å†™è¦æ±‚å¹¶ä¸é«˜ï¼Œä½†å¯¹äºä»£ç ç†è§£èƒ½åŠ›ï¼Œè°ƒè¯•èƒ½åŠ›ï¼Œç†è®ºçŸ¥è¯†è€ƒéªŒå¾ˆé«˜ã€‚å®éªŒçš„æ–‡æ¡£å†™çš„å¾ˆè¯¦å°½ï¼Œæœ‰æ—¶å€™é‡åˆ°å¡é¡¿çš„æ—¶å€™æœ€å¥½çš„åŠæ³•æ˜¯é‡æ–°è¯»ä¸€éå®éªŒæ–‡æ¡£ï¼Œå¾€å¾€å°±çŸ¥é“è¯¥æ€ä¹ˆåšäº†ã€‚å®éªŒçš„ä»£ç ä¹ŸåŒ…å«äº†ç›¸å½“è¯¦å°½çš„æ³¨é‡Šï¼Œä½†ç†è§£æ³¨é‡Šä¹Ÿéœ€è¦ç†è®ºçŸ¥è¯†ç›¸å½“æ‰å®ã€‚ ä»Šå¤©æ˜¯5æœˆ12å·ï¼Œ5æœˆ3å·å¼€å§‹çš„æœ¬æ¬¡å®éªŒï¼Œå†™äº†å¤§æ¦‚åå¤©ï¼Œå¦‚æœè€ƒè™‘åˆ°ä¸­é€”çš„æ‘¸é±¼ï¼Œå¤§æ¦‚èƒ½åœ¨ä¸ƒå¤©å†…å†™å®Œã€‚è™½ç„¶ä¸œè¥¿ä¸ç®—å¤šï¼Œä½†å¾ˆç»†èŠ‚ï¼Œå¯¹çŸ¥è¯†ç§¯ç´¯çš„è¦æ±‚å¾ˆå¤§ã€‚è€Œä¸”ä¹Ÿç›¸å½“è€ƒéªŒå¼€å‘çš„åŸºç¡€æ°´å¹³ã€‚lab1ä¸»è¦è¿˜æ˜¯è€ƒæ ¸åŸºç¡€ï¼Œæ¯”å¦‚ä»£ç è°ƒè¯•ï¼Œä½ éœ€è¦ç†Ÿæ‚‰gdbçš„æ“ä½œï¼Œç†Ÿæ‚‰qemuçš„é€šä¿¡ï¼Œå‡ºç°äº†ä¸ç­”æ¡ˆä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œæ¯”å¦‚qemuå®æ¨¡å¼æ—¶å€™æ˜¾ç¤º32ä½æ±‡ç¼–ï¼Œä¸ºä»€ä¹ˆï¼Œä½ éœ€è¦å»æ¢ç©¶ã€‚æ±‡ç¼–ä»£ç ä¸è¯´ç²¾é€šï¼Œä½†å¯¹æ•´ä¸ªè¿‡ç¨‹è¦æœ‰äº†è§£ï¼ŒçŸ¥é“æ¯ä¸€è¡Œå¤§è‡´æ˜¯åœ¨å¹²ä»€ä¹ˆã€‚makefileæ˜¯ç¼–è¯‘ç¨‹åºçš„åŸºç¡€ï¼Œå°±ç®—ä¸è¦æ±‚ç¼–å†™ï¼Œä¹Ÿè¦äº†è§£ä¸€ä¸‹ï¼Œç¼–è¯‘å‚æ•°æœ‰äº›ä»€ä¹ˆï¼Œç¨‹åºçš„ç¼–è¯‘æ˜¯ä¸ªä»€ä¹ˆè¿‡ç¨‹ã€‚å‡½æ•°å †æ ˆä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¹³æ—¶ä½¿ç”¨çš„debugæ–¹æ³•ï¼Œç©¶ç«Ÿæ˜¯å¦‚ä½•debugçš„ï¼Œå¦‚ä½•çœ‹åˆ°å‡½æ•°çš„åµŒå¥—è°ƒç”¨ã€‚åœ¨å®Œæˆlab1åï¼Œæå‡æœ€å¤§çš„ä¸ä»…ä»…æ˜¯æ“ä½œç³»ç»ŸçŸ¥è¯†ï¼Œè¿˜æœ‰å®é™…çš„ä»£ç å¼€å‘æ°´å¹³ï¼Œä¸€äº›å¼€å‘çš„åŸºç¡€æ“ä½œåœ¨å®Œæˆå®éªŒçš„è¿‡ç¨‹ä¸­å¾—åˆ°äº†è€ƒéªŒã€‚è€Œéœ€è¦ç¼–ç¨‹çš„æ¨¡å—ï¼Œä¹Ÿä»…ä»…æ²¡å‡ è¡Œï¼Œå°è£…ä¹Ÿå°è£…äº†å¾ˆå¤šï¼Œæœ€è€ƒéªŒçš„æ˜¯ç†è§£è€Œéç¼–å†™ã€‚ ç†è§£æ˜¯å®é™…å¼€å‘å¾ˆé‡è¦çš„ä¸€ç¯ï¼Œå¼€å‘äººå‘˜å¿…é¡»ä¿æŒé«˜æ•ˆçš„ç†è§£åŠ›ï¼Œè¿™æ ·æ‰èƒ½å¿«é€Ÿä¸Šæ‰‹é¡¹ç›®ã€‚åŒæ—¶ä¹Ÿéœ€è¦æŒæ¡å·¥ç¨‹åŒ–çš„ä»£ç è°ƒè¯•èƒ½åŠ›ï¼Œå¯¹åŸºç¡€äº†è§£ï¼Œè¿™æ ·æ‰èƒ½è§„èŒƒå¼€å‘ï¼Œä¸è‡³äºé™·å…¥æ‰‹è¶³æ— æªçš„å¢ƒåœ°ã€‚ lab2åç»­çœ‹æƒ…å†µå†™ï¼Œæœ€è¿‘æ„Ÿè§‰è‡ªå·±çš„å¼€å‘æ•ˆç‡å—å¤–ç•Œå½±å“å¾ˆå¤§ï¼Œéš¾ä»¥ä¸“æ³¨ï¼Œå¯¹è‡ªå·±çš„ä¸Šç­çŠ¶æ€å¾ˆå ªå¿§ã€‚å¸Œæœ›è‡ªå·±èƒ½æ›´åŠ ä¸“æ³¨ä¸€äº›ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/ucore-lab-1/"},{"title":"SICP in Pythonè¯»ä¹¦ç¬”è®°","text":"ä¸»è¦ä¸ºSICP in Pythonçš„è¯»ä¹¦ç¬”è®°ï¼Œè®°å½•äº†ä¹¦ä¸­çš„ä¸€äº›å¹³æ—¶ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„çŸ¥è¯†ç‚¹ã€‚ ç¬¬ä¸€ç«  ç”¨å‡½æ•°æ„å»ºæŠ½è±¡æµ‹è¯•doctestæ¨¡å—å¯ä»¥ç”¨äºæµ‹è¯•ï¼Œpythonå¯ä»¥å°†æµ‹è¯•å†™è¿›å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²å†…ï¼Œä¾‹å­å¦‚ä¸‹ï¼š 123456789101112def sum_naturals(n): \"\"\"Return the sum of the first n natural numbers &gt;&gt;&gt; sum_naturals(10) 55 &gt;&gt;&gt; sum_naturals(100) 5050 \"\"\" total, k = 0, 1 while k &lt;= n: total, k = total + k, k + 1 return total è°ƒç”¨å¦‚ä¸‹ï¼Œglobalsè¿”å›å…¨å±€å˜é‡çš„è¡¨ç¤ºï¼Œéœ€è¦å®ƒæ¥æ±‚è§£è¡¨è¾¾å¼ï¼Œæ­£å¸¸è¿è¡Œåº”è¯¥ä¸è¿”å›ç»“æœï¼š 12from doctest import run_docstring_examplesrun_docstring_examples(sum_naturals,globals()) åœ¨æ–‡ä»¶ä¸­ç¼–å†™pythonï¼Œå¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤å¯åŠ¨æ–‡æ¡£ä¸­æ‰€æœ‰doctestï¼š 1python3 -m doctest &lt;python_source_file&gt; é«˜é˜¶å‡½æ•°è§‚å¯Ÿä¸‹åˆ—æ±‚å’Œå‡½æ•°ï¼Œå¯ä»¥çœ‹åˆ°ç›¸ä¼¼çš„æ±‚å’Œè¿‡ç¨‹ï¼š 1234567891011121314151617def sum_naturals(n): total, k = 0, 1 while k &lt;= n: total, k = total + k, k + 1 return totaldef sum_cubes(n): total, k = 0, 1 while k&lt;=n: total, k = total + pow(k,3), k+1 return totaldef pi_sum(n): total, k = 0,1 while k&lt;=n: total, k = total + 8/(k*(k+2)), k+4 return total å¯¹äºç›¸ä¼¼çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æŠ½è±¡å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314def do_sum(n,term,next): total,k = 0,1 while k&lt;=n: total, k = total + term(k),next(k) return totaldef cube(n): return n**3def add_one(n): return n+1def sum_cube_abstract(n): return do_sum(n,cube,add_one) æˆ‘ä»¬å°†æ–¹ç¨‹ä½œä¸ºå‚æ•°ï¼ŒæŠ½è±¡å‡ºäº†ä¸­é—´è¿‡ç¨‹ï¼Œnextè¡¨ç¤ºä¸‹ä¸€é¡¹ï¼Œtermè¡¨ç¤ºæœ¬é¡¹ï¼Œå¯¹äºä¸‰æ¬¡æ–¹æ±‚å’Œå¯ä»¥ç”¨å¦‚ä¸Šè¿‡ç¨‹æ±‚è§£ã€‚åŒæ ·ï¼Œå¯¹äºpi_sumä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼æ–¹æ³•æ±‚è§£ï¼Œå¦‚ä¸‹ï¼š 12345678def add_four(n): return n+4def pi_sum_term(n): return 8/(n*(n+2))def pi_sum_abstract(n): return do_sum(n,pi_sum_term,add_four) ä»¥åŒæ ·çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹ä»£ç è¡¨ç¤ºè¿­ä»£é€¼è¿‘æ³•ï¼š 1234def iter_improve(update,test,guess=1): while not test(guess): guess = update(guess) return guess è¯¥å‡½æ•°ä»£è¡¨å½“guessæ»¡è¶³æ¡ä»¶æ—¶å€™åˆ™è¿”å›ï¼Œå¦åˆ™ä¸æ–­æ›´æ–°guessç›´åˆ°æ»¡è¶³æ¡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä»¥ä¸‹å‡½æ•°ï¼Œæ¥è®¡ç®—é»„é‡‘æ¯”ä¾‹å€¼ï¼š 1234567891011121314151617def near(x,f,g): return approx_eq(f(x),g(x))def approx_eq(x,y,eps=1e-5): return abs(x-y)&lt;epsdef square(n): return n**2def golden_update(guess): return 1/guess+1def golden_test(guess): return near(guess,square,add_one)def cal_golden(): return iter_improve(golden_update,golden_test) è¿™æ˜¯è®¡ç®—é»„é‡‘æ¯”ä¾‹çš„ä¸€ç§æ–¹æ³•ï¼Œå½“è¯¯å·®è¶³å¤Ÿå°çš„æ—¶å€™è¿”å›ï¼Œå¦åˆ™ç»§ç»­è¿­ä»£ã€‚ ä½†ä¸Šè¿°å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯updateåªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°ä¿®æ”¹æˆ‘ä»¬çš„æ¨¡å‹ã€‚ ä¸‹é¢æ“ä½œå¯ä»¥ä½¿å¾—æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹ï¼š 12345def avg(x,y): return (x+y)/2def sqrt_update(guess,x): return avg(guess,x/guess) é€šè¿‡ä¸æ–­æ›´æ–°æ¥è·å–å¹³æ–¹æ ¹ï¼Œä½†é—®é¢˜åœ¨äºè¯¥updateéœ€è¦ä¿©å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è°ƒç”¨ï¼š 12345678def get_sqrt(x): def update(guess): return sqrt_update(guess,x) def test(guess): return approx_eq(square(guess),x) return iter_improve(update,test) å¯ä»¥çœ‹åˆ°ï¼Œæ­¤å¤„sqrt_updateå¯ä»¥çœ‹åˆ°å‚æ•°xï¼Œè€Œæ— éœ€æ”¹å˜iter_improveå‡½æ•°ã€‚è¿™é‡Œå±€éƒ¨å‡½æ•°çš„ç”¨æ³•ï¼Œä»–åªå½±å“å‡½æ•°å†…çš„ä¸œè¥¿ï¼Œè€Œä¸å½±å“å‡½æ•°å¤–çš„ã€‚å±€éƒ¨å®šä¹‰çš„å‡½æ•°ä¹Ÿé€šå¸¸ç§°ä¸ºé—­åŒ…ã€‚ æˆ‘ä»¬å¯ä»¥ç»„åˆå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1234def compose(f,g): def h(x): return f(g(x)) return h æˆ‘ä»¬é€šè¿‡å±€éƒ¨å‡½æ•°çš„æ–¹æ³•ï¼Œå¾—åˆ°äº†ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨lambdaè¡¨è¾¾å¼ä»£æ›¿ä¸Šè¿°ç¤ºä¾‹ï¼Œè¿”å›ä¸æ˜¯å‡½æ•°è€Œæ˜¯lambdaè¡¨è¾¾å¼ï¼š 12def compose_lambda(f,g): return lambda x:f(g(x)) æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°åµŒå¥—çš„æ–¹æ³•ï¼Œå®ç°ç‰›é¡¿æ³•ã€‚é¦–å…ˆï¼Œå®ç°æ±‚å¯¼ï¼Œè¿™é‡Œé‡‡ç”¨è¿‘ä¼¼æ³•æ±‚å¯¼ï¼š 123def approx_derivative(f,x,delta=1e-5): df = f(x+delta)-f(x) return df/delta æˆ‘ä»¬ç»§ç»­å¤ç”¨ä¸Šé¢çš„è¿­ä»£é€¼è¿‘æ³•ï¼Œè¿™é‡ŒåŒ…è£…ä¸€ä¸‹ï¼Œå½¢æˆæ–°çš„updateå‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å‡½æ•°ç±»å‹ï¼š 1234def newton_update(f): def update(x): return x-f(x)/approx_derivative(f,x) return update ç‰›é¡¿æ³•å†™å¥½åï¼Œæˆ‘ä»¬å°±å¤ç”¨è¿­ä»£é€¼è¿‘æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å‡½æ•°ç±»å‹ï¼š 1234def find_root(f,initial_guess=10): def test(x): return approx_eq(f(x),0) return iter_improve(newton_update(f),test,guess=initial_guess) find_rootæ˜¯ä¸€ä¸ªé€šç”¨æ–¹æ³•ï¼Œæ ¹æ®ä¼ è¿›æ¥çš„æ–¹ç¨‹æ‰¾åˆ°æ–¹ç¨‹å€¼ä¸º0çš„æƒ…å†µï¼Œä¸‹é¢æ˜¯ä¸€äº›åº”ç”¨ï¼Œåˆ†åˆ«æ˜¯æ‰¾åˆ°x**2==açš„æƒ…å†µå’Œx**0.5==açš„æƒ…å†µï¼š 1234567def square_root(a): def f(x): return square(x)-a return find_root(f)def sqrt_root(a): return find_root(lambda x:x**0.5-a) é«˜é˜¶å‡½æ•°ä¹Ÿå¯ä»¥ç”¨è£…é¥°å™¨è¯­æ³•ç³–ï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ã€‚ ç¬¬äºŒç«  ä½¿ç”¨å¯¹è±¡æ„å»ºæŠ½è±¡æ•°æ®æŠ½è±¡æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•å®ç°äºŒå…ƒç»„ï¼š 1234567def make_pair(x,y): def get_item(m): if m == 0: return x elif m == 1: return y return get_item äºŒå…ƒç»„å¹¶éä¼ ç»Ÿæ„ä¹‰ä¸Šçš„äºŒå…ƒç»„ï¼Œè€Œæ˜¯å®ç°äº†äº†ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥èµ·åˆ°äºŒå…ƒç»„çš„åŠŸèƒ½ï¼Œè°ƒç”¨æ–¹æ³•å¦‚ä¸‹ï¼š 123p = make_pair(1,100)print(p(0))print(p(1)) æˆ‘ä»¬å¯ä»¥ç”¨è¿™æ ·çš„å…ƒç»„ï¼Œæ¥å®ç°ä¸€ä¸ªæœ‰ç†æ•°ã€‚è¿™é‡Œå°†æœ‰ç†æ•°å®šä¹‰ä¸ºa/bçš„å½¢å¼ï¼Œå¯ä»¥ä¸ºå‡åˆ†æ•°ã€‚ 1234567891011121314def make_rat(x,y): tmp = gcd(x,y) return make_pair(x//tmp,y//tmp)def print_rat(r): if(r(1)!=1): print(r(0),\"/\",r(1)) else: print(r(0))def add_rat(a,b): a0,a1 = a(0),a(1) b0,b1 = b(0),b(1) return make_rat(b0*a1+a0*b1,a1*b1) è¿™é‡Œåªå®ç°äº†åŠ æ³•æ“ä½œå’Œç°å®æ“ä½œï¼Œå…¶ä»–çš„æ“ä½œä¹Ÿç±»ä¼¼ã€‚è¿™æ˜¯ä¸€ç§æŠ½è±¡çš„æ–¹æ³•ã€‚ å®ç°ç±»ä¸å¯¹è±¡é¦–å…ˆæ˜ç¡®æ€è·¯ï¼šç±»åŒ…å«æˆå‘˜å‡½æ•°ï¼Œå¯¹è±¡æœ‰ç€è‡ªå·±çš„å±æ€§ã€‚å½“è°ƒç”¨æˆå‘˜å‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦å°†å‡½æ•°ä¸å¯¹è±¡ç›¸ç»‘å®šã€‚ æˆ‘ä»¬å¯ä»¥ç”¨å­—å…¸æ¥æ¨¡æ‹Ÿå±æ€§ä¸æ–¹æ³•ã€‚åœ¨ç±»ä¸­çš„å­—å…¸å­˜æ”¾æ–¹æ³•ï¼Œè°ƒç”¨çš„æ—¶å€™ç»‘å®šåˆ°å¯¹è±¡ã€‚åœ¨å¯¹è±¡çš„å­—å…¸ä¸­å­˜æ”¾å±æ€§ã€‚ é¦–å…ˆå¯ä»¥å†™å‡ºmake_instanceå‡½æ•°æ¥åˆ›é€ ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314def make_instance(cls): def get_value(name): if name in attributes: return attributes[name] else: value = cls[\"get\"](name) return bind_method(value,instance) def set_value(name,value): attributes[name] = value attributes = {} instance = {\"get\":get_value,\"set\":set_value} return instance å…¶ä¸­get_valueç”¨äºè·å–å±æ€§ï¼Œæˆ–è€…è°ƒç”¨æˆå‘˜å‡½æ•°ã€‚set_valueç”¨äºæ›´æ”¹æˆå‘˜ã€‚å½“è°ƒç”¨get_valueæ—¶å€™ï¼Œæˆ‘ä»¬å…ˆæ‰¾æ˜¯å¦å­˜åœ¨å±æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™åœ¨ç±»ä¸­æ‰¾åˆ°å¯¹åº”æ–¹æ³•å¹¶ç»‘å®šã€‚ bind_methodç”¨äºç»‘å®šï¼Œå®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567def bind_method(value,instance): if callable(value): def method(*args): return value(instance,*args) return method else: return value å¦‚æœå…¥å‚ä¸ºå¯è°ƒç”¨çš„ï¼Œåˆ™ç»‘å®šåˆ°instanceï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è¿”å›å¯¹åº”å€¼ã€‚ æ³¨æ„è¿™é‡Œçš„instanceæœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œåœ¨åç»­çš„æˆå‘˜å‡½æ•°çš„ä½¿ç”¨ä¸Šä¼šçœ‹åˆ°è¿™ä¸€ç‚¹ã€‚ åœ¨å…³æ³¨å®Œåˆ›å»ºå¯¹è±¡ä¹‹åæˆ‘ä»¬å†æ¥å…³æ³¨åˆ›å»ºç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415def make_class(attributes,base_class=None): def get_value(name): if name in attributes: return attributes[name] elif base_class is not None: return base_class[\"get\"](name) def set_value(name,value): attributes[name] = value def new(*args): return init_instance(cls, *args) cls = {\"get\":get_value,\"set\":set_value,\"new\":new} return cls ç±»çš„æœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªç»‘å®šäº†get,set,newä¸‰ä¸ªåŸºæœ¬æ–¹æ³•çš„å­—å…¸ã€‚è¿™é‡Œå®ç°äº†ç»§æ‰¿åŠŸèƒ½ã€‚åœ¨getçš„æ—¶å€™ï¼Œä¼šæ‰¾åˆ°æˆå‘˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™åœ¨çˆ¶ç±»ä¸­å¯»æ‰¾ã€‚setåˆ™é€»è¾‘ç›¸åŒã€‚newçš„æ—¶å€™æ¥æ”¶å„ç§ç±»å‹çš„å‚æ•°ï¼Œåˆ›å»ºå®ä¾‹ï¼Œç„¶åæ‰¾åˆ°ç”¨æˆ·å®šä¹‰çš„__init__å‡½æ•°ï¼Œå°†å‚æ•°è¾“å…¥è¿›å»è¿›è¡Œå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1234567def init_instance(cls,*args): instance = make_instance(cls) init = cls[\"get\"](\"__init__\") if init: init(instance, *args) return instance æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å…·ä½“å®ç°ä¸€ä¸ªç±»ï¼Œæ¥è§‚å¯Ÿè¿™ä¸ªç³»ç»Ÿæ˜¯æ€ä¹ˆæ‰§è¡Œçš„ã€‚åˆ›å»ºç±»çš„å‡½æ•°å®ç°å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223def make_account_class(): def __init__(self_instance,account_holder): print(self_instance) self_instance[\"set\"](\"holder\",account_holder) self_instance[\"set\"](\"balance\",0) def deposit(self_instance, amount): \"\"\"Increase the account balance by amount and return the new balance.\"\"\" new_balance = self_instance['get']('balance') + amount self_instance['set']('balance', new_balance) return self_instance['get']('balance') def withdraw(self_instance, amount): \"\"\"Decrease the account balance by amount and return the new balance.\"\"\" balance = self_instance['get']('balance') if amount &gt; balance: return 'Insufficient funds' self_instance['set']('balance', balance - amount) return self_instance['get']('balance') return make_class({'__init__': __init__, 'deposit': deposit, 'withdraw': withdraw, 'interest': 0.02}) è¿™é‡Œå®ç°äº†ä¸€ä¸ªè´¦æˆ·ç±»ä»¥åŠä¸€äº›æ–¹æ³•ã€‚é¦–å…ˆå…³æ³¨åˆ›å»ºæ—¶å€™çš„æµç¨‹ã€‚å½“è°ƒç”¨è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªclasså­—å…¸ï¼Œå…¶attributesä¸ºreturné‡Œé¢çš„ä¸œè¥¿ï¼Œè€Œattritubeséœ€è¦é€šè¿‡get_valueå‡½æ•°ï¼Œset_valueå‡½æ•°æ¥è®¿é—®ã€‚è°ƒç”¨æ–¹æ³•å¦‚ä¸‹ï¼š 12Account = make_account_class()print(Account[\"get\"](\"interest\")) è¯¥è°ƒç”¨è¿‡ç¨‹ï¼šmakeclass.get_value(\"interest\") =&gt; makeclass.attributes[\"interest\"] åœ¨å®Œæˆç±»çš„åˆ›å»ºåï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è®¿é—®classå­—å…¸çš„newæˆå‘˜ï¼Œå°†å…¶å½“ä½œå‡½æ•°æ¥è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1jim_acc = Account[\"new\"](\"Jim\") è°ƒç”¨è¿‡ç¨‹:makeclass.new(\"Jim\") =&gt; init_instance(makeclass.cls,\"Jim\") =&gt; make_account_class.__init__(make_instance(cls),\"Jim\") åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œä»¥ä»¥ä¸‹å½¢å¼è°ƒç”¨ï¼š 1print(jim_acc[\"get\"](\"deposit\")(20)) ä»–ä¼šå…ˆä»å¯¹è±¡çš„å­—å…¸ä¸­å¯»æ‰¾depositï¼Œæ‰¾ä¸åˆ°åˆ™åœ¨ç±»ä¸­æ‰¾åˆ°depositæ–¹æ³•ï¼Œå¹¶ä¸”è°ƒç”¨ç±»çš„depositæ–¹æ³•ï¼Œå‚æ•°ä¸ºè¯¥å¯¹è±¡ä¸è°ƒç”¨æ—¶å€™è¾“å…¥çš„å‚æ•°ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ç»§æ‰¿ï¼Œçœ‹çœ‹ç»§æ‰¿æ˜¯å¦‚ä½•å®ç°çš„ï¼š 1234def make_different_account_class(): def withdraw(selfinstance, amount): return Account['get'](\"withdraw\")(selfinstance,amount+1) return make_class({\"withdraw\":withdraw,\"interest\":0.01},Account) æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªAccountå­ç±»ï¼Œå¤ç”¨äº†é‡Œé¢çš„æ‰€æœ‰æ–¹æ³•ï¼Œæ”¹å†™äº†withdrawæ–¹æ³•ä½¿å¾—æ‰£é’±ä¼šå¤šä¸€å—é’±ã€‚ è¿™å°±æ˜¯å®ç°ç±»ä¸å¯¹è±¡çš„åŸºæœ¬æ€è·¯ã€‚ æ³›ç”¨æ–¹æ³•æ¥å£ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ¥å£æ¥å®ç°æŠ½è±¡ã€‚è´Ÿæ•°åœ¨è¡¨ç¤ºæ—¶å€™å¯ä»¥ç”¨è§’åº¦è¡¨ç¤ºä¹Ÿå¯ä»¥ç”¨å®æ•°è¡¨ç¤ºï¼Œä»¥ä¸‹åŠ æ³•å¯ä»¥åè°ƒä¸¤ç§ä¸åŒè¡¨ç¤ºæ³•ï¼š 12345def add_complex(z1,z2): return ComplexRI(z1.real+z2.real,z1.img+z2.img)def mul_complex(z1,z2): return ComplexMA(z1.mag * z2.mag, z1.ang + z2.ang) åªè¦ä¸¤ä¸ªç±»éƒ½å®šä¹‰äº†å¯¹åº”å±æ€§ï¼Œå°±å¯ä»¥ç›¸åŠ ã€‚è¿™é‡Œå¼•å…¥@propertyè£…é¥°å™¨ï¼Œä½¿ç”¨è¯¥è£…é¥°å™¨å¯ä»¥å½“å±æ€§ç›´æ¥è°ƒç”¨ï¼Œè€Œä¸ç”¨æ‰“æ‹¬å·ã€‚ä¹Ÿå‡å°‘äº†é‡å¤å­˜å‚¨çš„éº»çƒ¦ã€‚ä¸¤ä¸ªç±»å®šä¹‰å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233class ComplexRI(): def __init__(self,real,img) -&gt; None: self.real = real self.img = img @property def mag(self): return (self.real ** 2 + self.img ** 2) ** 0.5 @property def ang(self): return atan2(self.img,self.real) def __repr__(self) -&gt; str: return \"ComlexRI ({0},{1})\".format(self.real,self.img) class ComplexMA(): def __init__(self,mag,ang): self.mag = mag self.ang = ang @property def real(self): return self.mag*cos(self.ang) @property def img(self): return self.mag*sin(self.ang) def __repr__(self) -&gt; str: return \"ComplexMA({0},{1})\".format(self.mag,self.ang) è¿™æ ·å°±ç®€å•åœ°å®ç°äº†å¤ç”¨ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ç”¨pythonçš„ç‰¹æ®Šæ–¹æ³•ï¼Œæ¥å®ç°è¿ç®—ç¬¦çš„ä½¿ç”¨ï¼Œåªè¦åˆ†åˆ«å®šä¹‰å¦‚ä¸‹å‡ è¡Œï¼š 1234ComplexRI.__add__ = lambda self, other: add_complex(self, other)ComplexMA.__add__ = lambda self, other: add_complex(self, other)ComplexRI.__mul__ = lambda self, other: mul_complex(self, other)ComplexMA.__mul__ = lambda self, other: mul_complex(self, other) è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åŠ æ³•è¿ç®—ç¬¦å’Œä¹˜æ³•è¿ç®—ç¬¦ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­typeæ¥å®ç°è·¨ç±»å‹çš„åŠ æ³•è¿ç®—å®šåˆ¶ã€‚ä¹Ÿå¯ä»¥å°†å…¶å°è£…èµ·æ¥ï¼Œå®ç°ä¸€ä¸ªå­—å…¸ï¼ŒæŒ‰ç…§å­—å…¸æŸ¥æ‰¾å¯¹åº”çš„åŠ æ³•è¿ç®—ã€‚ ç¬¬ä¸‰ç«  è®¡ç®—æœºç¨‹åºçš„æ„é€ å’Œè§£é‡ŠTODO document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/sicp-in-python%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"Hackthonå®æˆ˜ â€”â€”ç»éªŒä¸æ•™è®­","text":"å½“å¯¹è‡ªå·±çš„çœŸå®å®åŠ›æ²¡æœ‰çœŸæ­£çš„è®¤è¯†ï¼ŒæœŸæœ›ä¾¿æˆä¸ºäº†è´Ÿæ‹…ã€‚æœ¬æ–‡æ˜¯ä¸€ç¯‡éšç¬”ï¼Œè®°å½•ä¸æ€»ç»“æˆ‘ä¸ªäººåœ¨ç¬¬ä¸€æ¬¡å‚åŠ hackthonä¹‹åçš„ç»éªŒä¸æ•™è®­ã€‚ çºªå®æœ¬æ¬¡å‚åŠ äº†åå¸ˆæœ¨çŠ€ä¸¾åŠçš„hackthonï¼Œæœ¬æ¥æ˜¯è¿‡å»å½“ç›‘å·¥çš„ï¼Œçªå‘å¥‡æƒ³å‚åŠ äº†åå¸ˆæœ¨çŠ€å›¢é˜Ÿæå‡ºçš„é¡¹ç›®ã€‚äº§å“æå‡ºäº†ä¸€ä¸ªæ¸¸æˆï¼šä½¿ç”¨pygameå®ç°ä¸€ä¸ªç”±è®¡æ—¶å™¨è§¦å‘åŠ¨ç”»ï¼Œç‚¹å‡»äº‹ä»¶çš„æ¸¸æˆã€‚ é¡¹ç›®æœ¬èº«ç†è§£ä¸Šå¹¶æ²¡æœ‰å¤šå°‘å›°éš¾ï¼Œä½†åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¤§éƒ¨åˆ†å¼€å‘ç”±æˆ‘æ¥å®Œæˆï¼Œç¨‹åºè®¾è®¡ä¹Ÿç”±æˆ‘æ¥å®Œæˆã€‚æ²¡æœ‰å…·ä½“çš„æµç¨‹å›¾ï¼ŒåŸå‹å›¾ä¹‹ç±»çš„ï¼Œè¿™äº›ä¹Ÿåœ¨åæ¥å¼€å‘æ—¶å½±å“äº†æ•ˆç‡ï¼Œæ²¡èƒ½æ˜ç¡®æ€è·¯ã€‚ å®šä¹‰å‡½æ•°å¹¶ä¸æ˜¯ä¸€ä»¶éš¾äº‹ï¼Œä½†éš¾äº‹åœ¨äºæ•°æ®çš„è®¾è®¡ä¸Šã€‚æ•°æ®çš„è®¾è®¡æœ€åˆæ˜¯å¤§é‡çš„ç¡¬ç¼–ç å˜é‡åä»¥åŠå¤§é‡å…¨å±€å˜é‡ï¼Œå‡½æ•°è®¾è®¡æå…¶ä¸åˆç†ï¼Œå‚æ•°åŸºæœ¬ä¸ä¼ é€’ï¼Œé€šè¿‡ç±»å†…æˆå‘˜ä¼ é€’ã€‚è™½ç„¶åœ¨å®é™…æ•ˆç‡ä¸Šå¯èƒ½æœ‰æ‰€æé«˜ï¼Œä½†å¯¹äºå¼€å‘è€Œè¨€åˆ™æ˜¯æŠ˜ç£¨ã€‚äº‹å®ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåœ¨å®é™…å¼€å‘çš„è¿‡ç¨‹ä¸­å¤§æ‰¹é‡å¤åˆ¶ç²˜è´´ä»£ç ï¼Œæå…¶å½±å“å¼€å‘æ•ˆç‡ã€‚è¿™ä¸ªé—®é¢˜è®©æˆ‘åœ¨å…¥å¤œæ—¶å€™å†³å®šé‡æ„ä¸€éƒ¨åˆ†ï¼Œè‡³å°‘å°†ç¡¬ç¼–ç å˜é‡æ›¿æ¢ä¸ºå­—å…¸é”®å€¼å¯¹ï¼ŒèŠ‚çœäº†æ‰“å­—çš„æ—¶é—´ã€‚ä½†å¯¹äºæ€»ä½“é€»è¾‘ï¼Œæœ€åè¿˜æ²¡æœ‰å¾ˆå¥½åœ°è§£å†³ã€‚ä»£ç æ²¡æœ‰å¾ˆå¥½åœ°å¤ç”¨ä»è€Œå¢åŠ äº†å·¥æœŸï¼Œæ˜¯è¿™æ¬¡hackthonç»™æˆ‘å¸¦æ¥çš„æœ€æ·±åˆ»çš„å°è±¡ã€‚ ä½“ä¼šå½“24å°æ—¶çš„é™åˆ¶åœ¨çœ¼å‰é€¼è¿‘ï¼Œæœ€ä¸ºç…ç†¬çš„å¾€å¾€ä¸æ˜¯ç†¬å¤œçš„èº«ä½“ï¼Œè€Œæ˜¯ç²¾ç¥çŠ¶æ€ã€‚â€œå¯¹æœªæ¥æ­£ç¡®çš„æœŸæœ›â€æ˜¯ä¸€é¡¹å®è´µçš„èƒ½åŠ›ï¼Œè¿™éœ€è¦çš„ä¸ä»…æ˜¯ä¸“ä¸šçŸ¥è¯†ï¼Œæ›´éœ€è¦é¡¹ç›®ç®¡ç†çš„ç»éªŒã€‚å¯¹å·¥æœŸæ­£ç¡®è¯„ä¼°æ˜¯å›°éš¾çš„ï¼Œè€Œè¿™ä»½å›°éš¾åœ¨é¢ä¸´è¿«è¿‘çš„ddlæ—¶å€™ä¼šåŒ–ä¸ºç—›è‹¦ã€‚ â€œè½¯ä»¶é¡¹ç›®å¹³å¸¸çœ‹ä¼¼å•çº¯è€Œç‡ç›´ï¼Œä½†å¾ˆå¯èƒ½ä¸€è½¬çœ¼å°±å˜æˆä¸€åªæ—¶ç¨‹å»¶è¯¯ï¼Œé¢„ç®—è¶…æ”¯ï¼Œäº§å“å……æ»¡ç‘•ç–µçš„æ€ªå…½ã€‚â€ã€Šæ²¡æœ‰é“¶å¼¹ã€‹çš„è¿™å¥è¯ï¼Œå¾€å¾€éœ€è¦å®è·µæ‰èƒ½ç†è§£ï¼Œè¿™éœ€è¦ä¸ä»…ç«™åœ¨é¡¹ç›®ç®¡ç†è€…çš„è§†è§’ï¼Œè¿˜è¦ç«™åœ¨è½¯ä»¶å¼€å‘è€…çš„è§†è§’ä¸Šå»çœ‹å¾…ã€‚å¦‚ä½•å¯¹é¡¹ç›®è¿›åº¦è¿›è¡Œè¯„ä¼°ï¼Œä¸ä»…æ˜¯ä¼ä¸šé¡¹ç›®ç®¡ç†ï¼Œä¹Ÿæ˜¯ä¸ªäººå¼€å‘è€…éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚ â€œè¿›åº¦â€ï¼Œæœ€ä¸ºç®€å•çš„è§£é‡Šä¾¿æ˜¯å†™å®Œäº†å¤šå°‘ï¼Œè¿˜å‰©å¤šå°‘æ²¡æœ‰å†™å®Œã€‚å¯¹äºå°‘é‡ä¸”é€»è¾‘æ˜ç¡®çš„ä»£ç å¯ä»¥å¦‚æ­¤è¿›è¡Œè¯„ä¼°ã€‚ä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿˜éœ€è¦çœ‹å·²ç»å®Œæˆçš„éƒ¨åˆ†æ˜¯å¦æ˜“äºæ·»åŠ ä¸æ‰©å±•ï¼Œæœªå®Œæˆçš„éƒ¨åˆ†æ˜¯å¦ä¸å·²å®Œæˆçš„éƒ¨åˆ†æœ‰ç€ç›¸åŒçš„é€»è¾‘ï¼Œèƒ½å¦å¤ç”¨ï¼Œè¿™äº›æ˜¯ç«™åœ¨å¼€å‘è€…è§’åº¦æ‰èƒ½è®¤è¯†åˆ°çš„ã€‚æ‰€è°“â€œæœ¬è´¨æ€§å·¥ä½œâ€ï¼Œå°±æ˜¯å°†æŠ½è±¡ç†å¿µå®ç°å®Œæˆè®¾è®¡ã€‚å°†è®¾è®¡ç”¨ä»£ç è¡¨è¾¾å‡ºæ¥ä»…ä»…æ˜¯â€œæ¬¡è¦æ€§å·¥ä½œâ€ã€‚å‰è€…éœ€è¦è‰¯å¥½çš„è®¾è®¡ï¼Œè€Œè‰¯å¥½çš„è®¾è®¡éœ€è¦ä¸°å¯Œçš„ç»éªŒæ¥æŒ‡å¯¼ã€‚åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œâ€œè®¾è®¡â€æ˜¯ä¼šå­˜åœ¨ç¼ºé™·çš„ï¼Œæœ€ç®€å•çš„æ¯”å¦‚å°‘ä¼ äº†ä¸ªæ•°æ®åŠŸèƒ½æ— æ³•å®Œæˆï¼Œè¿™æ—¶å€™éœ€è¦å¯¹è®¾è®¡â€œæ‰“è¡¥ä¸â€æˆ–è€…é‡æ–°è¿›è¡Œè®¾è®¡ã€‚æ¯«æ— ç–‘é—®ï¼Œå‰è€…æ˜¯ä»£ä»·è¾ƒä¸ºä½çš„æ‹“å±•æ–¹æ³•ï¼Œä½†ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¡¥ä¸çš„ç§¯ç´¯ä¼šå¯¼è‡´ä»£ç å˜å¾—æå…¶åŠ£è´¨ä¸å ªï¼Œä»è€Œé™ä½å¼€å‘æ•ˆç‡ã€‚å¹¶éæ‰€æœ‰çš„è¡¥ä¸éƒ½èƒ½å¾ˆå¥½å…¼å®¹ï¼Œæ‰“è¡¥ä¸åŒæ ·ä¹Ÿéœ€è¦å¯¹ä»£ç çš„è®¾è®¡æœ‰æ‰€ç»éªŒï¼Œè¡¥ä¸ä¹Ÿæ˜¯ä»£ç ï¼Œä¹Ÿéœ€è¦è€ƒè™‘å¯æ‰©å±•æ€§ï¼Œä¹Ÿéœ€è¦è€ƒè™‘å…¼å®¹æ€§ã€‚å½“è¡¥ä¸å¤šåˆ°æœ€åä¸å¾—ä¸é‡æ–°è®¾è®¡æ—¶å€™ï¼Œå™©æ¢¦æ‰çœŸæ­£åœ°å¼€å§‹ã€‚ äººç±»çš„æ€ç»´æ˜¯æŠ½è±¡çš„ï¼Œå…·è±¡åŒ–æ˜¯äººç±»ä»å¤è‡³ä»Šéƒ½æ²¡èƒ½å¾ˆå¥½è§£å†³çš„é—®é¢˜ã€‚äººä¸äººä¹‹é—´éœ€è¦æ²Ÿé€šï¼Œè¿™è¯ç”Ÿäº†è¯­è¨€ï¼Œä½†è¯­è¨€åŒæ ·ä¹Ÿæ˜¯æŠ½è±¡çš„ï¼ŒäºŒäººçš„çŸ¥è¯†å«é‡ä¸å¯¹ç­‰åŒæ ·ä¼šå¼•èµ·è¯¯è§£ã€‚ä½†å¯¹äºäººç±»è€Œè¨€ï¼Œè¨€è¯­çš„ä¸äº’é€šåœ¨å°ç¨‹åº¦åªä¼šå¼•èµ·è¯¯è§£ï¼Œå¤§å°ºåº¦ä¸Šåˆ™ä¼šå¼•èµ·æˆ˜äº‰ã€‚ç¼–ç¨‹è¯­è¨€ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æœºå™¨éš¾ä»¥ç†è§£äººç±»æŠ½è±¡çš„æ€ç»´ï¼Œäººç±»éš¾ä»¥å°†æŠ½è±¡çš„æ€ç»´å…·è±¡åŒ–ï¼Œå°å°ºåº¦æ˜¯ç‘•ç–µï¼Œå¤§å°ºåº¦åˆ™æ˜¯æ€ªå…½ï¼Œå¼•èµ·é‡å¤§çš„ç»æµæŸå¤±ã€‚åŒæ ·ï¼Œå°±äººç±»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå¤±è¯¯æ˜¯éš¾ä»¥æ¸…é™¤çš„ï¼Œåªèƒ½å¤Ÿå°½é‡å›é¿ã€‚è¿™è¯ç”Ÿäº†è½¯ä»¶å·¥ç¨‹å­¦ï¼Œä»¥å·¥ç¨‹å­¦çš„æ–¹æ³•å»åº”å¯¹ï¼Œæ’æŸ¥ï¼Œè§£å†³äººè‡ªèº«æ‰€çŠ¯è¿‡çš„é”™è¯¯ï¼Œå¹¶ä¸”åˆ†æç³»ç»Ÿï¼Œè®¾è®¡ç³»ç»Ÿï¼Œè§£è€¦ç³»ç»Ÿï¼Œä½¿å¾—é¡¹ç›®èƒ½å¤Ÿä»¥æ›´å¥½åœ°ï¼Œå¤±è¯¯æ›´å°‘çš„æ–¹æ³•è¢«å¼€å‘ã€‚ ä½†å·¥ç¨‹å­¦æœ¬èº«å°±æ˜¯è¾ƒä¸ºåäººæ€§çš„ã€‚å·¥ç¨‹å­¦æ„å‘³ç€å¼€å‘å—åˆ°é™åˆ¶ï¼Œäººçš„åˆ›é€ æ€§æ€ç»´è¢«é™åˆ¶ï¼Œéš¾ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„æ–¹æ³•å»å¼€å‘ï¼Œäººæˆä¸ºäº†ç”Ÿäº§åŠ›ã€‚è¿™ä¸€ç‚¹æˆ‘è®¤ä¸ºå€¼å¾—å•†è®¨ã€‚å¼€å‘ç©¶ç«Ÿæ˜¯åˆ›é€ æ€§å·¥ä½œè¿˜æ˜¯é‡å¤æ€§å·¥ä½œï¼Œæˆ‘è®¤ä¸ºæ›´åŠ åå‘åè€…ï¼Œåˆ›é€ æ€§å¼€å‘å®¹æ˜“é™·å…¥è‡ªèº«æ€ç»´çš„é™·é˜±ï¼Œè¢«è‡ªèº«çš„æ€ç»´æ‰€å®³ï¼Œä¾‹å¦‚æ„è¯†å½“å·¥ä½œè¿›å±•ä¸€åŠæ—¶å€™å‘ç°éš¾ä»¥å®Œæˆï¼Œè®¤è¯†åˆ°è‡ªèº«æ€ç»´çš„ç¼ºé™·ï¼Œè¿™æ—¶å€™åœ¨å·¥ç¨‹è¿›åº¦ä¸Šåˆ™éš¾ä»¥ç€è½ã€‚å·¥ç¨‹åŒ–æ–¹æ³•è™½ç„¶é™åˆ¶ï¼Œä¸å°‘ä¸œè¥¿å¦‚UMLï¼Œæµç¨‹å›¾ï¼Œç”Ÿå‘½å‘¨æœŸå›¾ï¼Œåœ¨å°é¡¹ç›®æƒ…å†µä¸‹æ˜¾å¾—é¢‡ä¸ºå†—ä½™ï¼Œä½†å¯¹å¼€å‘çš„å®é™…æŒ‡å¯¼ä½œç”¨è¿˜æ˜¯èµ·çš„åˆ°çš„ã€‚ ä¸‡äº‹ä¸‡ç‰©éƒ½åœ¨è¿½æ±‚ç€å¹³è¡¡ï¼Œè½¯ä»¶å¼€å‘ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä»å¤§å°ºåº¦æ¥è®²éœ€è¦è°ƒæ•´ç»è´¹ï¼Œäººå‘˜ï¼Œå·¥æœŸæ¥å®ç°æ•ˆç‡æå‡ï¼Œä»å°å°ºåº¦æ¥è®²æ¯”å¦‚é‡æ„è¿˜æ˜¯è¡¥ä¸ï¼Œå¯æ‰©å±•æ€§è¿˜æ˜¯å¼€å‘æ•ˆç‡ï¼Œäººå‘˜ç²¾ç¥çŠ¶æ€ä¸å·¥ä½œæ—¶é•¿ï¼Œè¿™äº›éƒ½æ˜¯éœ€è¦è€ƒè™‘çš„ã€‚ æ•æ·å¼€å‘å¿«é€Ÿè¿­ä»£æˆä¸ºäº†æœ€è¿‘ç›¸å½“å¸¸è§çš„åè¯ï¼Œä½†åœ¨å®é™…æ„ä¹‰ä¸Šè®²ï¼Œå¿«é€Ÿè¿­ä»£ä¸ä¸€å®šæ•ˆç‡æ›´å¥½ã€‚å¿«é€Ÿè¿­ä»£æ„å‘³ç€éœ€è¦å¯¹ä¸šåŠ¡è¿›è¡Œå¾ˆå¥½åœ°åˆ‡åˆ†ï¼Œå‡å°‘è¿­ä»£ç‰ˆæœ¬ä¹‹é—´çš„ç›¸äº’å½±å“ï¼Œè€Œä¸æˆç†Ÿçš„åˆ‡åˆ†å¿«æ„å‘³ç€éœ€è¦å®Œæˆçš„éƒ¨åˆ†å‹‰å¼ºå¯è¡Œï¼Œè€Œéœ€è¦æ‰©å±•çš„éƒ¨åˆ†å¾ˆéš¾é¡¾åŠåˆ°ã€‚è™½ç„¶å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œå¿«é€Ÿè¿­ä»£èƒ½å¤Ÿå¸¦æ¥æˆå°±æ„Ÿï¼Œå¯¹äºå‰å‡ ä¸ªå·¥æœŸèƒ½å¤Ÿå¾ˆå¥½å®ç°ï¼Œå¢å¼ºä¿¡å¿ƒï¼Œä½†è¿˜æ˜¯å’Œå¼€å‘äººå‘˜æ°´å¹³ç›¸å…³ã€‚ é¢å‘å¯¹è±¡ç°åœ¨å·²ç»æˆä¸ºäº†æœ€ä¸ºåŸºæœ¬çš„æ€æƒ³ï¼Œä½†æˆ‘è‡ªå·±åœ¨å¼€å‘è¿‡ç¨‹ä¸­å´æ²¡æœ‰ç”¨åˆ°ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘éœ€è¦åæ€çš„ä¸€éƒ¨åˆ†ã€‚åœ¨å®é™…å†™ä»£ç å°†é¢å‘å¯¹è±¡æŠ›åœ¨è„‘åï¼Œç°åœ¨æ‰æƒ³åˆ°åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ç”¨åˆ°ã€‚è¿™åœ¨å°†æ¥å¼€å‘ä¹Ÿæ˜¯éœ€è¦åæ€çš„ä¸€ç‚¹ã€‚è™½ç„¶æˆ‘ä¸çŸ¥é“ç”¨é¢å‘å¯¹è±¡æ”¹å†™çš„æ•ˆç‡æ˜¯å¦ä¼šæ›´é«˜ï¼Œè¿™éœ€è¦è¿›ä¸€æ­¥çš„å®è·µï¼Œä½†ç°åœ¨å®ƒæˆä¸ºäº†æˆ‘è®¾è®¡ç³»ç»Ÿä¸å¼€å‘è¿‡ç¨‹ä¸­çš„è€ƒè™‘ã€‚ è¿™æ¬¡hackthonä¸»è¦æ„Ÿå—å°±æ˜¯å¦‚æ­¤ï¼Œæœ€åäº¤ä»˜çš„äº§å“å¹¶æ²¡æœ‰è¾¾åˆ°é¢„æœŸï¼Œæ‹¥æœ‰å¾ˆå¤šç‘•ç–µï¼Œä»…ä»…ä¸ºå¯è¡Œçš„ç¨‹åº¦ï¼Œæˆ‘è‡ªå·±éœ€è¦åæ€è¿™ä¸€ç‚¹ã€‚å¯¹äºå­¦ä¹ åˆ°çš„ç¼–ç¨‹æ€æƒ³éœ€è¦åœ¨å°†æ¥è¿›è¡Œæ›´å¥½åœ°å®è·µï¼Œè¿™éœ€è¦ç»éªŒï¼Œéœ€è¦ä»£ç é‡ã€‚è¿™æ¬¡ä¹Ÿç®—æ˜¯å¯¹â€œè½¯ä»¶å±æœºâ€æœ‰äº†è‡ªå·±çš„ç†è§£ã€‚ å†™äº†ä¸ªéšç¬”ï¼Œè§‚ç‚¹ä¸ä¸€å®šå¯¹ï¼Œå„ä½çœ‹å®˜çœ‹ä¸ªä¹å‘µå³å¯ã€‚ document.querySelectorAll('.not-gallery-item') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/Science/hackthon%E5%AE%9E%E6%88%98-%E2%80%94%E2%80%94%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%95%99%E8%AE%AD/"}],"tags":[{"name":"è¯—å¥","slug":"è¯—å¥","link":"/tags/%E8%AF%97%E5%8F%A5/"},{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","link":"/tags/%E7%BC%96%E7%A8%8B/"},{"name":"åŸºç¡€","slug":"åŸºç¡€","link":"/tags/%E5%9F%BA%E7%A1%80/"},{"name":"Introduction","slug":"Introduction","link":"/tags/Introduction/"},{"name":"ACM","slug":"ACM","link":"/tags/ACM/"},{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","link":"/tags/%E6%A8%A1%E6%9D%BF/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","link":"/tags/%E7%BD%91%E7%BB%9C/"},{"name":"C++","slug":"C","link":"/tags/C/"},{"name":"C++Primer","slug":"C-Primer","link":"/tags/C-Primer/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"python","slug":"python","link":"/tags/python/"},{"name":"é¢å‘é¢è¯•ç¼–ç¨‹","slug":"é¢å‘é¢è¯•ç¼–ç¨‹","link":"/tags/%E9%9D%A2%E5%90%91%E9%9D%A2%E8%AF%95%E7%BC%96%E7%A8%8B/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/tags/%E7%AE%97%E6%B3%95/"},{"name":"å¼€å‘","slug":"å¼€å‘","link":"/tags/%E5%BC%80%E5%8F%91/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"å®¹å™¨åŒ–","slug":"å®¹å™¨åŒ–","link":"/tags/%E5%AE%B9%E5%99%A8%E5%8C%96/"},{"name":"ç¼–è¯‘åŸç†","slug":"ç¼–è¯‘åŸç†","link":"/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/"},{"name":"GO","slug":"GO","link":"/tags/GO/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","link":"/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"},{"name":"React","slug":"React","link":"/tags/React/"},{"name":"Gaman","slug":"Gaman","link":"/tags/Gaman/"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","link":"/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"name":"è½¯ä»¶å·¥ç¨‹","slug":"è½¯ä»¶å·¥ç¨‹","link":"/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"},{"name":"åšé¢˜å®¶","slug":"åšé¢˜å®¶","link":"/tags/%E5%81%9A%E9%A2%98%E5%AE%B6/"},{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","link":"/tags/%E6%B1%87%E7%BC%96/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","link":"/tags/%E5%AE%89%E5%85%A8/"},{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","link":"/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"}],"categories":[{"name":"Romance","slug":"Romance","link":"/categories/Romance/"},{"name":"Science","slug":"Science","link":"/categories/Science/"},{"name":"Ego","slug":"Ego","link":"/categories/Ego/"},{"name":"Gaman","slug":"Gaman","link":"/categories/Gaman/"}]}